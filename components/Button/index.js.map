{"version":3,"sources":["components/Button/index.js"],"names":["Button","props","_mounted","state","disabled","setState","onClick","className","children","tooltip","dataSign","realDisabled","styles","root","Component","propTypes","PropTypes","string","bool","func","node","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,M;;;;;AAqBnB,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,gFAAMA,KAAN;AADiB,UAFnBC,QAEmB,GAFR,KAEQ;AAEjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE;AADC,KAAb;AAFiB;AAKlB;;;;wCAEmB;AAClB,WAAKF,QAAL,GAAgB,IAAhB;AACD;;;2CAEsB;AACrB,WAAKA,QAAL,GAAgB,KAAhB;AACD;;;;;;;;kBAGM,KAAKA,Q;;;;;;;;AAGV,mBAAKG,QAAL,CAAc;AACZD,gBAAAA,QAAQ,EAAE;AADE,eAAd;;8CAIM,KAAKH,KAAL,CAAWK,OAAX,E;;;AAEN,kBAAI,KAAKJ,QAAT,EAAmB;AACjB,qBAAKG,QAAL,CAAc;AACZD,kBAAAA,QAAQ,EAAE;AADE,iBAAd;AAGD;;;;;;;;;;;6BAGM;AAAA;;AAAA,wBACsD,KAAKH,KAD3D;AAAA,UACCM,SADD,eACCA,SADD;AAAA,UACYH,QADZ,eACYA,QADZ;AAAA,UACsBI,QADtB,eACsBA,QADtB;AAAA,UACgCC,OADhC,eACgCA,OADhC;AAAA,UACyCC,QADzC,eACyCA,QADzC;AAGP,UAAMC,YAAY,GAAGP,QAAQ,IAAI,KAAKD,KAAL,CAAWC,QAA5C;AAEA,aACE;AACE,qBAAWM,QADb;AAEE,QAAA,SAAS,EAAE,4BACTH,SADS,EAETK,mBAAOC,IAFE,EAGTF,YAAY,IAAIC,mBAAOR,QAHd,CAFb;AAOE,QAAA,OAAO,EAAEO,YAAY,GAAG,IAAH,GAAU;AAAA,iBAAM,MAAI,CAACL,OAAL,EAAN;AAAA,SAPjC;AAQE,QAAA,KAAK,EAAEG;AART,SAUGD,QAVH,CADF;AAcD;;;;EAxEiCM,gB;;;AAAfd,M,CACZe,S,GAAY;AACjBR,EAAAA,SAAS,EAAES,sBAAUC,MADJ;AAEjBR,EAAAA,OAAO,EAAEO,sBAAUC,MAFF;AAGjBb,EAAAA,QAAQ,EAAEY,sBAAUE,IAHH;AAIjBZ,EAAAA,OAAO,EAAEU,sBAAUG,IAJF;AAKjBX,EAAAA,QAAQ,EAAEQ,sBAAUI,IALH;AAMjBV,EAAAA,QAAQ,EAAEM,sBAAUC;AANH,C;AADAjB,M,CAUZqB,Y,GAAe;AACpBd,EAAAA,SAAS,EAAEe,SADS;AAEpBb,EAAAA,OAAO,EAAE,EAFW;AAGpBL,EAAAA,QAAQ,EAAE,KAHU;AAIpBE,EAAAA,OAAO,EAAEgB,SAJW;AAKpBd,EAAAA,QAAQ,EAAEc,SALU;AAMpBZ,EAAAA,QAAQ,EAAEY;AANU,C","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styles from './styles.scss';\n\nexport default class Button extends Component {\n  static propTypes = {\n    className: PropTypes.string,\n    tooltip: PropTypes.string,\n    disabled: PropTypes.bool,\n    onClick: PropTypes.func,\n    children: PropTypes.node,\n    dataSign: PropTypes.string,\n  };\n\n  static defaultProps = {\n    className: undefined,\n    tooltip: '',\n    disabled: false,\n    onClick: undefined,\n    children: undefined,\n    dataSign: undefined,\n  };\n\n  _mounted = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      disabled: false,\n    };\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  async onClick() {\n    if (!this._mounted) {\n      return;\n    }\n    this.setState({\n      disabled: true,\n    });\n\n    await this.props.onClick();\n\n    if (this._mounted) {\n      this.setState({\n        disabled: false,\n      });\n    }\n  }\n\n  render() {\n    const { className, disabled, children, tooltip, dataSign } = this.props;\n\n    const realDisabled = disabled || this.state.disabled;\n\n    return (\n      <div\n        data-sign={dataSign}\n        className={classnames(\n          className,\n          styles.root,\n          realDisabled && styles.disabled,\n        )}\n        onClick={realDisabled ? null : () => this.onClick()}\n        title={tooltip}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n"],"file":"index.js"}