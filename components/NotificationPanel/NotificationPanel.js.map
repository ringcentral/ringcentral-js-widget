{"version":3,"sources":["components/NotificationPanel/NotificationPanel.tsx"],"names":["NotificationPanel","messages","className","exitAnimation","entranceAnimation","duration","rest","currentMessages","setCurrentMessages","timer","setTimer","length","forEach","cm","some","m","id","animation","timerId","setTimeout","clearTimeout","styles","root","map","message","i","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AACA;;AAEA;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeO,IAAMA,iBAAuD,GAAG,SAA1DA,iBAA0D,OAOjE;AAAA,MANJC,QAMI,QANJA,QAMI;AAAA,MALJC,SAKI,QALJA,SAKI;AAAA,MAJJC,aAII,QAJJA,aAII;AAAA,MAHJC,iBAGI,QAHJA,iBAGI;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADDC,IACC;;AAAA,kBAC0C,qBAASL,QAAT,CAD1C;AAAA;AAAA,MACGM,eADH;AAAA,MACoBC,kBADpB;;AAAA,mBAGsB,qBAAS,IAAT,CAHtB;AAAA;AAAA,MAGGC,KAHH;AAAA,MAGUC,QAHV;;AAKJ,wBAAU,YAAM;AACd;AACA,QAAIH,eAAe,CAACI,MAAhB,GAAyBV,QAAQ,CAACU,MAAtC,EAA8C;AAC5CJ,MAAAA,eAAe,CAACK,OAAhB,CAAwB,UAACC,EAAD,EAAQ;AAC9B;AACA,YAAI,CAACZ,QAAQ,CAACa,IAAT,CAAc,UAACC,CAAD;AAAA,iBAAOA,CAAC,CAACC,EAAF,KAASH,EAAE,CAACG,EAAnB;AAAA,SAAd,CAAL,EAA2C;AACzCH,UAAAA,EAAE,CAACI,SAAH,GAAed,aAAf;AACD,SAFD,MAEO;AACLU,UAAAA,EAAE,CAACI,SAAH,GAAe,EAAf;AACD;AACF,OAPD;AASAT,MAAAA,kBAAkB,oBAAKD,eAAL,EAAlB;;AAEA,UAAIF,QAAQ,GAAG,CAAf,EAAkB;AAChB,YAAMa,OAAO,GAAGC,UAAU,CAAC,YAAM;AAC/BX,UAAAA,kBAAkB,CAACP,QAAD,CAAlB;AACD,SAFyB,EAEvBI,QAFuB,CAA1B;AAIAK,QAAAA,QAAQ,CAACQ,OAAD,CAAR;AACD;AACF,KAnBD,MAmBO;AACL,UAAIT,KAAJ,EAAW;AACTW,QAAAA,YAAY,CAACX,KAAD,CAAZ;AACD;;AACDD,MAAAA,kBAAkB,CAACP,QAAD,CAAlB;AACD;AACF,GA3BD,EA2BG,CAACA,QAAD,CA3BH;AA6BA,SACE;AAAK,IAAA,SAAS,EAAE,4BAAWoB,mBAAOC,IAAlB,EAAwBpB,SAAxB;AAAhB,KACGK,eAAe,CAACgB,GAAhB,CAAoB,UAACC,OAAD,EAAUC,CAAV,EAAgB;AAAA;;AACnC,WACE,gCAAC,kCAAD,eACMnB,IADN;AAEE,MAAA,OAAO,EAAEkB,OAFX;AAGE,MAAA,QAAQ,EAAEnB,QAHZ;AAIE,MAAA,SAAS,wBAAEmB,OAAO,CAACP,SAAV,mEAAuBb,iBAJlC;AAKE,MAAA,GAAG,EAAEqB;AALP,OADF;AASD,GAVA,CADH,CADF;AAeD,CAxDM;;;AA0DPzB,iBAAiB,CAAC0B,YAAlB,GAAiC;AAC/BtB,EAAAA,iBAAiB,EAAE,YADY;AAE/BD,EAAAA,aAAa,EAAE,WAFgB;AAG/BE,EAAAA,QAAQ,EAAE;AAHqB,CAAjC","sourcesContent":["import 'animate.css/animate.min.css';\n\nimport classNames from 'classnames';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport {\n  NotificationItem,\n  NotificationItemProps,\n  NotificationMessage,\n} from './NotificationItem';\nimport styles from './styles.scss';\n\nexport type NotificationProps = {\n  messages: NotificationMessage[];\n  exitAnimation?: string;\n  entranceAnimation: string;\n\n  dismiss: (id: string) => void;\n\n  className: string;\n  currentLocale: string;\n\n  brand: string;\n} & NotificationItemProps;\n\nexport const NotificationPanel: FunctionComponent<NotificationProps> = ({\n  messages,\n  className,\n  exitAnimation,\n  entranceAnimation,\n  duration,\n  ...rest\n}) => {\n  const [currentMessages, setCurrentMessages] = useState(messages);\n\n  const [timer, setTimer] = useState(null);\n\n  useEffect(() => {\n    // if length is gratter means that is delete item.\n    if (currentMessages.length > messages.length) {\n      currentMessages.forEach((cm) => {\n        // if that can't find this id, that means that is delete\n        if (!messages.some((m) => m.id === cm.id)) {\n          cm.animation = exitAnimation;\n        } else {\n          cm.animation = '';\n        }\n      });\n\n      setCurrentMessages([...currentMessages]);\n\n      if (duration > 0) {\n        const timerId = setTimeout(() => {\n          setCurrentMessages(messages);\n        }, duration);\n\n        setTimer(timerId);\n      }\n    } else {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      setCurrentMessages(messages);\n    }\n  }, [messages]);\n\n  return (\n    <div className={classNames(styles.root, className)}>\n      {currentMessages.map((message, i) => {\n        return (\n          <NotificationItem\n            {...rest}\n            message={message}\n            duration={duration}\n            animation={message.animation ?? entranceAnimation}\n            key={i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nNotificationPanel.defaultProps = {\n  entranceAnimation: 'fadeInDown',\n  exitAnimation: 'fadeOutUp',\n  duration: 500,\n};\n"],"file":"NotificationPanel.js"}