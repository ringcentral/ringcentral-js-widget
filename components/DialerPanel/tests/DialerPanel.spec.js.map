{"version":3,"sources":["components/DialerPanel/tests/DialerPanel.spec.tsx"],"names":["mockAudio","window","HTMLMediaElement","prototype","play","Promise","resolve","describe","wrapper","getCallButton","find","at","getDeleteButton","last","afterEach","unmount","toNumber","desc","forEach","it","dialout","jest","fn","recipientsInput","RcDialTextField","callButton","expect","prop","toBe","simulate","toBeCalled","setToNumber","eventObj","target","value","toBeCalledWith","getDialButtonDisabled","render","attr","dialButtonDisabled","undefined","deleteButton","exists","toBeFalsy","toBeTruthy","dialoutStatus","not","hangup","goToManualDialSettings","manualDialSettings","container","typingIcons","key","i","button","querySelector","fireEvent","mouseDown","mouseUp","useFakeTimers","advanceTimersByTime","slice"],"mappings":"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","sourcesContent":["import {\n  fireEvent,\n  render,\n} from '@ringcentral-integration/test-utils/lib/test-utils';\nimport { RcDialPad, RcDialTextField } from '@ringcentral/juno';\nimport { ReactWrapper } from 'enzyme';\nimport React from 'react';\nimport { act } from 'react-dom/test-utils';\n\nimport { DialoutStatusesType } from '../../../enums/dialoutStatus';\nimport { DialerPanel } from '../DialerPanel';\nimport { createDialerPanel } from './createDialerPanel';\n\nconst mockAudio = () => {\n  window.HTMLMediaElement.prototype.play = () => {\n    return new Promise((resolve) => {\n      resolve();\n    });\n  };\n};\n\nmockAudio();\n\ndescribe('<DialerPanel />', () => {\n  let wrapper: ReactWrapper;\n\n  const getCallButton = () => wrapper.find('[data-sign=\"callButton\"]').at(0);\n  const getDeleteButton = () =>\n    wrapper.find('button[data-sign=\"deleteButton\"]').last();\n\n  afterEach(async () => {\n    wrapper.unmount();\n  });\n\n  [\n    { toNumber: '', desc: 'with no number filled' },\n    { toNumber: '6508652493', desc: 'without number filled' },\n  ].forEach(({ toNumber, desc }) => {\n    it(`Default state of dialpad(${desc}): Call Button be highlighted and can be clicked to dialout`, () => {\n      const dialout = jest.fn(() => {});\n      wrapper = createDialerPanel({ toNumber, dialout });\n      const recipientsInput = wrapper.find(RcDialTextField).at(0);\n      const callButton = getCallButton();\n      expect(recipientsInput.prop('value')).toBe(toNumber);\n      expect(callButton.prop('color')).toBe('success.b03');\n      expect(callButton.prop('data-icon')).toBe('answer');\n      callButton.simulate('click');\n      expect(dialout).toBeCalled();\n    });\n  });\n\n  it('User can manually input numbers in the recipientsInput', async () => {\n    const toNumber = '';\n    const setToNumber = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, setToNumber });\n    const recipientsInput = wrapper.find(RcDialTextField).at(0);\n    const eventObj = { target: { value: '1243' } };\n    recipientsInput.find('input').at(0).simulate('change', eventObj);\n    expect(setToNumber).toBeCalledWith('1243');\n  });\n\n  it('dialButtonDisabled can set dial button disable attribute', () => {\n    const getDialButtonDisabled = () =>\n      getCallButton().render().attr('disabled');\n\n    wrapper = createDialerPanel({ dialButtonDisabled: true });\n    expect(getDialButtonDisabled()).toBe('disabled');\n\n    wrapper = createDialerPanel({ dialButtonDisabled: false });\n    expect(getDialButtonDisabled()).toBe(undefined);\n  });\n\n  it('Delete button show switch', async () => {\n    wrapper = createDialerPanel({ toNumber: '' });\n    let deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeFalsy();\n\n    wrapper = createDialerPanel({ toNumber: '6508652493' });\n    deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeTruthy();\n  });\n\n  it(`Dialpad is not allowed to dialout in the state of dialing`, async () => {\n    const toNumber = '6508652493';\n    const dialoutStatus = 'dialing' as DialoutStatusesType;\n    const dialout = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, dialout, dialoutStatus });\n    const callButton = getCallButton();\n    expect(callButton.prop('data-icon')).toBe('hand-up');\n    callButton.simulate('click');\n    expect(dialout).not.toBeCalled();\n  });\n\n  it(`User can hangup a call in the state of callConnected`, async () => {\n    const toNumber = '6508652493';\n    const dialoutStatus = 'callConnected' as DialoutStatusesType;\n    const dialout = jest.fn(() => {});\n    const hangup = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, dialout, hangup, dialoutStatus });\n    const callButton = getCallButton();\n    expect(callButton.prop('data-icon')).toBe('hand-up');\n    callButton.simulate('click');\n    expect(dialout).not.toBeCalled();\n    expect(hangup).toBeCalled();\n  });\n\n  it('User clicks manualDialSettings', () => {\n    const goToManualDialSettings = jest.fn(() => {});\n    wrapper = createDialerPanel({ goToManualDialSettings });\n    const manualDialSettings = wrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    manualDialSettings.simulate('click');\n    expect(goToManualDialSettings).toBeCalled();\n  });\n});\n\ndescribe('<DialerPanel />', () => {\n  it(\"User can use digit virtual keyboard to input numbers, and press zero for 1 second will typing '+'\", async () => {\n    const toNumber = '1234';\n    const setToNumber = jest.fn(() => {});\n    const { container } = render(\n      <DialerPanel\n        currentLocale=\"en-US\"\n        dialout={() => {}}\n        toNumber={toNumber}\n        size=\"small\"\n        dialButtonDisabled={false}\n        hasDialer\n        setToNumber={setToNumber}\n        goToManualDialSettings={() => {}}\n        dialoutStatus=\"idle\"\n        hangup={() => {}}\n      />,\n    );\n\n    const typingIcons = [\n      '1',\n      '2',\n      '3',\n      '4',\n      '5',\n      '6',\n      '7',\n      '8',\n      '9',\n      '*',\n      '0',\n      '#',\n    ];\n\n    typingIcons.forEach((key, i) => {\n      const button = container.querySelector(`[data-dial-button=\"${key}\"]`);\n      fireEvent.mouseDown(button);\n      fireEvent.mouseUp(button);\n      expect(setToNumber).toBeCalledWith(`${toNumber}${typingIcons[i]}`);\n    });\n\n    jest.useFakeTimers();\n    const button = container.querySelector(`[data-dial-button=\"0\"]`);\n    fireEvent.mouseDown(button);\n    await act(async () => {\n      jest.advanceTimersByTime(1100);\n    });\n    fireEvent.mouseUp(button);\n\n    expect(setToNumber).toBeCalledWith('1234+');\n  });\n  it('Click Delete Button', async () => {\n    const toNumber = '6508652493';\n    const setToNumber = jest.fn(() => {});\n\n    const { container } = render(\n      <DialerPanel\n        currentLocale=\"en-US\"\n        dialout={() => {}}\n        toNumber={toNumber}\n        size=\"small\"\n        dialButtonDisabled={false}\n        hasDialer\n        setToNumber={setToNumber}\n        goToManualDialSettings={() => {}}\n        dialoutStatus=\"idle\"\n        hangup={() => {}}\n      />,\n    );\n    const deleteButton = container.querySelector('button');\n\n    fireEvent.mouseDown(deleteButton);\n    fireEvent.mouseUp(deleteButton);\n\n    expect(setToNumber).toBeCalledWith(toNumber.slice(0, -1));\n  });\n\n  it('Long press Delete Button', async () => {\n    jest.useFakeTimers();\n    const toNumber = '6508652493';\n    const setToNumber = jest.fn(() => {});\n\n    const { container } = render(\n      <DialerPanel\n        currentLocale=\"en-US\"\n        dialout={() => {}}\n        toNumber={toNumber}\n        size=\"small\"\n        dialButtonDisabled={false}\n        hasDialer\n        setToNumber={setToNumber}\n        goToManualDialSettings={() => {}}\n        dialoutStatus=\"idle\"\n        hangup={() => {}}\n      />,\n    );\n    const deleteButton = container.querySelector('button');\n\n    fireEvent.mouseDown(deleteButton);\n\n    await act(async () => {\n      jest.advanceTimersByTime(1100);\n      // here will hidden deleteButton when clear toNumber, so we don't need mouseUp\n      // deleteButton.simulate('mouseUp');\n    });\n    expect(setToNumber).toBeCalledWith('');\n  });\n});\n"],"file":"DialerPanel.spec.js"}