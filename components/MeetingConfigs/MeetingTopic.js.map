{"version":3,"sources":["components/MeetingConfigs/MeetingTopic.tsx"],"names":["MeetingTopic","update","currentLocale","meeting","that","styles","inline","label","i18n","getString","ref","topic","event","target","value","preventDefault","clipboardData","items","getAsString","data","isOverLength","length","MAX_TOPIC_LENGTH","positionStart","selectionStart","positionEnd","selectionEnd","select","restLength","isOver","insertText","slice","split","splice","join","newPosition","setSelectionRange","input","clearTimeout","topicSetTimeoutId","setTimeout"],"mappings":"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","sourcesContent":["import 'react-widgets/dist/css/react-widgets.css';\n\nimport React, { FunctionComponent } from 'react';\n\nimport MeetingSection from '../MeetingSection';\nimport { MAX_TOPIC_LENGTH } from './constants';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ninterface TopicProps {\n  update: (...args: any[]) => any;\n  currentLocale: string;\n  meeting: any;\n  that: any;\n}\n\nconst MeetingTopic: FunctionComponent<TopicProps> = ({\n  update,\n  currentLocale,\n  meeting,\n  that,\n}) => (\n  <MeetingSection hideTopBorderLine>\n    <div className={styles.inline}>\n      <span className={styles.label}>\n        {i18n.getString('topic', currentLocale)}\n      </span>\n      <input\n        ref={(ref) => {\n          that.topic = ref;\n        }}\n        onPaste={(event) => {\n          const topic = event.target.value;\n          event.preventDefault();\n          event.clipboardData.items[0].getAsString((data) => {\n            const isOverLength =\n              topic.length >= 0 && topic.length <= MAX_TOPIC_LENGTH;\n            const positionStart = that.topic.selectionStart;\n            const positionEnd = that.topic.selectionEnd;\n            const select = positionEnd - positionStart;\n            const restLength = MAX_TOPIC_LENGTH - topic.length + select;\n            const isOver = isOverLength && restLength > 0;\n            if (isOver) {\n              const isOverLength = restLength >= data.length;\n              const insertText = isOverLength\n                ? data\n                : data.slice(0, !isOver ? select : restLength);\n              const value = topic.split('');\n              value.splice(positionStart, select, insertText);\n              that.topic.value = value.join('');\n              const newPosition = positionStart + insertText.length;\n              that.topic.setSelectionRange(newPosition, newPosition);\n            }\n            update({\n              ...meeting,\n              topic: that.topic.value,\n            });\n          });\n        }}\n        type=\"text\"\n        className={styles.input}\n        defaultValue={meeting.topic || ''}\n        onChange={({ target }) => {\n          const topic = target.value;\n          if (topic.length >= 0 && topic.length <= MAX_TOPIC_LENGTH) {\n            clearTimeout(that.topicSetTimeoutId);\n            that.topicSetTimeoutId = setTimeout(() => {\n              update({\n                ...meeting,\n                topic,\n              });\n            }, 10);\n          } else {\n            target.value = meeting.topic || '';\n          }\n        }}\n        data-sign=\"scheduleMeetingTopic\"\n      />\n    </div>\n  </MeetingSection>\n);\nexport { MeetingTopic as Topic };\n"],"file":"MeetingTopic.js"}