{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","ActiveCallPad","props","moreButton","dropdown","onClick","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","val","controlBusy","buttons","push","isOnMute","icon","MuteIcon","id","dataSign","title","i18n","getString","currentLocale","disabled","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","layout","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","showRipple","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","noAccess","onStopRecord","onRecord","disabledTransfer","TransferIcon","onTransfer","disabledFlip","disableFlip","FlipIcon","onFlip","actions","length","moreActions","styles","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","className","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","propTypes","PropTypes","string","isRequired","bool","func","array","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport { pickElements } from './utils';\n\nimport MoreActionItem from './MoreActionItem';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl',\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this::this.onClick;\n    this.toggleMore = this::this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const {\n        dom: { current },\n      } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target) &&\n        !this.moreButton.current.contains(e.target) &&\n        this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState((prevState) => ({\n      expandMore: !prevState.expandMore,\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n\n    let showUpdate = false;\n\n    for (const p in nextProps) {\n      if (nextProps::Object.prototype.hasOwnProperty(p)) {\n        const val = nextProps[p];\n\n        if (val !== this.props[p] && typeof val !== 'function') {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n\n  render() {\n    const { controlBusy } = this.props;\n\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(\n      this.props.isOnMute\n        ? {\n            icon: MuteIcon,\n            id: ACTIONS_CTRL_MAP.muteCtrl,\n            dataSign: 'mute',\n            title: i18n.getString('unmute', this.props.currentLocale),\n            disabled: this.props.isOnHold || controlBusy,\n            onClick: this.props.onUnmute,\n          }\n        : {\n            icon: UnmuteIcon,\n            id: ACTIONS_CTRL_MAP.muteCtrl,\n            dataSign: 'unmute',\n            title: i18n.getString('mute', this.props.currentLocale),\n            disabled: this.props.isOnHold || controlBusy,\n            onClick: this.props.onMute,\n          },\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push({\n      icon: KeypadIcon,\n      id: ACTIONS_CTRL_MAP.keypadCtrl,\n      dataSign: 'keypad',\n      title: i18n.getString('keypad', this.props.currentLocale),\n      onClick: this.props.onShowKeyPad,\n      disabled: this.props.layout === callCtrlLayouts.conferenceCtrl,\n    });\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push({\n      icon: HoldIcon,\n      id: ACTIONS_CTRL_MAP.holdCtrl,\n      iconWidth: 120,\n      iconHeight: 160,\n      iconX: 190,\n      iconY: 165,\n      dataSign: this.props.isOnHold ? 'onHold' : 'hold',\n      title: this.props.isOnHold\n        ? i18n.getString('onHold', this.props.currentLocale)\n        : i18n.getString('hold', this.props.currentLocale),\n      active: this.props.isOnHold,\n      onClick: this.props.isOnHold ? this.props.onUnhold : this.props.onHold,\n      disabled: controlBusy,\n    });\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge =\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl &&\n          this.props.hasConferenceCall);\n      buttons.push(\n        showMerge\n          ? {\n              icon: MergeIcon,\n              id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n              dataSign: 'merge',\n              title: i18n.getString(\n                'mergeToConference',\n                this.props.currentLocale,\n              ),\n              disabled: this.props.mergeDisabled || controlBusy,\n              onClick: this.props.onMerge,\n              showRipple: !this.props.mergeDisabled,\n            }\n          : {\n              icon: CombineIcon,\n              id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n              dataSign: 'add',\n              title: i18n.getString('add', this.props.currentLocale),\n              disabled: this.props.addDisabled || controlBusy,\n              onClick: this.props.onAdd,\n            },\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push({\n      icon: RecordIcon,\n      id: ACTIONS_CTRL_MAP.recordCtrl,\n      dataSign:\n        this.props.recordStatus === recordStatus.recording\n          ? 'stopRecord'\n          : 'record',\n      title:\n        this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n      active: this.props.recordStatus === recordStatus.recording,\n      disabled:\n        this.props.isOnHold ||\n        this.props.recordStatus === recordStatus.pending ||\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        this.props.recordStatus === recordStatus.noAccess ||\n        controlBusy,\n      onClick:\n        this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n    });\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = this.props.layout !== callCtrlLayouts.normalCtrl;\n    buttons.push({\n      icon: TransferIcon,\n      id: ACTIONS_CTRL_MAP.transferCtrl,\n      dataSign: 'transfer',\n      title: i18n.getString('transfer', this.props.currentLocale),\n      disabled: disabledTransfer || controlBusy,\n      onClick: this.props.onTransfer,\n    });\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip =\n      this.props.disableFlip ||\n      this.props.isOnHold ||\n      this.props.layout !== callCtrlLayouts.normalCtrl;\n    buttons.push({\n      icon: FlipIcon,\n      id: ACTIONS_CTRL_MAP.flipCtrl,\n      dataSign: 'flip',\n      title: i18n.getString('flip', this.props.currentLocale),\n      disabled: disabledFlip || controlBusy,\n      onClick: this.props.onFlip,\n    });\n\n    // filter actions\n    const { actions } = this.props;\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span className={styles.moreButtonContainer} ref={this.moreButton}>\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={(disabledFlip && disabledTransfer) || controlBusy}\n            icon={MoreIcon}\n            dataSign=\"callActions\"\n          />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}\n          >\n            <div className={styles.buttonPopup}>\n              {buttons.slice(DisplayButtonNumber - 1).map(({ id, ...opts }) => (\n                <MoreActionItem key={id} {...opts} />\n              ))}\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    const isLessBtn = buttons.length <= 3 && moreActions === null;\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div\n          className={classnames(\n            styles.callCtrlButtonGroup,\n            isLessBtn && styles.biggerButton,\n          )}\n        >\n          <div className={styles.buttonRow}>\n            {buttons\n              .slice(0, DisplayButtonNumber - (moreActions ? 1 : 0))\n              .map((opts) => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))}\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={classnames(\n                styles.stopButton,\n                controlBusy && styles.disabled,\n              )}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n              dataSign=\"hangup\"\n              disabled={controlBusy}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onFlip: PropTypes.func.isRequired,\n  onTransfer: PropTypes.func.isRequired,\n  disableFlip: PropTypes.bool,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n  actions: PropTypes.array,\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  disableFlip: false,\n  actions: [],\n};\n\nexport default ActiveCallPad;\n"],"file":"index.js"}