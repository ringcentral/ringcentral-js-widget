{"version":3,"sources":["components/CallLogFields/CallLogFields.tsx"],"names":["DEFAULT_INPUT_SAVE_TIMEOUT","CallLogFields","debonce","renderFields","props","currentLog","customLogFields","isAutoSave","currentLogCall","call","task","onSaveCallLog","onSave","id","sort","a","b","map","fieldOption","i","styles","callLogFieldsSection","Component","defaultProps","fieldSize","onUpdateCallLog","undefined","customInputDataStruct","subjectDropdownsTracker","startAdornmentRender"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAGA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,0BAA0B,GAAG,GAAnC;;IAEqBC,a;;;;;;;;;;;;;;;;;UAWnBC,O,GAAU,6DAAkBF,0BAAlB,C;;UAEVG,Y,GAAe,YAAM;AAAA,wBASf,MAAKC,KATU;AAAA,8CAEjBC,UAFiB;AAAA,UAGfC,eAHe,yBAGfA,eAHe;AAAA,UAIGC,UAJH,yBAIfC,cAJe,CAIGD,UAJH;AAAA,UAKfE,IALe,yBAKfA,IALe;AAAA,yDAMfC,IANe;AAAA,UAMfA,IANe,uCAMR,EANQ;AAAA,UAQjBC,aARiB,eAQjBA,aARiB;;AAUnB,UAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,eAAML,UAAU,IAAIG,IAAI,CAACG,EAAnB,IAAyBF,aAAa,CAACF,IAAD,CAA5C;AAAA,OAAf;;AACA,aAAOH,eAAe,CACnBQ,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACD,IAAF,GAASE,CAAC,CAACF,IAArB;AAAA,OADD,EAEJG,GAFI,CAEA,UAACC,WAAD,EAAcC,CAAd,EAAoB;AACvB,eACE,gCAAC,oBAAD,eACM,MAAKf,KADX;AAEE,UAAA,WAAW,EAAEc,WAFf;AAGE,UAAA,OAAO,EAAE,MAAKhB,OAHhB;AAIE,uBAAU,cAJZ;AAKE,UAAA,GAAG,kBAAWiB,CAAX,CALL;AAME,UAAA,MAAM,EAAEP,MANV;AAOE,UAAA,OAAO,EAAEZ;AAPX,WADF;AAWD,OAdI,CAAP;AAeD,K;;;;;;;6BAEQ;AAAA,UACCK,UADD,GACgB,KAAKD,KADrB,CACCC,UADD;;AAEP,UAAI,CAACA,UAAU,CAACK,IAAhB,EAAsB;AACpB,eAAO,IAAP;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAEU,mBAAOC;AAAvB,SAA8C,KAAKlB,YAAL,EAA9C,CADF;AAGD;;;;EAjDwCmB,gB;;;AAAtBrB,a,CACZsB,Y,GAA4C;AACjDC,EAAAA,SAAS,EAAE,OADsC;AAEjDnB,EAAAA,UAAU,EAAE,EAFqC;AAGjDoB,EAAAA,eAAe,EAAEC,SAHgC;AAIjDf,EAAAA,aAAa,EAAEe,SAJkC;AAKjDC,EAAAA,qBAAqB,EAAED,SAL0B;AAMjDE,EAAAA,uBAAuB,EAAEF,SANwB;AAOjDG,EAAAA,oBAAoB,EAAE;AAAA,WAAM,IAAN;AAAA;AAP2B,C","sourcesContent":["import React, { Component } from 'react';\n\nimport { bindDebonce } from '../../lib/bindDebonce';\nimport { Task } from '../CallLogPanel';\nimport { CallLogFieldsProps } from './CallLogFields.interface';\nimport { FieldItem } from './FieldItem/FieldItem';\nimport styles from './styles.scss';\n\nconst DEFAULT_INPUT_SAVE_TIMEOUT = 2e3;\n\nexport default class CallLogFields extends Component<CallLogFieldsProps, {}> {\n  static defaultProps: Partial<CallLogFieldsProps> = {\n    fieldSize: 'small',\n    currentLog: {},\n    onUpdateCallLog: undefined,\n    onSaveCallLog: undefined,\n    customInputDataStruct: undefined,\n    subjectDropdownsTracker: undefined,\n    startAdornmentRender: () => null,\n  };\n\n  debonce = bindDebonce(this, DEFAULT_INPUT_SAVE_TIMEOUT);\n\n  renderFields = () => {\n    const {\n      currentLog: {\n        customLogFields,\n        currentLogCall: { isAutoSave },\n        call,\n        task = {} as Task,\n      },\n      onSaveCallLog,\n    } = this.props;\n    const onSave = () => isAutoSave && task.id && onSaveCallLog(call);\n    return customLogFields\n      .sort((a, b) => a.sort - b.sort)\n      .map((fieldOption, i) => {\n        return (\n          <FieldItem\n            {...this.props}\n            fieldOption={fieldOption}\n            debonce={this.debonce}\n            data-sign=\"callLogField\"\n            key={`field-${i}`}\n            onSave={onSave}\n            timeout={DEFAULT_INPUT_SAVE_TIMEOUT}\n          />\n        );\n      });\n  };\n\n  render() {\n    const { currentLog } = this.props;\n    if (!currentLog.task) {\n      return null;\n    }\n    return (\n      <div className={styles.callLogFieldsSection}>{this.renderFields()}</div>\n    );\n  }\n}\n"],"file":"CallLogFields.js"}