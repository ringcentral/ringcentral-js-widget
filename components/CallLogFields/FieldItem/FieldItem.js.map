{"version":3,"sources":["components/CallLogFields/FieldItem/FieldItem.tsx"],"names":["DEFAULT_FINDER","getValue","item","id","searchOption","option","text","name","toLowerCase","includes","appDefaultValue","FieldItem","fieldItemRef","props","fieldRef","React","createRef","renderReference","fieldOption","label","value","currentDisabled","disabled","fieldOnChange","onChange","onSave","onSelectViewVisible","contactSearch","currentLog","startAdornmentRender","referenceFieldOptions","currentLocale","showFoundFromServer","task","phoneNumber","currentLogCall","referenceFieldOption","console","warn","getLabel","_getValue","metadata","rightIconRender","matchedEntitiesGetter","otherEntitiesGetter","associatedEntitiesGetter","shouldShowAssociatedSection","shouldDisable","disableReason","currentOptionFinder","_searchOptionFinder","searchOptionFinder","foundFromServerEntityGetter","onBackClick","backHeaderClassName","matchedEntities","otherEntities","foundFromServerEntities","showAssociatedSection","associatedEntities","currentOption","find","title","rightIcon","undefined","currentValue","length","placeholder","valueField","args","helperText","renderInput","type","required","_updateValue","renderTextArea","error","renderDatePicker","fieldValue","fieldSize","date","timeStamp","onInputSelectChange","renderSubjectField","subjectPicklist","subjectDropdownsTracker","timeout","subject","renderSelectMenu","picklistOptions","propsDisabled","selectList","map","Object","target","renderRadio","options","tickets","defaultOption","onRadioChange","event","onUpdateCallLog","currentSessionId","ticketId","renderTicketSelectList","renderCondition","ticket","defaultValue","root","styles","ticketSelectList","onSelectChange","customInputDataStruct","defaultLogData","isSaved","logData","fieldsRenderMap","reference","picklist","textarea","string","integer","combobox","radio","debounce","enableScrollError","editSectionScrollBy","current","offsetTop","row","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAOA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG;AACrBC,EAAAA,QAAQ,EAAE,kBAACC,IAAD;AAAA,WAAe,CAAC,QAAOA,IAAP,MAAgB,QAAhB,GAA2BA,IAAI,CAACC,EAAhC,GAAqCD,IAAtC,KAA+C,IAA9D;AAAA,GADW;AAErBE,EAAAA,YAAY,EAAE,sBAACC,MAAD,EAAcC,IAAd;AAAA,WACZD,MAAM,CAACE,IAAP,IAAeF,MAAM,CAACE,IAAP,CAAYC,WAAZ,GAA0BC,QAA1B,CAAmCH,IAAI,CAACE,WAAL,EAAnC,CADH;AAAA;AAFO,CAAvB;AAMA,IAAME,eAAe,GAAG,QAAxB;;IAUaC,S;;;;;;;;;;;;;;;UAYXC,Y,GAAe,MAAKC,KAAL,CAAWC,QAAX,iBAAuBC,kBAAMC,SAAN,E;;UAG9BC,e,GAAkB,YAAM;AAAA,wBAW1B,MAAKJ,KAXqB;AAAA,8CAE5BK,WAF4B;AAAA,UAG1BC,KAH0B,yBAG1BA,KAH0B;AAAA,UAI1BC,KAJ0B,yBAI1BA,KAJ0B;AAAA,UAKhBC,eALgB,yBAK1BC,QAL0B;AAAA,UAMhBC,aANgB,yBAM1BC,QAN0B;AAAA,UAQ5BC,MAR4B,eAQ5BA,MAR4B;AAAA,UAS5BC,mBAT4B,eAS5BA,mBAT4B;AAAA,UAU5BC,aAV4B,eAU5BA,aAV4B;AAAA,yBAkB1B,MAAKd,KAlBqB;AAAA,UAa5Be,UAb4B,gBAa5BA,UAb4B;AAAA,UAc5BC,oBAd4B,gBAc5BA,oBAd4B;AAAA,UAe5BC,qBAf4B,gBAe5BA,qBAf4B;AAAA,UAgB5BC,aAhB4B,gBAgB5BA,aAhB4B;AAAA,UAiB5BC,mBAjB4B,gBAiB5BA,mBAjB4B;AAAA,UAoB5BC,IApB4B,GAsB1BL,UAtB0B,CAoB5BK,IApB4B;AAAA,UAqBVC,WArBU,GAsB1BN,UAtB0B,CAqB5BO,cArB4B,CAqBVD,WArBU;AAuB9B,UAAME,oBAAoB,GAAGN,qBAAqB,CAACV,KAAD,CAAlD;;AACA,UAAI,CAACgB,oBAAL,EAA2B;AACzBC,QAAAA,OAAO,CAACC,IAAR,6BACsBlB,KADtB;AAGA;AACD;;AA7B6B,UA+B5BmB,QA/B4B,GA+C1BH,oBA/C0B,CA+B5BG,QA/B4B;AAAA,UAgClBC,SAhCkB,GA+C1BJ,oBA/C0B,CAgC5BnC,QAhC4B;AAAA,UAiC5BuB,QAjC4B,GA+C1BY,oBA/C0B,CAiC5BZ,QAjC4B;AAAA,kCA+C1BY,oBA/C0B,CAkC5BK,QAlC4B;AAAA,UAkC5BA,QAlC4B,sCAkCjB,EAlCiB;AAAA,UAmC5BC,eAnC4B,GA+C1BN,oBA/C0B,CAmC5BM,eAnC4B;AAAA,UAoC5BC,qBApC4B,GA+C1BP,oBA/C0B,CAoC5BO,qBApC4B;AAAA,UAqC5BC,mBArC4B,GA+C1BR,oBA/C0B,CAqC5BQ,mBArC4B;AAAA,UAsC5BC,wBAtC4B,GA+C1BT,oBA/C0B,CAsC5BS,wBAtC4B;AAAA,UAuC5BC,2BAvC4B,GA+C1BV,oBA/C0B,CAuC5BU,2BAvC4B;AAAA,mCA+C1BV,oBA/C0B,CAwC5BW,aAxC4B;AAAA,UAwC5BA,aAxC4B,uCAwCZ;AAAA,eAAM,KAAN;AAAA,OAxCY;AAAA,mCA+C1BX,oBA/C0B,CAyC5BY,aAzC4B;AAAA,UAyC5BA,aAzC4B,uCAyCZ,EAzCY;AAAA,UA0C5BC,mBA1C4B,GA+C1Bb,oBA/C0B,CA0C5Ba,mBA1C4B;AAAA,UA2CRC,mBA3CQ,GA+C1Bd,oBA/C0B,CA2C5Be,kBA3C4B;AAAA,UA4C5BC,2BA5C4B,GA+C1BhB,oBA/C0B,CA4C5BgB,2BA5C4B;AAAA,UA6C5BC,WA7C4B,GA+C1BjB,oBA/C0B,CA6C5BiB,WA7C4B;AAAA,UA8C5BC,mBA9C4B,GA+C1BlB,oBA/C0B,CA8C5BkB,mBA9C4B;AAgD9B,UAAMC,eAAe,GAAGZ,qBAAqB,CAACf,UAAD,CAA7C;AACA,UAAM4B,aAAa,GAAGZ,mBAAmB,CAAChB,UAAD,CAAzC;AAEA,UAAM6B,uBAAuB,GAC3B,OAAOL,2BAAP,KAAuC,UAAvC,GACIA,2BAA2B,CAACxB,UAAD,CAD/B,GAEI,EAHN;AAIA,UAAM8B,qBAAqB,GAAGZ,2BAA2B,GACrDA,2BAA2B,CAAClB,UAAD,CAD0B,GAErD,KAFJ;AAGA,UAAM+B,kBAAkB,GACtBD,qBAAqB,IAAIb,wBAAzB,GACIA,wBAAwB,CAACjB,UAAD,CAD5B,GAEI,EAHN;AAIA,UAAM3B,QAAQ,GAAGuC,SAAS,IAAIxC,cAAc,CAACC,QAA7C;AACA,UAAMkD,kBAAkB,GACtBD,mBAAmB,IAAIlD,cAAc,CAACI,YADxC;AAEA,UAAMwD,aAAa,GAAG,6BACjBL,eADiB,sBAEjBC,aAFiB,sBAGjBG,kBAHiB,sBAIjBF,uBAJiB,GAKpBI,IALoB,CAKfZ,mBAAmB,CAAChB,IAAD,CALJ,CAAtB;AAMA,UAAMX,QAAQ,GAAGD,eAAe,IAAI0B,aAAa,CAACd,IAAD,CAAjD;AACA,UAAM6B,KAAK,GAAGrB,QAAQ,CAACqB,KAAT,IAAkB3C,KAAhC;AACA,UAAM4C,SAAS,GAAGrB,eAAe,GAC7BA,eAAe,CAACR,WAAD,CADc,GAE7B8B,SAFJ;AAIA,UAAMC,YAAY,GAChB1B,QAAQ,CAACqB,aAAD,EAAgBL,eAAe,CAACW,MAAhC,EAAwCtC,UAAxC,CAAR,IAA+D,EADjE;AAGA,0BACE,gCAAC,gCAAD,eACM,MAAKf,KADX;AAEE,QAAA,mBAAmB,EAAEyC,mBAFvB;AAGE,QAAA,WAAW,EAAED,WAHf;AAIE,QAAA,KAAK,EAAES,KAJT;AAKE,QAAA,SAAS,EAAEC,SALb;AAME,QAAA,WAAW,EAAEtB,QAAQ,CAAC0B,WANxB;AAOE,QAAA,OAAO,EAAEZ,eAPX;AAQE,QAAA,YAAY,EAAEC,aARhB;AASE,QAAA,iBAAiB,EAAEG,kBATrB;AAUE,QAAA,qBAAqB,EAAED,qBAVzB;AAWE,QAAA,cAAc,EAAE7B,oBAXlB;AAYE,QAAA,KAAK,EAAET,KAZT;AAaE,QAAA,KAAK,EAAGa,IAAD,CAAcQ,QAAQ,CAAC2B,UAAvB,KAAsC,EAb/C;AAcE,QAAA,QAAQ;AAAA,6EAAE,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACF7C,QAAQ,CAAC,MAAKX,KAAN,CAAR,CAAqBwD,IAArB,CADE;;AAAA;AAAA;AAAA,2BAEF5C,MAAM,EAFJ;;AAAA;AAGR,wBAAIF,aAAJ,EAAmBA,aAAa,CAAC8C,IAAD,CAAb;;AAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;AAAA,WAdV;AAmBE,QAAA,mBAAmB,EAAE3C,mBAnBvB;AAoBE,QAAA,aAAa,EAAEzB,QApBjB;AAqBE,QAAA,cAAc,EAAEsC,QArBlB;AAsBE,QAAA,YAAY,EAAEY,kBAtBhB;AAuBE,QAAA,QAAQ,EAAE7B,QAvBZ;AAwBE,QAAA,aAAa,EAAES,aAxBjB;AAyBE,QAAA,uBAAuB,EAAE0B,uBAzB3B;AA0BE,QAAA,aAAa,EAAE9B,aA1BjB;AA2BE,QAAA,mBAAmB,EAAEK,mBA3BvB;AA4BE,QAAA,cAAc,EAAE;AACdsC,UAAAA,UAAU,EAAEtB,aADE;AAEd5B,UAAAA,KAAK,EAAE6C;AAFO;AA5BlB,SADF;AAmCD,K;;UAEOM,W,GAAc,YAAM;AAAA,yBAItB,MAAK1D,KAJiB;AAAA,+CAExBK,WAFwB;AAAA,UAETC,KAFS,yBAETA,KAFS;AAAA,UAEFC,KAFE,yBAEFA,KAFE;AAAA,UAEKoD,IAFL,yBAEKA,IAFL;AAAA,UAEWC,QAFX,yBAEWA,QAFX;AAAA,UAGxBhD,MAHwB,gBAGxBA,MAHwB;AAK1B,0BACE,gCAAC,8BAAD;AACE,QAAA,KAAK,EAAEN,KADT;AAEE,QAAA,IAAI,EAAEqD,IAAI,KAAK,QAAT,GAAoB,MAApB,GAA6B,QAFrC;AAGE,QAAA,QAAQ,EAAEC,QAHZ;AAIE,QAAA,WAAW,EAAEtD,KAJf;AAKE,QAAA,KAAK,EAAE,MAAK8C,YAAL,IAAqB,EAL9B;AAME,qBAAW7C,KANb;AAOE,QAAA,QAAQ,EAAE,kBAACiD,IAAD;AAAA,iBAAe,MAAKK,YAAL,CAAkBtD,KAAlB,EAAyBiD,IAAzB,EAA+B5C,MAA/B,CAAf;AAAA;AAPZ,QADF;AAWD,K;;UAEOkD,c,GAAiB,YAAM;AAAA,yBAIzB,MAAK9D,KAJoB;AAAA,+CAE3BK,WAF2B;AAAA,UAEZC,KAFY,yBAEZA,KAFY;AAAA,UAELC,KAFK,yBAELA,KAFK;AAAA,UAEEwD,KAFF,yBAEEA,KAFF;AAAA,UAESN,UAFT,yBAESA,UAFT;AAAA,UAEqBG,QAFrB,yBAEqBA,QAFrB;AAAA,UAE+BjD,SAF/B,yBAE+BA,QAF/B;AAAA,UAG3BC,MAH2B,gBAG3BA,MAH2B;AAK7B,0BACE,gCAAC,8BAAD;AACE,QAAA,KAAK,EAAEN,KADT;AAEE,QAAA,QAAQ,EAAEsD,QAFZ;AAGE,QAAA,KAAK,EAAEG,KAHT;AAIE,QAAA,UAAU,EAAEN,UAJd;AAKE,QAAA,WAAW,EAAEnD,KALf;AAME,qBAAWC,KANb;AAOE,QAAA,SAAS,MAPX;AAQE,QAAA,KAAK,EAAE,MAAK6C,YAAL,IAAqB,EAR9B;AASE,QAAA,QAAQ,EAAE,kBAAC3D,IAAD,EAAe;AACvB,gBAAKoE,YAAL,CAAkBtD,KAAlB,EAAyBd,IAAzB,EAA+BmB,MAA/B;;AACA,cAAID,SAAJ,EAAcA,SAAQ,CAAClB,IAAD,CAAR;AACf;AAZH,QADF;AAgBD,K;;UAEOuE,gB,GAAmB,YAAM;AAAA,yBAI3B,MAAKhE,KAJsB;AAAA,+CAE7BK,WAF6B;AAAA,UAEdC,KAFc,yBAEdA,KAFc;AAAA,UAEA2D,UAFA,yBAEP1D,KAFO;AAAA,UAEYqD,QAFZ,yBAEYA,QAFZ;AAAA,UAG7BhD,MAH6B,gBAG7BA,MAH6B;AAAA,UAKvBsD,SALuB,GAKT,MAAKlE,KALI,CAKvBkE,SALuB;AAM/B,UAAMC,IAAI,GAAG,MAAKf,YAAL,GACT,yCAAkB,MAAKA,YAAvB,CADS,GAET,IAFJ;AAGA,0BACE,gCAAC,kBAAD;AACE,QAAA,SAAS,MADX;AAEE,QAAA,IAAI,EAAEc,SAFR;AAGE,qBAAWD,UAHb;AAIE,QAAA,QAAQ,EAAEL,QAJZ;AAKE,QAAA,KAAK,EAAEtD,KALT;AAME,QAAA,IAAI,EAAE6D,IANR;AAOE,QAAA,QAAQ;AAAA,8EAAE,kBAAO5D,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACF6D,oBAAAA,SADE,GACU7D,KAAK,GAAG,kCAAWA,KAAX,CAAH,GAAuBA,KADtC;AAAA;AAAA,2BAEF,MAAK8D,mBAAL,CAAyBJ,UAAzB,EAAqCG,SAArC,CAFE;;AAAA;AAAA;AAAA,2BAGFxD,MAHE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;AAAA,WAPV;AAYE,QAAA,YAAY,EAAC;AAZf,QADF;AAgBD,K;;UAEO0D,kB,GAAqB,YAAM;AAAA,yBAK7B,MAAKtE,KALwB;AAAA,+CAE/Be,UAF+B;AAAA,UAEjBK,IAFiB,yBAEjBA,IAFiB;AAAA,UAEXmD,eAFW,yBAEXA,eAFW;AAAA,UAG/BC,uBAH+B,gBAG/BA,uBAH+B;AAAA,UAI/BC,OAJ+B,gBAI/BA,OAJ+B;AAAA,yBAS7B,MAAKzE,KATwB;AAAA,+CAO/BK,WAP+B;AAAA,UAOhBuD,QAPgB,yBAOhBA,QAPgB;AAAA,UAONtD,KAPM,yBAONA,KAPM;AAAA,UAQ/BM,MAR+B,gBAQ/BA,MAR+B;AAUjC,0BACE,gCAAC,uBAAD;AACE,QAAA,QAAQ,EAAEgD,QADZ;AAEE,QAAA,eAAe,EAAEW,eAFnB;AAGE,QAAA,OAAO,EAAEnD,IAAI,CAACsD,OAAL,IAAgB,EAH3B;AAIE,QAAA,KAAK,EAAEpE,KAJT;AAKE,QAAA,QAAQ,EAAE,MAAK+D,mBAAL,CAAyB,SAAzB,CALZ;AAME,QAAA,cAAc,EAAEG,uBANlB;AAOE,QAAA,MAAM,EAAE5D,MAPV;AAQE,QAAA,OAAO,EAAE6D;AARX,QADF;AAYD,K;;UAEOE,gB,GAAmB,YAAM;AAAA,yBAc3B,MAAK3E,KAdsB;AAAA,+CAE7BK,WAF6B;AAAA,UAG3BC,KAH2B,yBAG3BA,KAH2B;AAAA,UAIpB2D,UAJoB,yBAI3B1D,KAJ2B;AAAA,UAK3BqE,eAL2B,yBAK3BA,eAL2B;AAAA,UAM3BhB,QAN2B,yBAM3BA,QAN2B;AAAA,UAO3BH,UAP2B,yBAO3BA,UAP2B;AAAA,UAQ3BM,KAR2B,yBAQ3BA,KAR2B;AAAA,UAS3BpD,QAT2B,yBAS3BA,QAT2B;AAAA,yDAU3BF,QAV2B;AAAA,UAUjBoE,aAViB,uCAUD,KAVC;AAAA,UAW3BvB,WAX2B,yBAW3BA,WAX2B;AAAA,UAa7B1C,MAb6B,gBAa7BA,MAb6B;AAgB/B,UAAMkE,UAAU,GAAG,CAACF,eAAe,IAAI,EAApB,EAAwBG,GAAxB,CAA4B,UAAC1F,IAAD,EAAU;AACvD,YAAIkB,KAAa,GAAGlB,IAApB;AACA,YAAIiB,KAAK,GAAGjB,IAAI,KAAK,IAAT,GAAiBA,IAAjB,GAAgCQ,eAA5C;AACA,YAAIY,QAAQ,GAAG,KAAf;;AAEA,YAAIpB,IAAI,YAAY2F,MAApB,EAA4B;AAC1BzE,UAAAA,KAAK,GAAGlB,IAAI,CAACkB,KAAb;AACAD,UAAAA,KAAK,GAAGjB,IAAI,CAACiB,KAAb;AACAG,UAAAA,QAAQ,GAAGpB,IAAI,CAACoB,QAAhB;AACD;;AACD,eAAO;AACLH,UAAAA,KAAK,EAALA,KADK;AAELC,UAAAA,KAAK,EAALA,KAFK;AAGLE,UAAAA,QAAQ,EAARA;AAHK,SAAP;AAKD,OAfkB,CAAnB;AAiBA,0BACE,gCAAC,wBAAD;AACE,qBAAWwD,UADb;AAEE,QAAA,QAAQ,EAAEY,aAFZ;AAGE,QAAA,WAAW,EAAEvB,WAHf;AAIE,QAAA,SAAS,MAJX;AAKE,QAAA,UAAU,EAAEG,UALd;AAME,QAAA,KAAK,EAAEM,KANT;AAOE,QAAA,QAAQ,EAAEH,QAPZ;AAQE,QAAA,KAAK,EAAEtD,KART;AASE,QAAA,KAAK,EAAE,MAAK8C,YATd;AAUE,QAAA,QAAQ;AAAA,8EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmB7C,oBAAAA,KAAnB,SAAS0E,MAAT,CAAmB1E,KAAnB;;AACR,wBAAKqE,eAAD,CAAyBrE,KAAzB,CAAJ,EAAqC;AACnCA,sBAAAA,KAAK,GAAIqE,eAAD,CAAyBrE,KAAzB,EAAgCA,KAAxC;AACD;;AAHO;AAAA,2BAIF,MAAK8D,mBAAL,CAAyBJ,UAAzB,EAAqC1D,KAArC,CAJE;;AAAA;AAAA;AAAA,2BAKFK,MAAM,EALJ;;AAAA;AAMR,wBAAID,QAAJ,EAAcA,QAAQ,CAACJ,KAAD,CAAR;;AANN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;AAAA,WAVV;AAkBE,QAAA,OAAO,EAAEuE;AAlBX,QADF;AAsBD,K;;UAEOI,W,GAAc,YAAM;AAAA,yBAItB,MAAKlF,KAJiB;AAAA,UAET4E,eAFS,gBAExBvE,WAFwB,CAETuE,eAFS;AAAA,UAGxB7D,UAHwB,gBAGxBA,UAHwB;AAAA,UAKlBK,IALkB,GAKTL,UALS,CAKlBK,IALkB;AAM1B,UAAM+D,OAAO,GAAG,CACd;AACE5E,QAAAA,KAAK,EAAGqE,eAAe,CAAC,CAAD,CAAhB,CAAuCrE,KADhD;AAEED,QAAAA,KAAK,EAAGsE,eAAe,CAAC,CAAD,CAAhB,CAAuCtE,KAFhD;AAGEG,QAAAA,QAAQ,EAAE;AAHZ,OADc,EAMd;AACEF,QAAAA,KAAK,EAAGqE,eAAe,CAAC,CAAD,CAAhB,CAAuCrE,KADhD;AAEED,QAAAA,KAAK,EAAGsE,eAAe,CAAC,CAAD,CAAhB,CAAuCtE,KAFhD;AAGEG,QAAAA,QAAQ,EAAE,CAAC,EACT,CAACW,IAAI,CAACgE,OAAN,IACChE,IAAI,CAACgE,OAAL,IAAgBhE,IAAI,CAACgE,OAAL,CAAa/B,MAAb,KAAwB,CAFhC;AAHb,OANc,CAAhB;AAeA,UAAMgC,aAAa,GACjBjE,IAAI,CAAC5B,MAAL,IAAgBoF,eAAe,CAAC,CAAD,CAAhB,CAAuCrE,KADxD;AAEA,0BACE,gCAAC,sBAAD;AACE,QAAA,KAAK,EAAE8E,aADT;AAEE,QAAA,OAAO,EAAEF,OAFX;AAGE,QAAA,QAAQ,EAAE,MAAKG;AAHjB,QADF;AAOD,K;;UAEOA,a;0EAAgB,kBACtBC,KADsB,EAEtBhF,KAFsB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,gCAIkB,MAAKP,KAJvB,EAIde,UAJc,iBAIdA,UAJc,EAIFyE,eAJE,iBAIFA,eAJE;AAKdC,gBAAAA,gBALc,GAKkB1E,UALlB,CAKd0E,gBALc,qBAKkB1E,UALlB,CAKIK,IALJ,EAKIA,IALJ,iCAKW,EALX;AAAA;AAAA,uBAMhBoE,eAAe,iCAEdzE,UAFc;AAGjBK,kBAAAA,IAAI,kCACCA,IADD;AAEF5B,oBAAAA,MAAM,EAAEe,KAFN;AAGFmF,oBAAAA,QAAQ,EAAEtE,IAAI,CAACsE,QAAL,IAAiBtE,IAAI,CAACgE,OAAL,CAAa,CAAb;AAHzB;AAHa,oBASnBK,gBATmB,CANC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAoBhBE,sB,GAAyB,YAAM;AAAA;;AAAA,0BACD,MAAK3F,KADJ;AAAA,UAC7Be,UAD6B,iBAC7BA,UAD6B;AAAA,UACjBV,WADiB,iBACjBA,WADiB;AAAA,UAE7BuF,eAF6B,GAEFvF,WAFE,CAE7BuF,eAF6B;AAAA,UAEZtF,KAFY,GAEFD,WAFE,CAEZC,KAFY;AAAA,UAG7Bc,IAH6B,GAGpBL,UAHoB,CAG7BK,IAH6B;;AAIrC,UAAIA,IAAI,CAAC5B,MAAL,KAAgBoG,eAApB,EAAqC;AACnC,eAAO,IAAP;AACD;;AACD,UAAMT,OAAO,GAAG/D,IAAI,CAACgE,OAAL,GACZhE,IAAI,CAACgE,OAAL,CAAaL,GAAb,CAAiB,UAACc,MAAD,EAAiB;AAChC,eAAO;AACLtF,UAAAA,KAAK,EAAEsF,MAAM,CAACvG,EADT;AAELgB,UAAAA,KAAK,aAAMuF,MAAM,CAACvG,EAAb,cAAmBuG,MAAM,CAACnB,OAA1B;AAFA,SAAP;AAID,OALD,CADY,GAOZ,EAPJ,CAPqC,CAerC;;AACA,UAAMoB,YAAY,GAChB1E,IAAI,CAACsE,QAAL,IAAkBtE,IAAI,CAACgE,OAAL,uBAAgBhE,IAAI,CAACgE,OAAL,CAAa,CAAb,CAAhB,mDAAgB,eAAiB9F,EAAjC,CAAlB,IAA0D,EAD5D;AAEA,0BACE,gCAAC,wBAAD;AACE,QAAA,OAAO,EAAE6F,OADX;AAEE,QAAA,QAAQ,EAAEA,OAAO,CAAC9B,MAAR,KAAmB,CAF/B;AAGE,QAAA,KAAK,EAAEyC,YAHT;AAIE,QAAA,KAAK,EAAExF,KAJT;AAKE,QAAA,OAAO,EAAE;AACPyF,UAAAA,IAAI,EAAE,4BACJC,mBAAOC,gBADH,EAEJD,mBAAOZ,OAFH,EAGJY,mBAAOlB,UAHH;AADC,SALX;AAYE,QAAA,QAAQ,EAAE,MAAKoB;AAZjB,QADF;AAgBD,K;;UAEOA,c;0EAAiB,kBACvBX,KADuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAGfhF,gBAAAA,KAHe,GAGLgF,KAAK,CAACN,MAHD,CAGf1E,KAHe;AAAA,gCAIiB,MAAKP,KAJtB,EAIfe,UAJe,iBAIfA,UAJe,EAIHyE,eAJG,iBAIHA,eAJG;AAKfC,gBAAAA,gBALe,GAKiB1E,UALjB,CAKf0E,gBALe,sBAKiB1E,UALjB,CAKGK,IALH,EAKGA,IALH,kCAKU,EALV;AAAA;AAAA,uBAMjBoE,eAAe,iCACdzE,UADc;AACFK,kBAAAA,IAAI,kCAAOA,IAAP;AAAasE,oBAAAA,QAAQ,EAAEnF;AAAvB;AADF,oBAEnBkF,gBAFmB,CANE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAYjBpB,mB,GAAsB,UAAC9D,KAAD;AAAA;AAAA,4EAAmB,kBAAOlB,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kCAK3C,MAAKW,KALsC,wCAE7Ce,UAF6C,EAE/B0E,gBAF+B,yBAE/BA,gBAF+B,iDAEbrE,IAFa,EAEbA,IAFa,uCAEN,EAFM,2BAG7CoE,eAH6C,iBAG7CA,eAH6C,EAI7CW,qBAJ6C,iBAI7CA,qBAJ6C;AAMzCC,kBAAAA,cANyC,GAMxB;AACrBC,oBAAAA,OAAO,EAAE,KADY;AAErBjF,oBAAAA,IAAI,sBACDb,KADC,EACOlB,IAAI,IAAI,EADf;AAFiB,mBANwB;AAYzCiH,kBAAAA,OAZyC,GAa5CH,qBAAqB,IACpBA,qBAAqB,CAAC;AACpB5F,oBAAAA,KAAK,EAALA,KADoB;AAEpBlB,oBAAAA,IAAI,EAAJA,IAFoB;AAGpB+B,oBAAAA,IAAI,EAAJA,IAHoB;AAIpBqE,oBAAAA,gBAAgB,EAAhBA;AAJoB,mBAAD,CADvB,IAOAW,cApB6C;AAAA;AAAA,yBAqBzCZ,eAAe,CAACc,OAAD,EAAUb,gBAAV,CArB0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAnB;;AAAA;AAAA;AAAA;AAAA;AAAA,K;;UA8BtBc,e,GAA6B;AACnCC,MAAAA,SAAS,EAAE,MAAKpG,eADmB;AAEnCqG,MAAAA,QAAQ,EAAE,MAAK9B,gBAFoB;AAGnC+B,MAAAA,QAAQ,EAAE,MAAK5C,cAHoB;AAInCK,MAAAA,IAAI,EAAE,MAAKH,gBAJwB;AAKnC2C,MAAAA,MAAM,EAAE,MAAKjD,WALsB;AAMnCkD,MAAAA,OAAO,EAAE,MAAKlD,WANqB;AAOnC,gBAAQ,MAAKA,WAPsB;AAQnC,cAAM,MAAKA,WARwB;AASnCmD,MAAAA,QAAQ,EAAE,MAAKvC,kBAToB;AAUnCwC,MAAAA,KAAK,EAAE,MAAK5B,WAVuB;AAWnCe,MAAAA,gBAAgB,EAAE,MAAKN;AAXY,K;;;;;;iCANhBpF,K,EAAYiD,I,EAAW5C,M,EAAkB;AAAA,UACpDmG,QADoD,GACvC,KAAK/G,KADkC,CACpD+G,QADoD;AAE5D,WAAK1C,mBAAL,CAAyB9D,KAAzB,EAAgCiD,IAAhC;AACAuD,MAAAA,QAAQ,CAACnG,MAAD,CAAR;AACD;;;6BAgBQ;AAAA,0BAIH,KAAKZ,KAJF;AAAA,gDAELK,WAFK;AAAA,UAEUE,KAFV,yBAEUA,KAFV;AAAA,UAEiBoD,IAFjB,yBAEiBA,IAFjB;AAAA,UAEuBI,KAFvB,yBAEuBA,KAFvB;AAAA,UAE8BiD,iBAF9B,yBAE8BA,iBAF9B;AAAA,UAGLC,mBAHK,iBAGLA,mBAHK;;AAMP,UAAI,KAAKV,eAAL,CAAqB5C,IAArB,CAAJ,EAAgC;AAC9B,YAAII,KAAK,IAAIiD,iBAAT,IAA8B,KAAKjH,YAAL,CAAkBmH,OAApD,EAA6D;AAC3DD,UAAAA,mBAAmB,CAAC,KAAKlH,YAAL,CAAkBmH,OAAlB,CAA0BC,SAA3B,CAAnB;AACD;;AACD,4BACE;AACE,UAAA,GAAG,EAAE,KAAKpH,YADZ;AAEE,uBAAU,cAFZ;AAGE,UAAA,SAAS,EAAEiG,mBAAOoB;AAHpB,WAKG,KAAKb,eAAL,CAAqB5C,IAArB,GALH,CADF;AASD;;AACDnC,MAAAA,OAAO,CAACC,IAAR,mCAAwCkC,IAAxC,kBAAoDpD,KAApD;AACA,aAAO,IAAP;AACD;;;wBA9bkB;AAAA,UAEAA,KAFA,GAGb,KAAKP,KAHQ,CAEfK,WAFe,CAEAE,KAFA;AAAA,UAKDa,IALC,GAMb,KAAKpB,KANQ,CAKfe,UALe,CAKDK,IALC;AAOjB,aAAQA,IAAD,CAAcb,KAAd,CAAP;AACD,K,CAED;;;;;EAX6B8G,gB","sourcesContent":["import { RcDatePicker } from '@ringcentral/juno';\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\n\nimport { setUTCTime, getDateFromUTCDay } from '../../../lib/timeFormatHelper';\nimport InputSelect from '../../InputSelect';\nimport { CallLogFieldsProps, FieldMetadata } from '../CallLogFields.interface';\nimport {\n  FieldItemOption,\n  FieldsMap,\n  PickListOption,\n} from './FieldItem.interface';\nimport { FullSelectField } from './FullSelectField';\nimport { LogFieldsInput } from './LogFieldsInput';\nimport { SelectField } from './SelectField';\nimport { RadioField } from './RadioField';\nimport styles from './styles.scss';\n\nconst DEFAULT_FINDER = {\n  getValue: (item: any) => (typeof item === 'object' ? item.id : item) || null,\n  searchOption: (option: any, text: string) =>\n    option.name && option.name.toLowerCase().includes(text.toLowerCase()),\n};\n\nconst appDefaultValue = '[None]';\n\nexport type FieldItemProps = {\n  fieldRef?: React.RefObject<HTMLDivElement>;\n  timeout: number;\n  fieldOption: FieldItemOption;\n  onSave(): any;\n  debounce(cb: any, time2?: any): void;\n} & CallLogFieldsProps;\n\nexport class FieldItem extends Component<FieldItemProps, {}> {\n  get currentValue() {\n    const {\n      fieldOption: { value },\n    } = this.props;\n    const {\n      currentLog: { task },\n    } = this.props;\n    return (task as any)[value];\n  }\n\n  // eslint-disable-next-line react/destructuring-assignment\n  fieldItemRef = this.props.fieldRef || React.createRef<HTMLDivElement>();\n\n  // this is click to new popup window page\n  private renderReference = () => {\n    const {\n      fieldOption: {\n        label,\n        value,\n        disabled: currentDisabled,\n        onChange: fieldOnChange,\n      },\n      onSave,\n      onSelectViewVisible,\n      contactSearch,\n    } = this.props;\n    const {\n      currentLog,\n      startAdornmentRender,\n      referenceFieldOptions,\n      currentLocale,\n      showFoundFromServer,\n    } = this.props;\n    const {\n      task,\n      currentLogCall: { phoneNumber },\n    } = currentLog;\n    const referenceFieldOption = referenceFieldOptions[value];\n    if (!referenceFieldOption) {\n      console.warn(\n        `Reference field \"${value}\" requires options in renderEditLogSection`,\n      );\n      return;\n    }\n    const {\n      getLabel,\n      getValue: _getValue,\n      onChange,\n      metadata = {} as FieldMetadata,\n      rightIconRender,\n      matchedEntitiesGetter,\n      otherEntitiesGetter,\n      associatedEntitiesGetter,\n      shouldShowAssociatedSection,\n      shouldDisable = () => false,\n      disableReason = '',\n      currentOptionFinder,\n      searchOptionFinder: _searchOptionFinder,\n      foundFromServerEntityGetter,\n      onBackClick,\n      backHeaderClassName,\n    } = referenceFieldOption;\n    const matchedEntities = matchedEntitiesGetter(currentLog);\n    const otherEntities = otherEntitiesGetter(currentLog);\n\n    const foundFromServerEntities =\n      typeof foundFromServerEntityGetter === 'function'\n        ? foundFromServerEntityGetter(currentLog)\n        : [];\n    const showAssociatedSection = shouldShowAssociatedSection\n      ? shouldShowAssociatedSection(currentLog)\n      : false;\n    const associatedEntities =\n      showAssociatedSection && associatedEntitiesGetter\n        ? associatedEntitiesGetter(currentLog)\n        : [];\n    const getValue = _getValue || DEFAULT_FINDER.getValue;\n    const searchOptionFinder =\n      _searchOptionFinder || DEFAULT_FINDER.searchOption;\n    const currentOption = [\n      ...matchedEntities,\n      ...otherEntities,\n      ...associatedEntities,\n      ...foundFromServerEntities,\n    ].find(currentOptionFinder(task));\n    const disabled = currentDisabled || shouldDisable(task);\n    const title = metadata.title || label;\n    const rightIcon = rightIconRender\n      ? rightIconRender(phoneNumber)\n      : undefined;\n\n    const currentValue =\n      getLabel(currentOption, matchedEntities.length, currentLog) || '';\n\n    return (\n      <FullSelectField\n        {...this.props}\n        backHeaderClassName={backHeaderClassName}\n        onBackClick={onBackClick}\n        title={title}\n        rightIcon={rightIcon}\n        placeholder={metadata.placeholder}\n        options={matchedEntities}\n        otherOptions={otherEntities}\n        associatedOptions={associatedEntities}\n        showAssociatedSection={showAssociatedSection}\n        startAdornment={startAdornmentRender}\n        field={value}\n        value={(task as any)[metadata.valueField] || ''}\n        onChange={async (args) => {\n          await onChange(this.props)(args);\n          await onSave();\n          if (fieldOnChange) fieldOnChange(args);\n        }}\n        onSelectViewVisible={onSelectViewVisible}\n        valueFunction={getValue}\n        renderFunction={getLabel}\n        searchOption={searchOptionFinder}\n        disabled={disabled}\n        currentLocale={currentLocale}\n        foundFromServerEntities={foundFromServerEntities}\n        contactSearch={contactSearch}\n        showFoundFromServer={showFoundFromServer}\n        TextFieldProps={{\n          helperText: disableReason,\n          value: currentValue,\n        }}\n      />\n    );\n  };\n\n  private renderInput = () => {\n    const {\n      fieldOption: { label, value, type, required },\n      onSave,\n    } = this.props;\n    return (\n      <LogFieldsInput\n        label={label}\n        type={type === 'string' ? 'text' : 'number'}\n        required={required}\n        placeholder={label}\n        value={this.currentValue || ''}\n        data-sign={value}\n        onChange={(args: any) => this._updateValue(value, args, onSave)}\n      />\n    );\n  };\n\n  private renderTextArea = () => {\n    const {\n      fieldOption: { label, value, error, helperText, required, onChange },\n      onSave,\n    } = this.props;\n    return (\n      <LogFieldsInput\n        label={label}\n        required={required}\n        error={error}\n        helperText={helperText}\n        placeholder={label}\n        data-sign={value}\n        multiline\n        value={this.currentValue || ''}\n        onChange={(text: any) => {\n          this._updateValue(value, text, onSave);\n          if (onChange) onChange(text);\n        }}\n      />\n    );\n  };\n\n  private renderDatePicker = () => {\n    const {\n      fieldOption: { label, value: fieldValue, required },\n      onSave,\n    } = this.props;\n    const { fieldSize } = this.props;\n    const date = this.currentValue\n      ? getDateFromUTCDay(this.currentValue)\n      : null;\n    return (\n      <RcDatePicker\n        fullWidth\n        size={fieldSize}\n        data-sign={fieldValue}\n        required={required}\n        label={label}\n        date={date}\n        onChange={async (value) => {\n          const timeStamp = value ? setUTCTime(value) : value;\n          await this.onInputSelectChange(fieldValue)(timeStamp);\n          await onSave;\n        }}\n        formatString=\"MM/DD/YYYY\"\n      />\n    );\n  };\n\n  private renderSubjectField = () => {\n    const {\n      currentLog: { task, subjectPicklist },\n      subjectDropdownsTracker,\n      timeout,\n    } = this.props;\n    const {\n      fieldOption: { required, label },\n      onSave,\n    } = this.props;\n    return (\n      <InputSelect\n        required={required}\n        subjectPicklist={subjectPicklist}\n        subject={task.subject || ''}\n        label={label}\n        onChange={this.onInputSelectChange('subject')}\n        onSelectOption={subjectDropdownsTracker}\n        onSave={onSave}\n        timeout={timeout}\n      />\n    );\n  };\n\n  private renderSelectMenu = () => {\n    const {\n      fieldOption: {\n        label,\n        value: fieldValue,\n        picklistOptions,\n        required,\n        helperText,\n        error,\n        onChange,\n        disabled: propsDisabled = false,\n        placeholder,\n      },\n      onSave,\n    } = this.props;\n\n    const selectList = (picklistOptions || []).map((item) => {\n      let value: string = item as any;\n      let label = item !== null ? (item as any) : appDefaultValue;\n      let disabled = false;\n\n      if (item instanceof Object) {\n        value = item.value;\n        label = item.label;\n        disabled = item.disabled;\n      }\n      return {\n        label,\n        value,\n        disabled,\n      };\n    });\n\n    return (\n      <SelectField\n        data-sign={fieldValue}\n        disabled={propsDisabled}\n        placeholder={placeholder}\n        fullWidth\n        helperText={helperText}\n        error={error}\n        required={required}\n        label={label}\n        value={this.currentValue}\n        onChange={async ({ target: { value } }) => {\n          if ((picklistOptions as any)[value]) {\n            value = (picklistOptions as any)[value].value;\n          }\n          await this.onInputSelectChange(fieldValue)(value);\n          await onSave();\n          if (onChange) onChange(value);\n        }}\n        options={selectList}\n      />\n    );\n  };\n\n  private renderRadio = () => {\n    const {\n      fieldOption: { picklistOptions },\n      currentLog,\n    } = this.props;\n    const { task } = currentLog;\n    const options = [\n      {\n        value: (picklistOptions[0] as PickListOption).value,\n        label: (picklistOptions[0] as PickListOption).label,\n        disabled: false,\n      },\n      {\n        value: (picklistOptions[1] as PickListOption).value,\n        label: (picklistOptions[1] as PickListOption).label,\n        disabled: !!(\n          !task.tickets ||\n          (task.tickets && task.tickets.length === 0)\n        ),\n      },\n    ];\n    const defaultOption =\n      task.option || (picklistOptions[0] as PickListOption).value;\n    return (\n      <RadioField\n        value={defaultOption}\n        options={options}\n        onChange={this.onRadioChange}\n      />\n    );\n  };\n\n  private onRadioChange = async (\n    event: React.ChangeEvent<HTMLInputElement>,\n    value: string,\n  ) => {\n    const { currentLog, onUpdateCallLog } = this.props;\n    const { currentSessionId, task = {} } = currentLog;\n    await onUpdateCallLog(\n      {\n        ...currentLog,\n        task: {\n          ...task,\n          option: value,\n          ticketId: task.ticketId || task.tickets[0],\n        },\n      },\n      currentSessionId,\n    );\n  };\n\n  // this is the dropdown to render ticket lists\n  private renderTicketSelectList = () => {\n    const { currentLog, fieldOption } = this.props;\n    const { renderCondition, label } = fieldOption;\n    const { task } = currentLog;\n    if (task.option !== renderCondition) {\n      return null;\n    }\n    const options = task.tickets\n      ? task.tickets.map((ticket: any) => {\n          return {\n            value: ticket.id,\n            label: `#${ticket.id} ${ticket.subject}`,\n          };\n        })\n      : [];\n    // TODO: need to double check the logic here\n    const defaultValue =\n      task.ticketId || (task.tickets && task.tickets[0]?.id) || '';\n    return (\n      <SelectField\n        options={options}\n        disabled={options.length === 0}\n        value={defaultValue}\n        label={label}\n        classes={{\n          root: classNames(\n            styles.ticketSelectList,\n            styles.tickets,\n            styles.selectList,\n          ),\n        }}\n        onChange={this.onSelectChange}\n      />\n    );\n  };\n\n  private onSelectChange = async (\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const { value } = event.target;\n    const { currentLog, onUpdateCallLog } = this.props;\n    const { currentSessionId, task = {} } = currentLog;\n    await onUpdateCallLog(\n      { ...currentLog, task: { ...task, ticketId: value } },\n      currentSessionId,\n    );\n  };\n\n  private onInputSelectChange = (value: string) => async (item: any) => {\n    const {\n      currentLog: { currentSessionId, task = {} },\n      onUpdateCallLog,\n      customInputDataStruct,\n    } = this.props;\n    const defaultLogData = {\n      isSaved: false,\n      task: {\n        [value]: item || '',\n      },\n    };\n    const logData =\n      (customInputDataStruct &&\n        customInputDataStruct({\n          value,\n          item,\n          task,\n          currentSessionId,\n        })) ||\n      defaultLogData;\n    await onUpdateCallLog(logData, currentSessionId);\n  };\n\n  private _updateValue(value: any, args: any, onSave: Function) {\n    const { debounce } = this.props;\n    this.onInputSelectChange(value)(args);\n    debounce(onSave);\n  }\n\n  private fieldsRenderMap: FieldsMap = {\n    reference: this.renderReference,\n    picklist: this.renderSelectMenu,\n    textarea: this.renderTextArea,\n    date: this.renderDatePicker,\n    string: this.renderInput,\n    integer: this.renderInput,\n    double: this.renderInput,\n    long: this.renderInput,\n    combobox: this.renderSubjectField,\n    radio: this.renderRadio,\n    ticketSelectList: this.renderTicketSelectList,\n  };\n\n  render() {\n    const {\n      fieldOption: { value, type, error, enableScrollError },\n      editSectionScrollBy,\n    } = this.props;\n\n    if (this.fieldsRenderMap[type]) {\n      if (error && enableScrollError && this.fieldItemRef.current) {\n        editSectionScrollBy(this.fieldItemRef.current.offsetTop);\n      }\n      return (\n        <div\n          ref={this.fieldItemRef}\n          data-sign=\"callLogField\"\n          className={styles.row}\n        >\n          {this.fieldsRenderMap[type]()}\n        </div>\n      );\n    }\n    console.warn(`Not support field type '${type}' on ${value}.`);\n    return null;\n  }\n}\n"],"file":"FieldItem.js"}