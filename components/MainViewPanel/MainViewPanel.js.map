{"version":3,"sources":["components/MainViewPanel/MainViewPanel.tsx"],"names":["CustomIcon","props","styles","icon","MainViewPanel","currentPath","goTo","agentStates","changeWorkingState","currentStateIndex","getStateColor","handleWithIntervalTime","stateText","time","getTimerText","disabled","children","currentLocale","isOffHookDisable","offhookState","offhook","isWide","isOffhooking","tabs","phoneBorderSvg","activeIcon","phoneSvg","label","i18n","getString","path","isActive","test","className","tab","settingsBorderSvg","settingsSvg","offHookIcon","symbol","title","offHookSvgDisabled","loading","offHookSvgConnecting","offHookSvgDisconnecting","offHookSvgOff","offHookSvgOn","tabNavigationView","navigationBar","mainView","header","offHookState","enabled"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AAKA;;AACA;;AACA;;;;;;;;;;AAMA,IAAMA,UAA0C,GAAG,SAA7CA,UAA6C,CAACC,KAAD,EAAW;AAC5D,sBAAO,gCAAC,YAAD;AAAQ,IAAA,SAAS,EAAEC,mBAAOC;AAA1B,KAAoCF,KAApC,EAAP;AACD,CAFD;;AAIA,IAAMG,aAAoD,GAAG,SAAvDA,aAAuD,OAmBvD;AAAA,MAlBJC,WAkBI,QAlBJA,WAkBI;AAAA,MAjBJC,IAiBI,QAjBJA,IAiBI;AAAA,MAhBJC,WAgBI,QAhBJA,WAgBI;AAAA,MAfJC,kBAeI,QAfJA,kBAeI;AAAA,MAdJC,iBAcI,QAdJA,iBAcI;AAAA,MAbJC,aAaI,QAbJA,aAaI;AAAA,MAZJC,sBAYI,QAZJA,sBAYI;AAAA,MAXJC,SAWI,QAXJA,SAWI;AAAA,MAVJC,IAUI,QAVJA,IAUI;AAAA,MATJC,YASI,QATJA,YASI;AAAA,MARJC,QAQI,QARJA,QAQI;AAAA,MAPJC,QAOI,QAPJA,QAOI;AAAA,MANJC,aAMI,QANJA,aAMI;AAAA,MALJC,gBAKI,QALJA,gBAKI;AAAA,MAJJC,YAII,QAJJA,YAII;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,MAEI,QAFJA,MAEI;AAAA,MADJC,YACI,QADJA,YACI;AACJ,MAAMC,IAAoB,GAAG,CAC3B;AACEpB,IAAAA,IAAI,EAAE;AAAA,0BAAM,gCAAC,UAAD;AAAY,QAAA,MAAM,EAAEqB;AAApB,QAAN;AAAA,KADR;AAEEC,IAAAA,UAAU,EAAE;AAAA,0BAAM,gCAAC,UAAD;AAAY,QAAA,MAAM,EAAEC;AAApB,QAAN;AAAA,KAFd;AAGEC,IAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,cAAf,EAA+BZ,aAA/B,CAHT;AAIEa,IAAAA,IAAI,EAAE,SAJR;AAKEC,IAAAA,QAAQ,EAAE,kBAAC1B,WAAD;AAAA,aACRA,WAAW,KAAK,SAAhB,IAA6B,qBAAqB2B,IAArB,CAA0B3B,WAA1B,CADrB;AAAA,KALZ;AAOE4B,IAAAA,SAAS,EAAE/B,mBAAOgC;AAPpB,GAD2B,EAU3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE/B,IAAAA,IAAI,EAAE;AAAA,0BAAM,gCAAC,UAAD;AAAY,QAAA,MAAM,EAAEgC;AAApB,QAAN;AAAA,KADR;AAEEV,IAAAA,UAAU,EAAE;AAAA,0BAAM,gCAAC,UAAD;AAAY,QAAA,MAAM,EAAEW;AAApB,QAAN;AAAA,KAFd;AAGET,IAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,eAAf,EAAgCZ,aAAhC,CAHT;AAIEa,IAAAA,IAAI,EAAE,WAJR;AAKEC,IAAAA,QAAQ,EAAE,kBAAC1B,WAAD;AAAA,aAAiB,cAAc2B,IAAd,CAAmB3B,WAAnB,CAAjB;AAAA,KALZ;AAME4B,IAAAA,SAAS,EAAE/B,mBAAOgC;AANpB,GAnB2B,CAA7B;AA6BA,MAAMG,WAAW,GAAG,oBAAQ,YAAM;AAChC,QAAIJ,SAAJ;AACA,QAAIK,MAAJ;AACA,QAAIC,KAAJ;;AACA,QAAIrB,gBAAgB,IAAI,CAACI,YAAzB,EAAuC;AACrCW,MAAAA,SAAS,GAAG/B,mBAAOmC,WAAnB;AACAC,MAAAA,MAAM,GAAGE,2BAAT;AACAD,MAAAA,KAAK,GAAGX,iBAAKC,SAAL,CAAe,UAAf,EAA2BZ,aAA3B,CAAR;AACD,KAJD,MAIO;AACL,cAAQE,YAAR;AACE,aAAK,YAAL;AACEc,UAAAA,SAAS,GAAG/B,mBAAOuC,OAAnB;AACAH,UAAAA,MAAM,GAAGI,6BAAT;AACAH,UAAAA,KAAK,GAAGX,iBAAKC,SAAL,CAAe,UAAf,EAA2BZ,aAA3B,CAAR;AACA;;AACF,aAAK,eAAL;AACEgB,UAAAA,SAAS,GAAG/B,mBAAOuC,OAAnB;AACAH,UAAAA,MAAM,GAAGK,gCAAT;AACAJ,UAAAA,KAAK,GAAGX,iBAAKC,SAAL,CAAe,UAAf,EAA2BZ,aAA3B,CAAR;AACA;;AACF,aAAK,cAAL;AACEgB,UAAAA,SAAS,GAAG/B,mBAAOmC,WAAnB;AACAC,UAAAA,MAAM,GAAGM,sBAAT;AACAL,UAAAA,KAAK,GAAGX,iBAAKC,SAAL,CAAe,QAAf,EAAyBZ,aAAzB,CAAR;AACA;;AACF,aAAK,WAAL;AACA;AACEgB,UAAAA,SAAS,GAAG/B,mBAAOmC,WAAnB;AACAC,UAAAA,MAAM,GAAGO,qBAAT;AACAN,UAAAA,KAAK,GAAGX,iBAAKC,SAAL,CAAe,SAAf,EAA0BZ,aAA1B,CAAR;AApBJ;AAsBD;;AACD,wBACE,gCAAC,gBAAD;AAAS,MAAA,KAAK,EAAEsB;AAAhB,oBACE,gCAAC,YAAD;AAAQ,MAAA,SAAS,EAAEN,SAAnB;AAA8B,MAAA,MAAM,EAAEK;AAAtC,MADF,CADF;AAKD,GArCmB,EAqCjB,CAACnB,YAAD,EAAeD,gBAAf,CArCiB,CAApB;AAuCA,sBACE,gCAAC,6BAAD;AACE,IAAA,IAAI,EAAEZ,IADR;AAEE,IAAA,WAAW,EAAED,WAFf;AAGE,IAAA,0BAA0B,EAAEH,mBAAO4C,iBAHrC;AAIE,IAAA,eAAe,EAAE5C,mBAAO6C,aAJ1B;AAKE,IAAA,SAAS,EAAE7C,mBAAO8C,QALpB;AAME,IAAA,IAAI,EAAEzB;AANR,kBAQE;AAAK,IAAA,SAAS,EAAErB,mBAAO+C;AAAvB,kBACE,gCAAC,sCAAD;AACE,IAAA,sBAAsB,EAAEtC,sBAD1B;AAEE,IAAA,YAAY,EAAEG,YAFhB;AAGE,IAAA,IAAI,EAAED,IAHR;AAIE,IAAA,SAAS,EAAED,SAJb;AAKE,IAAA,aAAa,EAAEF,aALjB;AAME,IAAA,iBAAiB,EAAED,iBANrB;AAOE,IAAA,kBAAkB,EAAED,kBAPtB;AAQE,IAAA,WAAW,EAAED,WARf;AASE,IAAA,QAAQ,EAAEQ,QATZ;AAUE,IAAA,MAAM,EAAEM;AAVV,IADF,eAaE;AACE,IAAA,SAAS,EAAE,4BAAW,CACpBnB,mBAAOgD,YADa,EAEpBhC,gBAAgB,GAAGhB,mBAAOa,QAAV,GAAqBb,mBAAOiD,OAFxB,CAAX,CADb;AAKE,IAAA,OAAO,EAAEjC,gBAAgB,GAAG,IAAH,GAAUE;AALrC,KAOGiB,WAPH,CAbF,CARF,EA+BGrB,QA/BH,CADF;AAmCD,CA3HD","sourcesContent":["import { RcIcon, RcIconProps } from '@ringcentral-integration/rcui';\nimport phoneSvg from '@ringcentral-integration/rcui/icons/icon-phone.svg';\nimport phoneBorderSvg from '@ringcentral-integration/rcui/icons/icon-phone_border.svg';\nimport settingsSvg from '@ringcentral-integration/rcui/icons/icon-settings.svg';\nimport settingsBorderSvg from '@ringcentral-integration/rcui/icons/icon-settings_border.svg';\nimport classNames from 'classnames';\nimport React, { FunctionComponent, useMemo } from 'react';\nimport { TabPropTypes } from 'ringcentral-widgets/components/NavigationBar';\nimport { Tooltip } from 'ringcentral-widgets/components/Rcui/Tooltip';\nimport TabNavigationView from 'ringcentral-widgets/components/TabNavigationView';\n\nimport offHookSvgConnecting from '../../assets/icons/icon-pvc-connecting.svg';\nimport offHookSvgDisabled from '../../assets/icons/icon-pvc-disabled.svg';\nimport offHookSvgDisconnecting from '../../assets/icons/icon-pvc-disconnecting.svg';\nimport offHookSvgOff from '../../assets/icons/icon-pvc-off.svg';\nimport offHookSvgOn from '../../assets/icons/icon-pvc-on.svg';\nimport {\n  EvMainViewUIFunctions,\n  EvMainViewUIProps,\n} from '../../interfaces/EvMainViewUI.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\nimport { WorkingStateSelect } from './WorkingStateSelect';\n\n// import TimeSvg from '@ringcentral-integration/rcui/icons/icon-time.svg';\n// import TimeBorderSvg from '@ringcentral-integration/rcui/icons/icon-time_border.svg';\nexport type MainViewPanelProps = EvMainViewUIProps & EvMainViewUIFunctions;\n\nconst CustomIcon: FunctionComponent<RcIconProps> = (props) => {\n  return <RcIcon className={styles.icon} {...props} />;\n};\n\nconst MainViewPanel: FunctionComponent<MainViewPanelProps> = ({\n  currentPath,\n  goTo,\n  agentStates,\n  changeWorkingState,\n  currentStateIndex,\n  getStateColor,\n  handleWithIntervalTime,\n  stateText,\n  time,\n  getTimerText,\n  disabled,\n  children,\n  currentLocale,\n  isOffHookDisable,\n  offhookState,\n  offhook,\n  isWide,\n  isOffhooking,\n}) => {\n  const tabs: TabPropTypes[] = [\n    {\n      icon: () => <CustomIcon symbol={phoneBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={phoneSvg} />,\n      label: i18n.getString('dialpadLabel', currentLocale),\n      path: '/dialer',\n      isActive: (currentPath) =>\n        currentPath === '/dialer' || /^\\/activityCallLog/.test(currentPath),\n      className: styles.tab,\n    },\n    // The call history function is not available yet\n    // {\n    //   icon: () => <CustomIcon symbol={TimeBorderSvg} />,\n    //   activeIcon: () => <CustomIcon symbol={TimeSvg} />,\n    //   label: i18n.getString('historyLabel', currentLocale),\n    //   path: '/history',\n    //   isActive: (currentPath) => /^\\/history/.test(currentPath),\n    //   className: styles.tab,\n    // },\n    {\n      icon: () => <CustomIcon symbol={settingsBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={settingsSvg} />,\n      label: i18n.getString('settingsLabel', currentLocale),\n      path: '/settings',\n      isActive: (currentPath) => /^\\/settings/.test(currentPath),\n      className: styles.tab,\n    },\n  ];\n\n  const offHookIcon = useMemo(() => {\n    let className;\n    let symbol;\n    let title;\n    if (isOffHookDisable && !isOffhooking) {\n      className = styles.offHookIcon;\n      symbol = offHookSvgDisabled;\n      title = i18n.getString('disabled', currentLocale);\n    } else {\n      switch (offhookState) {\n        case 'connecting':\n          className = styles.loading;\n          symbol = offHookSvgConnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnecting':\n          className = styles.loading;\n          symbol = offHookSvgDisconnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnected':\n          className = styles.offHookIcon;\n          symbol = offHookSvgOff;\n          title = i18n.getString('turnOn', currentLocale);\n          break;\n        case 'connected':\n        default:\n          className = styles.offHookIcon;\n          symbol = offHookSvgOn;\n          title = i18n.getString('turnOff', currentLocale);\n      }\n    }\n    return (\n      <Tooltip title={title}>\n        <RcIcon className={className} symbol={symbol} />\n      </Tooltip>\n    );\n  }, [offhookState, isOffHookDisable]);\n\n  return (\n    <TabNavigationView\n      goTo={goTo}\n      currentPath={currentPath}\n      tabNavigationViewClassName={styles.tabNavigationView}\n      navBarClassName={styles.navigationBar}\n      className={styles.mainView}\n      tabs={tabs}\n    >\n      <div className={styles.header}>\n        <WorkingStateSelect\n          handleWithIntervalTime={handleWithIntervalTime}\n          getTimerText={getTimerText}\n          time={time}\n          stateText={stateText}\n          getStateColor={getStateColor}\n          currentStateIndex={currentStateIndex}\n          changeWorkingState={changeWorkingState}\n          agentStates={agentStates}\n          disabled={disabled}\n          isWide={isWide}\n        />\n        <div\n          className={classNames([\n            styles.offHookState,\n            isOffHookDisable ? styles.disabled : styles.enabled,\n          ])}\n          onClick={isOffHookDisable ? null : offhook}\n        >\n          {offHookIcon}\n        </div>\n      </div>\n      {children}\n    </TabNavigationView>\n  );\n};\n\nexport { MainViewPanel };\n"],"file":"MainViewPanel.js"}