{"version":3,"sources":["components/MainViewPanel/WorkingStateSelect/WorkingStateSelect.tsx"],"names":["WorkingStateSelect","agentStates","getStateColor","handleWithIntervalTime","stateText","time","currentStateIndex","getTimerText","changeWorkingState","disabled","isWide","Date","now","intervalTime","setIntervalTime","stateColor","handleTime","Number","timerId","setInterval","clearInterval","styles","selectHeader"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAMA;;AACA;;;;;;;;;;;;;;;;;;;;AAiBA,IAAMA,kBAA8D,GAAG,SAAjEA,kBAAiE,OAWjE;AAAA,MAVJC,WAUI,QAVJA,WAUI;AAAA,MATJC,aASI,QATJA,aASI;AAAA,MARJC,sBAQI,QARJA,sBAQI;AAAA,MAPJC,SAOI,QAPJA,SAOI;AAAA,MANJC,IAMI,QANJA,IAMI;AAAA,MALJC,iBAKI,QALJA,iBAKI;AAAA,MAJJC,YAII,QAJJA,YAII;AAAA,MAHJC,kBAGI,QAHJA,kBAGI;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADJC,MACI,QADJA,MACI;;AAAA,kBACoC,qBAASC,IAAI,CAACC,GAAL,KAAaP,IAAtB,CADpC;AAAA;AAAA,MACGQ,YADH;AAAA,MACiBC,eADjB;;AAEJ,MAAMC,UAAU,GAAGb,aAAa,CAACW,YAAD,CAAhC;AAEA,wBAAU,YAAM;AACd,QAAMG,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,UAAMH,YAAY,GAAGF,IAAI,CAACC,GAAL,KAAaK,MAAM,CAACZ,IAAD,CAAxC;AACAF,MAAAA,sBAAsB,CAACU,YAAD,CAAtB;AACAC,MAAAA,eAAe,CAACD,YAAD,CAAf;AACD,KAJD;;AAKA,QAAMK,OAAO,GAAGC,WAAW,CAACH,UAAD,EAAa,IAAb,CAA3B;AACAA,IAAAA,UAAU;AACV,WAAO;AAAA,aAAMI,aAAa,CAACF,OAAD,CAAnB;AAAA,KAAP;AACD,GATD,EASG,CAACb,IAAD,CATH;AAWA,sBACE;AAAK,IAAA,SAAS,EAAEgB,mBAAOC;AAAvB,kBACE,gCAAC,sCAAD;AACE,IAAA,KAAK,EAAElB,SADT;AAEE,IAAA,WAAW,EAAEE,iBAFf;AAGE,IAAA,QAAQ,EAAEE,kBAHZ;AAIE,IAAA,OAAO,EAAEP,WAJX;AAKE,IAAA,KAAK,EAAEc,UALT;AAME,IAAA,QAAQ,EAAEN,QANZ;AAOE,IAAA,MAAM,EAAEC,MAPV;AAQE,IAAA,SAAS,EAAEH,YAAY,CAACM,YAAD;AARzB,IADF,CADF;AAcD,CAxCD","sourcesContent":["import React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport {\n  EvMainViewUIFunctions,\n  EvMainViewUIProps,\n} from '../../../interfaces/EvMainViewUI.interface';\nimport styles from './styles.scss';\nimport { WorkingStateButton } from './WorkingStateButton';\n\ntype WorkingStateSelectProps = Pick<\n  EvMainViewUIProps & EvMainViewUIFunctions,\n  | 'handleWithIntervalTime'\n  | 'agentStates'\n  | 'changeWorkingState'\n  | 'getTimerText'\n  | 'currentStateIndex'\n  | 'getStateColor'\n  | 'handleWithIntervalTime'\n  | 'stateText'\n  | 'time'\n  | 'disabled'\n  | 'isWide'\n>;\n\nconst WorkingStateSelect: FunctionComponent<WorkingStateSelectProps> = ({\n  agentStates,\n  getStateColor,\n  handleWithIntervalTime,\n  stateText,\n  time,\n  currentStateIndex,\n  getTimerText,\n  changeWorkingState,\n  disabled,\n  isWide,\n}) => {\n  const [intervalTime, setIntervalTime] = useState(Date.now() - time);\n  const stateColor = getStateColor(intervalTime);\n\n  useEffect(() => {\n    const handleTime = () => {\n      const intervalTime = Date.now() - Number(time);\n      handleWithIntervalTime(intervalTime);\n      setIntervalTime(intervalTime);\n    };\n    const timerId = setInterval(handleTime, 1000);\n    handleTime();\n    return () => clearInterval(timerId);\n  }, [time]);\n\n  return (\n    <div className={styles.selectHeader}>\n      <WorkingStateButton\n        label={stateText}\n        optionIndex={currentStateIndex}\n        onChange={changeWorkingState}\n        options={agentStates}\n        color={stateColor}\n        disabled={disabled}\n        isWide={isWide}\n        timerText={getTimerText(intervalTime)}\n      />\n    </div>\n  );\n};\n\nexport { WorkingStateSelect };\n"],"file":"WorkingStateSelect.js"}