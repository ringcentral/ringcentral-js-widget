{"version":3,"sources":["components/LogNotification/index.js"],"names":["LogNotification","formatPhone","currentLog","currentLocale","showLogButton","isExpand","onStay","onDiscard","onSave","onExpand","currentSession","onReject","onHangup","showEndButton","disableLinks","extraButtons","endButton","callStatus","direction","isInComingCall","callDirections","inbound","telephonyStatuses","ringing","endTitle","endAction","callControlI18n","getString","EndIcon","styles","hangup","buttonDisabled","extraButtonBox","i18n","expandButtonWithEnd","expandDisableButton","expandButton","container","basicInfo","confirmationContainer","confirmationInfo","confirmationButtons","saveButton","selected","discardButton","stayButton","propTypes","PropTypes","string","isRequired","bool","object","func","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport telephonyStatuses from 'ringcentral-integration/enums/telephonyStatus';\nimport callDirections from 'ringcentral-integration/enums/callDirections';\n\nimport CircleButton from '../CircleButton';\nimport EndIcon from '../../assets/images/End.svg';\n\nimport { Button } from '../Button';\nimport LogBasicInfo from '../LogBasicInfo';\nimport styles from './styles.scss';\nimport i18n from './i18n';\nimport callControlI18n from '../SmCallControl/i18n';\n\nexport default function LogNotification({\n  formatPhone,\n  currentLog,\n  currentLocale,\n  showLogButton,\n  isExpand,\n  onStay,\n  onDiscard,\n  onSave,\n  onExpand,\n  currentSession,\n  onReject,\n  onHangup,\n  showEndButton,\n  disableLinks,\n}) {\n  let extraButtons = null;\n  if (showEndButton && showLogButton) {\n    let endButton = null;\n    if (currentSession) {\n      const { callStatus, direction } = currentSession;\n      const isInComingCall =\n        callDirections.inbound === direction &&\n        telephonyStatuses.ringing === callStatus;\n      const endTitle = isInComingCall ? 'reject' : 'hangup';\n      const endAction = isInComingCall ? onReject : onHangup;\n      endButton = (\n        <span title={callControlI18n.getString(endTitle, currentLocale)}>\n          <CircleButton\n            dataSign={endTitle}\n            showBorder={false}\n            icon={EndIcon}\n            onClick={endAction}\n            className={classnames({\n              [styles.hangup]: true,\n              [styles.endButton]: true,\n              [styles.buttonDisabled]: disableLinks,\n            })}\n            disabled={disableLinks}\n          />\n        </span>\n      );\n    }\n\n    extraButtons = (\n      <div className={styles.extraButtonBox}>\n        {endButton}\n        <Button\n          tooltip={i18n.getString('log', currentLocale)}\n          disabled={isExpand}\n          className={classnames(\n            styles.expandButtonWithEnd,\n            isExpand && styles.expandDisableButton,\n          )}\n          onClick={() => onExpand()}\n        >\n          {i18n.getString('log', currentLocale)}\n        </Button>\n      </div>\n    );\n  } else if (showLogButton) {\n    extraButtons = (\n      <Button\n        disabled={isExpand}\n        className={classnames(\n          styles.expandButton,\n          isExpand && styles.expandDisableButton,\n        )}\n        onClick={() => onExpand()}\n      >\n        {i18n.getString('log', currentLocale)}\n      </Button>\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.basicInfo}>\n        <LogBasicInfo\n          currentLog={currentLog}\n          currentLocale={currentLocale}\n          formatPhone={formatPhone}\n        />\n        {extraButtons}\n      </div>\n      {isExpand ? (\n        <div className={styles.confirmationContainer}>\n          <div className={styles.confirmationInfo}>\n            {i18n.getString('confirmationInfo', currentLocale)}\n          </div>\n          <div className={styles.confirmationButtons}>\n            {onSave ? (\n              <Button\n                tooltip={i18n.getString('save', currentLocale)}\n                className={classnames(styles.saveButton, styles.selected)}\n                onClick={() => onSave()}\n              >\n                {i18n.getString('save', currentLocale)}\n              </Button>\n            ) : null}\n            {onDiscard ? (\n              <Button\n                tooltip={i18n.getString('discard', currentLocale)}\n                className={styles.discardButton}\n                onClick={() => onDiscard()}\n              >\n                {i18n.getString('discard', currentLocale)}\n              </Button>\n            ) : null}\n            {onStay ? (\n              <Button\n                tooltip={i18n.getString('stay', currentLocale)}\n                className={styles.stayButton}\n                onClick={() => onStay()}\n              >\n                {i18n.getString('stay', currentLocale)}\n              </Button>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nLogNotification.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  showLogButton: PropTypes.bool,\n  currentLog: PropTypes.object,\n  formatPhone: PropTypes.func,\n  isExpand: PropTypes.bool,\n  onStay: PropTypes.func,\n  onDiscard: PropTypes.func,\n  onSave: PropTypes.func,\n  onExpand: PropTypes.func,\n  currentSession: PropTypes.object,\n  onReject: PropTypes.func,\n  onHangup: PropTypes.func,\n  showEndButton: PropTypes.bool,\n  disableLinks: PropTypes.bool,\n};\n\nLogNotification.defaultProps = {\n  showLogButton: true,\n  currentLog: {},\n  formatPhone: undefined,\n  isExpand: undefined,\n  onStay: undefined,\n  onDiscard: undefined,\n  onSave: undefined,\n  onExpand: undefined,\n  currentSession: undefined,\n  onReject: () => null,\n  onHangup: () => null,\n  showEndButton: false,\n  disableLinks: false,\n};\n"],"file":"index.js"}