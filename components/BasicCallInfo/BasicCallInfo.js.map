{"version":3,"sources":["components/BasicCallInfo/BasicCallInfo.tsx"],"names":["BasicCallInfo","subject","isInbound","isRinging","followInfos","callInfos","panelClass","classes","panel","status","callControlRef","open","setOpen","panelHeight","setPanelHeight","toggleOpen","current","clientHeight","styles","container","rightIcon","chevronRight","bottom","panelContainer","height","chevronLeftSvg","infoList","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAOA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;AAWO,IAAMA,aAAoD,GAAG,SAAvDA,aAAuD,OAS9D;AAAA,MARJC,OAQI,QARJA,OAQI;AAAA,MAPJC,SAOI,QAPJA,SAOI;AAAA,MANJC,SAMI,QANJA,SAMI;AAAA,MALJC,WAKI,QALJA,WAKI;AAAA,MAJJC,SAII,QAJJA,SAII;AAAA,MAHcC,UAGd,QAHJC,OAGI,CAHOC,KAGP;AAAA,MAFJC,MAEI,QAFJA,MAEI;AAAA,MADJC,cACI,QADJA,cACI;;AAAA,kBACoB,qBAAS,KAAT,CADpB;AAAA;AAAA,MACGC,IADH;AAAA,MACSC,OADT;;AAAA,mBAEkC,qBAAS,MAAT,CAFlC;AAAA;AAAA,MAEGC,WAFH;AAAA,MAEgBC,cAFhB;;AAGJ,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,WAAMH,OAAO,CAAC,CAACD,IAAF,CAAb;AAAA,GAAnB;;AAEA,wBAAU,YAAM;AACd,QAAID,cAAc,CAACM,OAAnB,EAA4B;AAC1BF,MAAAA,cAAc,uBAAgBJ,cAAc,CAACM,OAAf,CAAuBC,YAAvC,SAAd;AACD;AACF,GAJD,EAIG,CAACP,cAAD,EAAiBD,MAAjB,CAJH;AAMA,sBACE,+EACE;AAAK,iBAAU,eAAf;AAA+B,IAAA,SAAS,EAAES,mBAAOC;AAAjD,kBACE,gCAAC,oCAAD;AACE,IAAA,OAAO,EAAElB,OADX;AAEE,IAAA,SAAS,EAAEC,SAFb;AAGE,IAAA,WAAW,EAAEE;AAHf,kBAKE;AAAK,IAAA,SAAS,EAAEc,mBAAOE;AAAvB,kBACE,gCAAC,kBAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,UAHR;AAIE,IAAA,MAAM,EAAEC,6BAJV;AAKE,iBAAU,cALZ;AAME,IAAA,OAAO,EAAEN;AANX,IADF,CALF,CADF,eAiBE,gCAAC,kBAAD;AACE,IAAA,SAAS,EAAEZ,SADb;AAEE,IAAA,SAAS,EAAEe,mBAAOI,MAFpB;AAGE,IAAA,MAAM,EAAEb;AAHV,IAjBF,CADF,eAyBE,gCAAC,8BAAD;AACE,IAAA,IAAI,EAAEE,IADR;AAEE,IAAA,SAAS,EAAE,4BAAWO,mBAAOK,cAAlB,EAAkCjB,UAAlC,CAFb;AAGE,IAAA,KAAK,EAAE;AACLkB,MAAAA,MAAM,EAAEX;AADH;AAHT,kBAOE;AAAK,IAAA,SAAS,EAAEK,mBAAOV;AAAvB,kBACE,6DACE,gCAAC,kBAAD;AACE,IAAA,OAAO,EAAC,OADV;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,KAAK,EAAC,UAHR;AAIE,IAAA,MAAM,EAAEiB,4BAJV;AAKE,iBAAU,YALZ;AAME,IAAA,OAAO,EAAEV;AANX,IADF,CADF,eAWE,2DACE,gCAAC,oCAAD;AACE,IAAA,OAAO,EAAEd,OADX;AAEE,IAAA,SAAS,EAAEC,SAFb;AAGE,IAAA,WAAW,EAAEE;AAHf,IADF,eAME,gCAAC,0BAAD;AAAc,IAAA,SAAS,EAAEC,SAAzB;AAAoC,IAAA,SAAS,EAAEa,mBAAOQ;AAAtD,IANF,CAXF,CAPF,CAzBF,CADF;AAwDD,CA5EM;;;AA6EP1B,aAAa,CAAC2B,YAAd,GAA6B;AAC3BpB,EAAAA,OAAO,EAAE;AADkB,CAA7B","sourcesContent":["import { RcIconButton } from '@ringcentral-integration/rcui';\nimport chevronLeftSvg from '@ringcentral-integration/rcui/icons/icon-chevron_left.svg';\nimport chevronRight from '@ringcentral-integration/rcui/icons/icon-chevron_right.svg';\nimport classNames from 'classnames';\nimport React, {\n  FunctionComponent,\n  MutableRefObject,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { AnimationPanel } from '../AnimationPanel';\nimport { ShinyBar, ShinyBarProps } from '../LogBasicInfoV2/ShinyBar';\nimport { BasicCallInfoMain, BasicCallInfoMainProps } from './BasicCallInfoMain';\nimport { CallInfoProps } from './CallInfo';\nimport { CallInfoList } from './CallInfoList';\nimport styles from './styles.scss';\n\nexport type BasicCallInfoProps = {\n  currentLocale: string;\n  isRinging: boolean;\n  callInfos?: CallInfoProps[];\n  callControlRef?: MutableRefObject<HTMLElement>;\n  classes?: { panel?: string };\n} & Pick<ShinyBarProps, 'status'> &\n  Pick<BasicCallInfoMainProps, 'isInbound' | 'subject' | 'followInfos'>;\n\nexport const BasicCallInfo: FunctionComponent<BasicCallInfoProps> = ({\n  subject,\n  isInbound,\n  isRinging,\n  followInfos,\n  callInfos,\n  classes: { panel: panelClass },\n  status,\n  callControlRef,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [panelHeight, setPanelHeight] = useState('100%');\n  const toggleOpen = () => setOpen(!open);\n\n  useEffect(() => {\n    if (callControlRef.current) {\n      setPanelHeight(`calc(100% - ${callControlRef.current.clientHeight}px)`);\n    }\n  }, [callControlRef, status]);\n\n  return (\n    <>\n      <div data-sign=\"basicCallInfo\" className={styles.container}>\n        <BasicCallInfoMain\n          subject={subject}\n          isInbound={isInbound}\n          followInfos={followInfos}\n        >\n          <div className={styles.rightIcon}>\n            <RcIconButton\n              variant=\"round\"\n              size=\"small\"\n              color=\"grey.700\"\n              symbol={chevronRight}\n              data-sign=\"detailButton\"\n              onClick={toggleOpen}\n            />\n          </div>\n        </BasicCallInfoMain>\n        <ShinyBar\n          isRinging={isRinging}\n          className={styles.bottom}\n          status={status}\n        />\n      </div>\n\n      <AnimationPanel\n        open={open}\n        className={classNames(styles.panelContainer, panelClass)}\n        style={{\n          height: panelHeight,\n        }}\n      >\n        <div className={styles.panel}>\n          <header>\n            <RcIconButton\n              variant=\"round\"\n              size=\"small\"\n              color=\"grey.700\"\n              symbol={chevronLeftSvg}\n              data-sign=\"backButton\"\n              onClick={toggleOpen}\n            />\n          </header>\n          <main>\n            <BasicCallInfoMain\n              subject={subject}\n              isInbound={isInbound}\n              followInfos={followInfos}\n            />\n            <CallInfoList callInfos={callInfos} className={styles.infoList} />\n          </main>\n        </div>\n      </AnimationPanel>\n    </>\n  );\n};\nBasicCallInfo.defaultProps = {\n  classes: {},\n};\n"],"file":"BasicCallInfo.js"}