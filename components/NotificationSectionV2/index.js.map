{"version":3,"sources":["components/NotificationSectionV2/index.js"],"names":["NotificationSection","nextProps","logNotification","onCloseNotification","currentNotificationIdentify","call","result","props","formatPhone","currentLocale","showNotiLogButton","onSaveNotification","onExpandNotification","onDiscardNotification","currentSession","onReject","onHangup","shrinkNotification","telephonyStatus","status","statusI18n","isIncomingCall","telephonyStatuses","ringing","direction","callDirections","inbound","i18n","getString","styles","root","notificationModal","modalHeader","modalTitle","modalCloseBtn","notificationIsExpand","renderLogSection","Component","propTypes","PropTypes","string","isRequired","func","object","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport telephonyStatuses from 'ringcentral-integration/enums/telephonyStatus';\nimport callDirections from 'ringcentral-integration/enums/callDirections';\nimport CloseIcon from '../../assets/images/CloseIcon.svg';\nimport { Button } from '../Button';\nimport LogNotification from '../LogNotificationV2';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nexport default class NotificationSection extends Component {\n  componentWillUpdate(nextProps) {\n    const {\n      logNotification,\n      onCloseNotification,\n      currentNotificationIdentify,\n    } = nextProps;\n    if (currentNotificationIdentify) {\n      const { call = {} } = logNotification;\n      const { result } = call;\n      if (result) {\n        onCloseNotification();\n      }\n    }\n  }\n\n  renderLogSection() {\n    const {\n      formatPhone,\n      currentLocale,\n      logNotification,\n      showNotiLogButton,\n      onCloseNotification,\n      onSaveNotification,\n      onExpandNotification,\n      onDiscardNotification,\n      currentNotificationIdentify,\n      currentSession,\n      onReject,\n      onHangup,\n      shrinkNotification,\n    } = this.props;\n    const { call } = logNotification;\n    const { result, telephonyStatus } = call;\n    const status = result || telephonyStatus;\n    let statusI18n = null;\n    const isIncomingCall =\n      status === telephonyStatuses.ringing &&\n      call.direction === callDirections.inbound;\n    if (isIncomingCall) {\n      statusI18n = i18n.getString('ringing', currentLocale);\n    } else {\n      statusI18n = i18n.getString('callConnected', currentLocale);\n    }\n    return (\n      <div className={classnames(styles.root)}>\n        <div className={styles.notificationModal}>\n          <div className={styles.modalHeader}>\n            <div className={styles.modalTitle}>{statusI18n}</div>\n            <div className={styles.modalCloseBtn}>\n              <Button dataSign=\"closeButton\" onClick={onCloseNotification}>\n                <CloseIcon />\n              </Button>\n            </div>\n          </div>\n          <LogNotification\n            showEndButton\n            showLogButton={showNotiLogButton}\n            currentLocale={currentLocale}\n            formatPhone={formatPhone}\n            currentLog={logNotification}\n            isExpand={logNotification.notificationIsExpand}\n            onSave={onSaveNotification}\n            onExpand={onExpandNotification}\n            onDiscard={onDiscardNotification}\n            onReject={() => onReject(currentNotificationIdentify)}\n            onHangup={() => onHangup(currentNotificationIdentify)}\n            currentSession={currentSession}\n            shrinkNotification={shrinkNotification}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return this.renderLogSection();\n  }\n}\n\nNotificationSection.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  formatPhone: PropTypes.func.isRequired,\n  // - Notification\n  logNotification: PropTypes.object,\n  onCloseNotification: PropTypes.func,\n  onDiscardNotification: PropTypes.func,\n  onSaveNotification: PropTypes.func,\n  onExpandNotification: PropTypes.func,\n  showNotiLogButton: PropTypes.bool,\n  currentNotificationIdentify: PropTypes.string,\n  currentSession: PropTypes.object,\n  onReject: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  shrinkNotification: PropTypes.func,\n};\n\nNotificationSection.defaultProps = {\n  // Notification\n  logNotification: undefined,\n  onCloseNotification: undefined,\n  onDiscardNotification: undefined,\n  onSaveNotification: undefined,\n  onExpandNotification: undefined,\n  showNotiLogButton: true,\n  currentNotificationIdentify: '',\n  currentSession: undefined,\n  shrinkNotification: undefined,\n};\n"],"file":"index.js"}