{"version":3,"sources":["components/PresenceDropdown/index.js"],"names":["PresenceDropdown","props","state","showSelects","toggleShow","isReady","setState","preState","userStatus","dndStatus","currentLocale","setAvailable","setBusy","setDoNotDisturb","setInvisible","showDropdown","styles","root","showBackground","bk","presence","presenceBar","presenceList","presenceItem","presenceStatus","available","DndStatus","takeAllCalls","doNotAcceptAnyCalls","busy","offline","Component","propTypes","PropTypes","string","isRequired","func","bool","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport presenceStatus from 'ringcentral-integration/modules/Presence/presenceStatus';\nimport DndStatus from 'ringcentral-integration/modules/Presence/dndStatus';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Line from '../Line';\nimport PresenceItem from '../PresenceItem';\nimport styles from './style.scss';\n\nexport default class PresenceDropdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSelects: false,\n    };\n    // TODO: Consider for the bubble event of click to set status.\n    // (maybe discuss in coding dojo)\n    this.toggleShow = () => {\n      const { isReady } = this.props;\n      if (isReady) {\n        this.setState((preState) => ({\n          showSelects: !preState.showSelects,\n        }));\n      }\n    };\n  }\n\n  render() {\n    const {\n      userStatus,\n      dndStatus,\n      currentLocale,\n      setAvailable,\n      setBusy,\n      setDoNotDisturb,\n      setInvisible,\n    } = this.props;\n    const { showSelects } = this.state;\n    const showDropdown = classnames(\n      styles.root,\n      showSelects ? styles.showSelects : null,\n    );\n    const showBackground = classnames(\n      styles.bk,\n      showSelects ? styles.showSelects : null,\n    );\n    return (\n      <div>\n        <div\n          className={classnames(\n            styles.presence,\n            styles[userStatus],\n            styles[dndStatus],\n          )}\n          onClick={this.toggleShow}\n        >\n          <div className={styles.presenceBar} />\n          <div className={showDropdown}>\n            <Line className={styles.presenceList}>\n              <PresenceItem\n                className={styles.presenceItem}\n                userStatus={presenceStatus.available}\n                dndStatus={DndStatus.takeAllCalls}\n                currentLocale={currentLocale}\n                onClick={setAvailable}\n                selected={\n                  userStatus === presenceStatus.available &&\n                  dndStatus !== DndStatus.doNotAcceptAnyCalls\n                }\n              />\n              <PresenceItem\n                className={styles.presenceItem}\n                userStatus={presenceStatus.busy}\n                dndStatus={DndStatus.takeAllCalls}\n                currentLocale={currentLocale}\n                onClick={setBusy}\n                selected={\n                  userStatus === presenceStatus.busy &&\n                  dndStatus !== DndStatus.doNotAcceptAnyCalls\n                }\n              />\n              <PresenceItem\n                className={styles.presenceItem}\n                userStatus={presenceStatus.busy}\n                dndStatus={DndStatus.doNotAcceptAnyCalls}\n                currentLocale={currentLocale}\n                onClick={setDoNotDisturb}\n                selected={dndStatus === DndStatus.doNotAcceptAnyCalls}\n              />\n              <PresenceItem\n                className={styles.presenceItem}\n                userStatus={presenceStatus.offline}\n                dndStatus={DndStatus.takeAllCalls}\n                currentLocale={currentLocale}\n                onClick={setInvisible}\n                selected={\n                  userStatus === presenceStatus.offline &&\n                  dndStatus !== DndStatus.doNotAcceptAnyCalls\n                }\n              />\n            </Line>\n          </div>\n        </div>\n        <div className={showBackground} onClick={this.toggleShow} />\n      </div>\n    );\n  }\n}\n\nPresenceDropdown.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  dndStatus: PropTypes.string,\n  userStatus: PropTypes.string,\n  setAvailable: PropTypes.func.isRequired,\n  setBusy: PropTypes.func.isRequired,\n  setDoNotDisturb: PropTypes.func.isRequired,\n  setInvisible: PropTypes.func.isRequired,\n  isReady: PropTypes.bool.isRequired,\n};\n\nPresenceDropdown.defaultProps = {\n  dndStatus: null,\n  userStatus: null,\n};\n"],"file":"index.js"}