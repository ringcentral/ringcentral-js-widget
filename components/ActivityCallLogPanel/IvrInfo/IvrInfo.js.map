{"version":3,"sources":["components/ActivityCallLogPanel/IvrInfo/IvrInfo.tsx"],"names":["IvrInfo","isCallEnd","ivrAlertData","expanded","setExpanded","styles","ivrPanel","remain","container","root","panelRoot","endCall","summaryRoot","content","summaryContent","size","arrowDownSvg","ivrMainSubject","subject","length","count","detailsRoot","map","i","body","onClick","bodyRender","item"],"mappings":"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","sourcesContent":["import {\n  RcExpansionPanel,\n  RcExpansionPanelDetails,\n  RcExpansionPanelSummary,\n  RcIcon,\n  RcLink,\n} from '@ringcentral/juno';\nimport arrowDownSvg from '@ringcentral/juno/icon/ArrowDown2';\nimport classNames from 'classnames';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport {\n  EvActivityCallUIFunctions,\n  EvActivityCallUIProps,\n} from '../../../interfaces';\nimport styles from './styles.scss';\n\nexport type IvrInfoProps = { isCallEnd: boolean } & Pick<\n  EvActivityCallUIProps & EvActivityCallUIFunctions,\n  'ivrAlertData'\n>;\nexport const IvrInfo: FunctionComponent<IvrInfoProps> = ({\n  isCallEnd,\n  ivrAlertData,\n}) => {\n  const [expanded, setExpanded] = useState(false);\n\n  useEffect(() => {\n    if (isCallEnd) {\n      setExpanded(false);\n    }\n  }, [isCallEnd]);\n\n  return (\n    <div className={styles.ivrPanel}>\n      <i className={styles.remain} />\n      <div className={styles.container}>\n        <RcExpansionPanel\n          square\n          onChange={() => setExpanded(!expanded)}\n          expanded={expanded}\n          classes={{\n            root: classNames(styles.panelRoot, isCallEnd && styles.endCall),\n            expanded: styles.expanded,\n          }}\n        >\n          <RcExpansionPanelSummary\n            classes={{\n              root: styles.summaryRoot,\n              content: styles.summaryContent,\n            }}\n            IconButtonProps={{\n              size: 'small',\n            }}\n            expandIcon={<RcIcon symbol={arrowDownSvg} color={['grey', 500]} />}\n          >\n            <span className={styles.ivrMainSubject}>\n              {ivrAlertData[0].subject || ''}\n            </span>\n            {ivrAlertData.length > 1 ? (\n              <span className={styles.count}> +{ivrAlertData.length - 1}</span>\n            ) : null}\n          </RcExpansionPanelSummary>\n          <RcExpansionPanelDetails\n            classes={{\n              root: styles.detailsRoot,\n            }}\n          >\n            {ivrAlertData.map(({ subject = '', body = '', onClick }, i) => {\n              const bodyRender = () => {\n                if (body.length > 0) {\n                  if (onClick) {\n                    return <RcLink onClick={onClick}>{body}</RcLink>;\n                  }\n                  return <div className={styles.body}>{body}</div>;\n                }\n                return null;\n              };\n\n              return (\n                <div className={styles.item} key={i}>\n                  {i !== 0 && subject.length > 0 && (\n                    <div className={styles.subject}>{subject}</div>\n                  )}\n                  {bodyRender()}\n                </div>\n              );\n            })}\n          </RcExpansionPanelDetails>\n        </RcExpansionPanel>\n      </div>\n    </div>\n  );\n};\n"],"file":"IvrInfo.js"}