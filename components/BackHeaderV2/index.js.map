{"version":3,"sources":["components/BackHeaderV2/index.js"],"names":["initWidth","BackHeader","onBackClick","title","rightIcon","className","currentLocale","isWide","backIcon","maxWidth","setMaxWidth","rightRef","isClassic","current","clientWidth","rootClass","styles","root","classic","back","propTypes","PropTypes","func","isRequired","string","node","bool","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAEA,IAAMA,SAAS,GAAG,EAAlB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAQb;AAAA,MAPJC,WAOI,QAPJA,WAOI;AAAA,MANJC,KAMI,QANJA,KAMI;AAAA,MALJC,SAKI,QALJA,SAKI;AAAA,MAJJC,SAII,QAJJA,SAII;AAAA,MAHJC,aAGI,QAHJA,aAGI;AAAA,MAFJC,MAEI,QAFJA,MAEI;AAAA,MADJC,QACI,QADJA,QACI;;AAAA,kBAC4B,qBAASR,SAAT,CAD5B;AAAA;AAAA,MACGS,QADH;AAAA,MACaC,WADb;;AAEJ,MAAMC,QAAQ,GAAG,oBAAjB;AAEA,MAAMC,SAAS,GAAG,CAACL,MAAnB;;AAEA,MAAIK,SAAJ,EAAe;AACb,0BAAU,YAAM;AACd;AACAF,MAAAA,WAAW,CAACV,SAAS,IAAIW,QAAQ,CAACE,OAAT,CAAiBC,WAAjB,GAA+B,EAAnC,CAAV,CAAX;AACD,KAHD,EAGG,CAACR,aAAD,CAHH;AAID;;AAED,MAAMS,SAAS,GAAG,4BAChBC,mBAAOC,IADS,EAEhBL,SAAS,IAAII,mBAAOE,OAFJ,EAGhBb,SAHgB,CAAlB;AAMA,SACE;AAAK,IAAA,SAAS,EAAEU;AAAhB,KACE,gCAAC,kBAAD;AACE,IAAA,SAAS,EAAE,4BAAWC,mBAAOG,IAAlB,CADb;AAEE,IAAA,OAAO,EAAC,OAFV;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,IAAI,EAAEX,QAJR;AAKE,iBAAU,YALZ;AAME,IAAA,OAAO,EAAEN;AANX,IADF,EASE;AAAK,IAAA,SAAS,EAAEc,mBAAOb;AAAvB,KACGA,KAAK,GACJ;AAAM,IAAA,KAAK,EAAE;AAAEM,MAAAA,QAAQ,EAAEG,SAAS,GAAGH,QAAH,GAAc;AAAnC,KAAb;AAAwD,IAAA,KAAK,EAAEN;AAA/D,KACGA,KADH,CADI,GAIF,IALN,CATF,EAgBE;AAAK,IAAA,GAAG,EAAEQ;AAAV,KAAqBP,SAArB,CAhBF,CADF;AAoBD,CA/CD;;AAiDAH,UAAU,CAACmB,SAAX,GAAuB;AACrBlB,EAAAA,WAAW,EAAEmB,sBAAUC,IAAV,CAAeC,UADP;AAErBpB,EAAAA,KAAK,EAAEkB,sBAAUG,MAFI;AAGrBhB,EAAAA,QAAQ,EAAEa,sBAAUG,MAHC;AAIrBpB,EAAAA,SAAS,EAAEiB,sBAAUI,IAJA;AAKrBpB,EAAAA,SAAS,EAAEgB,sBAAUG,MALA;AAMrBlB,EAAAA,aAAa,EAAEe,sBAAUG,MANJ;AAOrBjB,EAAAA,MAAM,EAAEc,sBAAUK;AAPG,CAAvB;AAUAzB,UAAU,CAAC0B,YAAX,GAA0B;AACxBxB,EAAAA,KAAK,EAAE,EADiB;AAExBC,EAAAA,SAAS,EAAE,IAFa;AAGxBI,EAAAA,QAAQ,EAAE,cAHc;AAIxBH,EAAAA,SAAS,EAAE,IAJa;AAKxBC,EAAAA,aAAa,EAAE,OALS;AAMxBC,EAAAA,MAAM,EAAE;AANgB,CAA1B;eASeN,U","sourcesContent":["import classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { RcIconButton } from '@ringcentral-integration/rcui';\nimport React, { useEffect, useRef, useState } from 'react';\nimport styles from './styles.scss';\n\nconst initWidth = 67;\n\nconst BackHeader = ({\n  onBackClick,\n  title,\n  rightIcon,\n  className,\n  currentLocale,\n  isWide,\n  backIcon,\n}) => {\n  const [maxWidth, setMaxWidth] = useState(initWidth);\n  const rightRef = useRef();\n\n  const isClassic = !isWide;\n\n  if (isClassic) {\n    useEffect(() => {\n      // this smallest clientWidth is 62.\n      setMaxWidth(initWidth - (rightRef.current.clientWidth - 62));\n    }, [currentLocale]);\n  }\n\n  const rootClass = classnames(\n    styles.root,\n    isClassic && styles.classic,\n    className,\n  );\n\n  return (\n    <div className={rootClass}>\n      <RcIconButton\n        className={classnames(styles.back)}\n        variant=\"round\"\n        size=\"small\"\n        icon={backIcon}\n        data-sign=\"backButton\"\n        onClick={onBackClick}\n      />\n      <div className={styles.title}>\n        {title ? (\n          <span style={{ maxWidth: isClassic ? maxWidth : null }} title={title}>\n            {title}\n          </span>\n        ) : null}\n      </div>\n      <div ref={rightRef}>{rightIcon}</div>\n    </div>\n  );\n};\n\nBackHeader.propTypes = {\n  onBackClick: PropTypes.func.isRequired,\n  title: PropTypes.string,\n  backIcon: PropTypes.string,\n  rightIcon: PropTypes.node,\n  className: PropTypes.string,\n  currentLocale: PropTypes.string,\n  isWide: PropTypes.bool,\n};\n\nBackHeader.defaultProps = {\n  title: '',\n  rightIcon: null,\n  backIcon: 'chevron_left',\n  className: null,\n  currentLocale: 'en-US',\n  isWide: true,\n};\n\nexport default BackHeader;\n"],"file":"index.js"}