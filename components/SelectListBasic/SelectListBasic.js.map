{"version":3,"sources":["components/SelectListBasic/SelectListBasic.js"],"names":["SelectListBasic","title","options","otherOptions","associatedOptions","showAssociatedSection","placeholder","searchOption","rightIcon","matchedTitle","otherTitle","associatedTitle","currentLocale","renderListView","open","setOpen","scrollCheck","selectListBasicClassName","backHeaderClassName","listContainerClassName","onBackClick","filter","setFilter","scrollElmRef","matchElmRef","hasSearch","matchOptions","option","matchOtherOptions","matchAssociatedOptions","hasResult","length","backHeaderOnclick","styles","list","active","search","event","target","value","listContainer","text","elm","type","i18n","getString","propTypes","PropTypes","string","isRequired","arrayOf","object","bool","func","element","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport classnames from 'classnames';\nimport { RcOutlineTextField } from '@ringcentral-integration/rcui';\nimport PropTypes from 'prop-types';\nimport styles from './styles.scss';\nimport BackHeader from '../BackHeaderV2';\nimport i18n from './i18n';\n\nconst SelectListBasic = ({\n  title,\n  options,\n  otherOptions,\n  associatedOptions,\n  showAssociatedSection,\n  placeholder,\n  searchOption,\n  rightIcon,\n  matchedTitle,\n  otherTitle,\n  associatedTitle,\n  currentLocale,\n  renderListView,\n  open,\n  setOpen,\n  scrollCheck,\n  selectListBasicClassName,\n  backHeaderClassName,\n  listContainerClassName,\n  onBackClick,\n}) => {\n  const [filter, setFilter] = useState(null);\n  const scrollElmRef = useRef();\n  const matchElmRef = useRef();\n\n  const hasSearch = searchOption && filter;\n  const matchOptions = hasSearch\n    ? options.filter((option) => searchOption(option, filter))\n    : options;\n  const matchOtherOptions = hasSearch\n    ? otherOptions.filter((option) => searchOption(option, filter))\n    : otherOptions;\n  const matchAssociatedOptions = hasSearch\n    ? associatedOptions.filter((option) => searchOption(option, filter))\n    : associatedOptions;\n\n  const hasResult =\n    matchOptions.length +\n      matchOtherOptions.length +\n      matchAssociatedOptions.length >\n      0 ||\n    options.length + otherOptions.length + associatedOptions.length === 0;\n  const backHeaderOnclick = () => {\n    if (onBackClick) {\n      return onBackClick();\n    }\n    setOpen(false);\n    setFilter(null);\n  };\n\n  return (\n    <div\n      className={classnames(\n        styles.list,\n        open ? styles.active : null,\n        selectListBasicClassName,\n      )}\n    >\n      {open ? (\n        <>\n          <BackHeader\n            currentLocale={currentLocale}\n            title={title}\n            onBackClick={backHeaderOnclick}\n            rightIcon={rightIcon}\n            className={backHeaderClassName}\n          />\n          <main data-sign=\"selectList\">\n            <div className={styles.search}>\n              {!filter && (\n                <span\n                  className={classnames(styles.placeholder, 'text-ellipsis')}\n                >\n                  {placeholder}\n                </span>\n              )}\n              <RcOutlineTextField\n                size=\"small\"\n                type=\"circle\"\n                fullWidth\n                icon=\"search\"\n                iconSize=\"small\"\n                data-sign=\"searchBar\"\n                onChange={(event: any) => {\n                  if (event.target) {\n                    const value = event.target.value || '';\n                    setFilter(value);\n                  }\n                }}\n              />\n            </div>\n            <div\n              className={classnames(\n                styles.listContainer,\n                listContainerClassName,\n              )}\n              ref={scrollElmRef}\n              data-sign=\"searchResult\"\n            >\n              {hasResult ? (\n                <>\n                  <div ref={matchElmRef} className={styles.text}>\n                    {matchedTitle && (\n                      <div className={styles.title}>\n                        {matchedTitle} ({matchOptions.length})\n                      </div>\n                    )}\n                    {matchOptions.length > 0 &&\n                      renderListView(\n                        matchOptions,\n                        'matched',\n                        filter,\n                        (elm, type) =>\n                          scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                      )}\n                  </div>\n                  <div className={styles.text}>\n                    {otherTitle && (\n                      <div className={styles.title}>\n                        {otherTitle} ({matchOtherOptions.length})\n                      </div>\n                    )}\n                    {matchOtherOptions.length > 0 &&\n                      renderListView(\n                        matchOtherOptions,\n                        'other',\n                        filter,\n                        (elm, type) =>\n                          scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                      )}\n                  </div>\n                  {showAssociatedSection && (\n                    <div className={styles.text}>\n                      {associatedTitle && (\n                        <div className={styles.title}>\n                          {associatedTitle} ({matchAssociatedOptions.length})\n                        </div>\n                      )}\n                      {matchAssociatedOptions.length > 0 &&\n                        renderListView(\n                          matchAssociatedOptions,\n                          'other',\n                          filter,\n                          (elm, type) =>\n                            scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                        )}\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div\n                  className={classnames(\n                    styles.search,\n                    styles.text,\n                    'text-break',\n                  )}\n                >\n                  {`${i18n.getString(\n                    'noResultFoundFor',\n                    currentLocale,\n                  )} '${filter}'`}\n                </div>\n              )}\n            </div>\n          </main>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nSelectListBasic.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object),\n  otherOptions: PropTypes.arrayOf(PropTypes.object),\n  associatedOptions: PropTypes.arrayOf(PropTypes.object),\n  showAssociatedSection: PropTypes.bool,\n  placeholder: PropTypes.string,\n  searchOption: PropTypes.func.isRequired,\n  rightIcon: PropTypes.element,\n  currentLocale: PropTypes.string.isRequired,\n  matchedTitle: PropTypes.string,\n  otherTitle: PropTypes.string,\n  associatedTitle: PropTypes.string,\n  renderListView: PropTypes.func,\n  open: PropTypes.bool,\n  setOpen: PropTypes.func,\n  scrollCheck: PropTypes.func,\n  selectListBasicClassName: PropTypes.string,\n  backHeaderClassName: PropTypes.string,\n  listContainerClassName: PropTypes.string,\n  onBackClick: PropTypes.func,\n};\n\nSelectListBasic.defaultProps = {\n  options: [],\n  otherOptions: [],\n  associatedOptions: [],\n  showAssociatedSection: false,\n  placeholder: '',\n  rightIcon: null,\n  setOpen() {},\n  open: false,\n  renderListView() {},\n  scrollCheck() {},\n  selectListBasicClassName: null,\n  backHeaderClassName: null,\n  listContainerClassName: null,\n  onBackClick: undefined,\n  matchedTitle: null,\n  otherTitle: null,\n  associatedTitle: null,\n};\n\nexport { SelectListBasic };\n"],"file":"SelectListBasic.js"}