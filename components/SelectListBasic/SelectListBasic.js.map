{"version":3,"sources":["components/SelectListBasic/SelectListBasic.js"],"names":["SelectListBasic","title","options","otherOptions","placeholder","searchOption","rightIcon","matchedTitle","otherTitle","currentLocale","renderListView","open","setOpen","scrollCheck","selectListBasicClassName","backHeaderClassName","listContainerClassName","onBackClick","filter","setFilter","hasSearch","matchOptions","option","matchOtherOptions","scrollElmRef","matchElmRef","hasResult","length","backHeaderOnclick","styles","list","active","search","event","target","value","listContainer","text","elm","type","i18n","getString","propTypes","PropTypes","string","isRequired","arrayOf","object","func","element","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react';\nimport classnames from 'classnames';\nimport { RcOutlineTextField } from '@ringcentral-integration/rcui';\nimport PropTypes from 'prop-types';\nimport styles from './styles.scss';\nimport BackHeader from '../BackHeaderV2';\nimport i18n from './i18n';\n\nconst SelectListBasic = ({\n  title,\n  options,\n  otherOptions,\n  placeholder,\n  searchOption,\n  rightIcon,\n  matchedTitle,\n  otherTitle,\n  currentLocale,\n  renderListView,\n  open,\n  setOpen,\n  scrollCheck,\n  selectListBasicClassName,\n  backHeaderClassName,\n  listContainerClassName,\n  onBackClick,\n}) => {\n  const [filter, setFilter] = useState(null);\n\n  const hasSearch = searchOption && filter;\n  const matchOptions = hasSearch\n    ? options.filter((option) => searchOption(option, filter))\n    : options;\n  const matchOtherOptions = hasSearch\n    ? otherOptions.filter((option) => searchOption(option, filter))\n    : otherOptions;\n\n  const scrollElmRef = useRef();\n  const matchElmRef = useRef();\n  const hasResult =\n    matchOptions.length + matchOtherOptions.length > 0 ||\n    options.length + otherOptions.length === 0;\n\n  const backHeaderOnclick = () => {\n    if (onBackClick) {\n      return onBackClick();\n    }\n    setOpen(false);\n    setFilter(null);\n  };\n\n  return (\n    <div\n      className={classnames(\n        styles.list,\n        open ? styles.active : null,\n        selectListBasicClassName,\n      )}\n    >\n      {open ? (\n        <>\n          <BackHeader\n            currentLocale={currentLocale}\n            title={title}\n            onBackClick={backHeaderOnclick}\n            rightIcon={rightIcon}\n            className={backHeaderClassName}\n          />\n          <main data-sign=\"selectList\">\n            <div className={styles.search}>\n              {!filter && (\n                <span\n                  className={classnames(styles.placeholder, 'text-ellipsis')}\n                >\n                  {placeholder}\n                </span>\n              )}\n              <RcOutlineTextField\n                size=\"small\"\n                type=\"circle\"\n                fullWidth\n                icon=\"search\"\n                iconSize=\"small\"\n                data-sign=\"searchBar\"\n                onChange={(event: any) => {\n                  if (event.target) {\n                    const value = event.target.value || '';\n                    setFilter(value);\n                  }\n                }}\n              />\n            </div>\n            <div\n              className={classnames(\n                styles.listContainer,\n                listContainerClassName,\n              )}\n              ref={scrollElmRef}\n              data-sign=\"searchResult\"\n            >\n              {hasResult ? (\n                <>\n                  <div ref={matchElmRef} className={styles.text}>\n                    <div className={styles.title}>{matchedTitle}</div>\n                    {matchOptions.length > 0 &&\n                      renderListView(\n                        matchOptions,\n                        'matched',\n                        filter,\n                        (elm, type) =>\n                          scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                      )}\n                  </div>\n                  <div className={styles.text}>\n                    <div className={styles.title}>{otherTitle}</div>\n                    {matchOtherOptions.length > 0 &&\n                      renderListView(\n                        matchOtherOptions,\n                        'other',\n                        filter,\n                        (elm, type) =>\n                          scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                      )}\n                  </div>\n                </>\n              ) : (\n                <div\n                  className={classnames(\n                    styles.search,\n                    styles.text,\n                    'text-break',\n                  )}\n                >\n                  {`${i18n.getString(\n                    'noResultFoundFor',\n                    currentLocale,\n                  )} '${filter}'`}\n                </div>\n              )}\n            </div>\n          </main>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nSelectListBasic.propTypes = {\n  title: PropTypes.string.isRequired,\n  options: PropTypes.arrayOf(PropTypes.object),\n  otherOptions: PropTypes.arrayOf(PropTypes.object),\n  placeholder: PropTypes.string,\n  searchOption: PropTypes.func.isRequired,\n  rightIcon: PropTypes.element,\n  currentLocale: PropTypes.string.isRequired,\n  matchedTitle: PropTypes.string.isRequired,\n  otherTitle: PropTypes.string.isRequired,\n  renderListView: PropTypes.func,\n  open: PropTypes.bool,\n  setOpen: PropTypes.func,\n  scrollCheck: PropTypes.func,\n  selectListBasicClassName: PropTypes.string,\n  backHeaderClassName: PropTypes.string,\n  listContainerClassName: PropTypes.string,\n  onBackClick: PropTypes.func,\n};\n\nSelectListBasic.defaultProps = {\n  options: [],\n  otherOptions: [],\n  placeholder: '',\n  rightIcon: null,\n  setOpen() {},\n  open: false,\n  renderListView() {},\n  scrollCheck() {},\n  selectListBasicClassName: null,\n  backHeaderClassName: null,\n  listContainerClassName: null,\n  onBackClick: undefined,\n};\n\nexport { SelectListBasic };\n"],"file":"SelectListBasic.js"}