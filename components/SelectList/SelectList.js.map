{"version":3,"sources":["components/SelectList/SelectList.tsx"],"names":["SelectListBasicWithScrollCheck","SelectListBasic","SelectList","props","field","appName","children","disabled","onChange","autoClose","otherTitle","onBackClick","matchedTitle","currentLocale","valueFunction","renderFunction","startAdornment","associatedTitle","sourceValue","value","backHeaderClassName","onSelectViewVisible","foundFromServerTitle","secondaryRenderFunction","open","setOpen","renderListView","data","type","filter","scrollCheck","document","activeElement","blur","elm","styles","e","preventDefault","stopPropagation","i18n","getString","defaultProps","options","otherOptions","associatedOptions","showAssociatedSection","placeholder","rightIcon","contactSearch","showFoundFromServer","foundFromServerEntities"],"mappings":"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","sourcesContent":["import formatMessage from 'format-message';\nimport React, {\n  ComponentProps,\n  FunctionComponent,\n  useEffect,\n  useState,\n} from 'react';\n\nimport { SelectListBasic, SelectListBasicProps } from '../SelectListBasic';\nimport i18n from './i18n';\nimport { ListView, ListViewProps } from './ListView';\nimport styles from './styles.scss';\nimport { WithScrollCheck } from './WithScrollCheck';\n\nconst SelectListBasicWithScrollCheck: FunctionComponent<SelectListBasicProps> = WithScrollCheck(\n  SelectListBasic,\n);\n\nexport { SelectListBasicWithScrollCheck };\n\nexport type SelectListProps = {\n  title: string;\n  otherOptions?: object[];\n  associatedOptions?: object[];\n  showOtherSection?: boolean;\n  showAssociatedSection?: boolean;\n  placeholder?: string;\n  searchOption: (...args: any[]) => any;\n  disabled?: boolean;\n  field?: string;\n  value?: any;\n  rightIcon?: JSX.Element;\n  onSelectViewVisible?: (...args: any[]) => any;\n  currentLocale: string;\n  matchedTitle?: string;\n  otherTitle?: string;\n  associatedTitle?: string;\n  backHeaderClassName?: string;\n  contactSearch?: (...args: any[]) => any;\n  appName?: string;\n  autoClose?: boolean;\n  onBackClick: () => void;\n} & Pick<\n  ListViewProps,\n  | 'options'\n  | 'valueFunction'\n  | 'renderFunction'\n  | 'startAdornment'\n  | 'onChange'\n  | 'secondaryRenderFunction'\n> &\n  Pick<\n    SelectListBasicProps,\n    'foundFromServerEntities' | 'foundFromServerTitle' | 'showFoundFromServer'\n  >;\n\ntype RenderListView = ComponentProps<\n  typeof SelectListBasicWithScrollCheck\n>['renderListView'];\n\nexport const SelectList: FunctionComponent<SelectListProps> = (props) => {\n  const {\n    field,\n    appName,\n    children,\n    disabled,\n    onChange,\n    autoClose,\n    otherTitle,\n    onBackClick,\n    matchedTitle,\n    currentLocale,\n    valueFunction,\n    renderFunction,\n    startAdornment,\n    associatedTitle,\n    value: sourceValue,\n    backHeaderClassName,\n    onSelectViewVisible,\n    foundFromServerTitle,\n    secondaryRenderFunction,\n  } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    onSelectViewVisible(open, field);\n  }, [field, onSelectViewVisible, open]);\n\n  const renderListView: RenderListView = (data, type, filter, scrollCheck) => (\n    <ListView\n      filter={filter}\n      options={data}\n      value={sourceValue}\n      onChange={(value) => {\n        if (document.activeElement) {\n          (document.activeElement as HTMLInputElement).blur();\n        }\n        onChange(value);\n        // auto close select section after selected a value\n        if (autoClose) {\n          setOpen(false);\n          onBackClick();\n        }\n      }}\n      renderFunction={renderFunction}\n      secondaryRenderFunction={secondaryRenderFunction}\n      valueFunction={valueFunction}\n      onSelect={(elm) => scrollCheck(elm, type)}\n      startAdornment={startAdornment}\n    />\n  );\n\n  return (\n    <div\n      className={disabled ? styles.disabled : null}\n      data-sign=\"select-list-panel\"\n    >\n      <div\n        className={styles.field}\n        data-sign=\"select-list-open\"\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (disabled) {\n            return;\n          }\n          setOpen(true);\n        }}\n      >\n        {children}\n      </div>\n      <SelectListBasicWithScrollCheck\n        {...props}\n        matchedTitle={matchedTitle || i18n.getString('matched', currentLocale)}\n        otherTitle={otherTitle || i18n.getString('other', currentLocale)}\n        associatedTitle={\n          associatedTitle || i18n.getString('associated', currentLocale)\n        }\n        foundFromServerTitle={\n          foundFromServerTitle ||\n          formatMessage(i18n.getString('foundFromServer', currentLocale), {\n            appName,\n          })\n        }\n        renderListView={renderListView}\n        open={open}\n        setOpen={setOpen}\n        backHeaderClassName={backHeaderClassName}\n      />\n    </div>\n  );\n};\nSelectList.defaultProps = {\n  options: [],\n  otherOptions: [],\n  associatedOptions: [],\n  showAssociatedSection: false,\n  placeholder: '',\n  disabled: false,\n  matchedTitle: '',\n  otherTitle: '',\n  associatedTitle: '',\n  field: '',\n  value: {},\n  rightIcon: null,\n  onChange() {},\n  startAdornment() {},\n  onSelectViewVisible() {},\n  backHeaderClassName: null,\n  contactSearch: null,\n  appName: null,\n  showFoundFromServer: false,\n  foundFromServerTitle: null,\n  foundFromServerEntities: [],\n  autoClose: true,\n  onBackClick() {},\n};\n"],"file":"SelectList.js"}