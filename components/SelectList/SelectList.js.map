{"version":3,"sources":["components/SelectList/SelectList.tsx"],"names":["SelectListBasicWithScrollCheck","SelectListBasic","SelectList","props","field","appName","children","disabled","onChange","autoClose","otherTitle","onBackClick","matchedTitle","currentLocale","valueFunction","renderFunction","startAdornment","associatedTitle","sourceValue","value","backHeaderClassName","onSelectViewVisible","foundFromServerTitle","open","setOpen","renderListView","data","type","filter","scrollCheck","document","activeElement","blur","elm","styles","e","preventDefault","stopPropagation","i18n","getString","defaultProps","options","otherOptions","associatedOptions","showAssociatedSection","placeholder","rightIcon","contactSearch","showFoundFromServer","foundFromServerEntities"],"mappings":"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","sourcesContent":["import formatMessage from 'format-message';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport { SelectListBasic, SelectListBasicProps } from '../SelectListBasic';\nimport i18n from './i18n';\nimport { ListView, ListViewProps } from './ListView';\nimport styles from './styles.scss';\nimport { WithScrollCheck } from './WithScrollCheck';\n\nconst SelectListBasicWithScrollCheck: FunctionComponent<SelectListBasicProps> = WithScrollCheck(\n  SelectListBasic,\n);\n\nexport { SelectListBasicWithScrollCheck };\n\nexport type SelectListProps = {\n  title: string;\n  otherOptions?: object[];\n  associatedOptions?: object[];\n  showAssociatedSection?: boolean;\n  placeholder?: string;\n  searchOption: (...args: any[]) => any;\n  disabled?: boolean;\n  field?: string;\n  value?: any;\n  rightIcon?: JSX.Element;\n  onSelectViewVisible?: (...args: any[]) => any;\n  currentLocale: string;\n  matchedTitle?: string;\n  otherTitle?: string;\n  associatedTitle?: string;\n  backHeaderClassName?: string;\n  contactSearch?: (...args: any[]) => any;\n  appName?: string;\n  autoClose?: boolean;\n  onBackClick: () => void;\n} & Pick<\n  ListViewProps,\n  'options' | 'valueFunction' | 'renderFunction' | 'startAdornment' | 'onChange'\n> &\n  Pick<\n    SelectListBasicProps,\n    'foundFromServerEntities' | 'foundFromServerTitle' | 'showFoundFromServer'\n  >;\n\nexport const SelectList: FunctionComponent<SelectListProps> = (props) => {\n  const {\n    field,\n    appName,\n    children,\n    disabled,\n    onChange,\n    autoClose,\n    otherTitle,\n    onBackClick,\n    matchedTitle,\n    currentLocale,\n    valueFunction,\n    renderFunction,\n    startAdornment,\n    associatedTitle,\n    value: sourceValue,\n    backHeaderClassName,\n    onSelectViewVisible,\n    foundFromServerTitle,\n  } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    onSelectViewVisible(open, field);\n  }, [field, onSelectViewVisible, open]);\n  const renderListView = (data, type, filter, scrollCheck) => (\n    <ListView\n      filter={filter}\n      options={data}\n      value={sourceValue}\n      onChange={(value) => {\n        if (document.activeElement) {\n          (document.activeElement as HTMLInputElement).blur();\n        }\n        onChange(value);\n        // auto close select section after selected a value\n        if (autoClose) {\n          setOpen(false);\n          onBackClick();\n        }\n      }}\n      renderFunction={renderFunction}\n      valueFunction={valueFunction}\n      onSelect={(elm) => scrollCheck(elm, type)}\n      startAdornment={startAdornment}\n    />\n  );\n  return (\n    <div\n      className={disabled ? styles.disabled : null}\n      data-sign=\"select-list-panel\"\n    >\n      <div\n        className={styles.field}\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (disabled) {\n            return;\n          }\n          setOpen(true);\n        }}\n      >\n        {children}\n      </div>\n      <SelectListBasicWithScrollCheck\n        {...props}\n        matchedTitle={matchedTitle || i18n.getString('matched', currentLocale)}\n        otherTitle={otherTitle || i18n.getString('other', currentLocale)}\n        associatedTitle={\n          associatedTitle || i18n.getString('associated', currentLocale)\n        }\n        foundFromServerTitle={\n          foundFromServerTitle ||\n          formatMessage(i18n.getString('foundFromServer', currentLocale), {\n            appName,\n          })\n        }\n        renderListView={renderListView}\n        open={open}\n        setOpen={setOpen}\n        backHeaderClassName={backHeaderClassName}\n      />\n    </div>\n  );\n};\nSelectList.defaultProps = {\n  options: [],\n  otherOptions: [],\n  associatedOptions: [],\n  showAssociatedSection: false,\n  placeholder: '',\n  disabled: false,\n  matchedTitle: '',\n  otherTitle: '',\n  associatedTitle: '',\n  field: '',\n  value: {},\n  rightIcon: null,\n  onChange() {},\n  startAdornment() {},\n  onSelectViewVisible() {},\n  backHeaderClassName: null,\n  contactSearch: null,\n  appName: null,\n  showFoundFromServer: false,\n  foundFromServerTitle: null,\n  foundFromServerEntities: [],\n  autoClose: true,\n  onBackClick() {},\n};\n"],"file":"SelectList.js"}