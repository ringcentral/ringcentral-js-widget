{"version":3,"sources":["components/ForwardPanel/index.js"],"names":["ForwardPanel","props","_mounted","onButtonOutput","key","setState","preState","value","toNumber","onForward","telephonySessionId","forwarding","state","onToNumberChange","event","currentTarget","onBackClick","currentLocale","styles","root","backHeader","i18n","getString","dialInput","input","padContainer","dialPad","buttonRow","button","ForwardIcon","forwardIcon","forwardIconDisable","PureComponent","propTypes","PropTypes","func","isRequired","string"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ForwardIcon from '../../assets/images/Forward_white.svg';\nimport DialPad from '../DialPad';\nimport BackHeader from '../BackHeader';\nimport CircleButton from '../CircleButton';\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nexport default class ForwardPanel extends PureComponent {\n  _mounted = false;\n  static propTypes = {\n    onForward: PropTypes.func.isRequired,\n    currentLocale: PropTypes.string.isRequired,\n    onBackClick: PropTypes.func.isRequired,\n    telephonySessionId: PropTypes.string.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      toNumber: '',\n      forwarding: false,\n    };\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  onButtonOutput = (key) => {\n    this.setState((preState) => {\n      const value = preState.toNumber + key;\n      return { toNumber: value };\n    });\n  };\n\n  onForward = async () => {\n    const { onForward, telephonySessionId } = this.props;\n    this.setState({\n      forwarding: true,\n    });\n    await onForward(this.state.toNumber, telephonySessionId);\n    // forward success then page destroyed\n    if (!this._mounted) return;\n    this.setState({\n      forwarding: false,\n    });\n  };\n\n  onToNumberChange = (event) => {\n    const toNumber = event.currentTarget.value;\n    this.setState({\n      toNumber,\n    });\n  };\n\n  render() {\n    const { onBackClick, currentLocale } = this.props;\n    const { forwarding } = this.state;\n    return (\n      <div className={styles.root}>\n        <BackHeader onBackClick={onBackClick} className={styles.backHeader}>\n          {i18n.getString('forward', currentLocale)}\n        </BackHeader>\n        <div className={classnames(styles.dialInput)}>\n          <input\n            data-sign=\"input\"\n            className={styles.input}\n            value={this.state.toNumber}\n            onChange={this.onToNumberChange}\n            autoFocus // eslint-disable-line\n          />\n        </div>\n        <div className={styles.padContainer}>\n          <DialPad\n            dataSign=\"forwardDialpad\"\n            className={styles.dialPad}\n            onButtonOutput={this.onButtonOutput}\n          />\n          <div className={styles.buttonRow}>\n            <div className={styles.button}>\n              <CircleButton\n                dataSign=\"forwardBtn\"\n                onClick={this.onForward}\n                icon={ForwardIcon}\n                className={classnames(styles.forwardIcon, {\n                  [styles.forwardIconDisable]: forwarding,\n                })}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n"],"file":"index.js"}