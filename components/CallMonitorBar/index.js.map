{"version":3,"sources":["components/CallMonitorBar/index.js"],"names":["CallInfoBar","label","onClick","currentLocale","shouldDisplayViewCallsBtn","styles","bar","currentCallInfo","viewCallsBtn","i18n","getString","propTypes","PropTypes","string","func","bool","defaultProps","undefined","CallMonitorBar","props","state","hoverBar","showBtn","currentCalls","length","setState","hideBtn","ringingCalls","onHoldCalls","onCurrentCallBtnClick","onViewCallBtnClick","shouldDisplayCurrentCallBtn","numberOfIncomingCalls","numberOfOnHoldCalls","box","numberOf","duration","startTime","currentCallBtn","Component","array","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport formatMessage from 'format-message';\n\nimport DurationCounter from '../DurationCounter';\nimport { Button } from '../Button';\nimport CarrouselBar from '../CarrouselBar';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport function CallInfoBar({\n  label,\n  onClick,\n  currentLocale,\n  shouldDisplayViewCallsBtn,\n}) {\n  return (\n    <div className={styles.bar}>\n      <div className={styles.currentCallInfo} title={label} onClick={onClick}>\n        {label}\n      </div>\n      {shouldDisplayViewCallsBtn ? (\n        <Button\n          className={styles.viewCallsBtn}\n          tooltip={i18n.getString('viewCalls', currentLocale)}\n          onClick={onClick}\n        >\n          {i18n.getString('viewCalls', currentLocale)}\n        </Button>\n      ) : null}\n    </div>\n  );\n}\nCallInfoBar.propTypes = {\n  label: PropTypes.string,\n  onClick: PropTypes.func,\n  currentLocale: PropTypes.string,\n  shouldDisplayViewCallsBtn: PropTypes.bool,\n};\nCallInfoBar.defaultProps = {\n  label: '',\n  onClick: undefined,\n  currentLocale: '',\n  shouldDisplayViewCallsBtn: false,\n};\n\nexport default class CallMonitorBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hoverBar: false,\n    };\n    this.showBtn = () => {\n      if (this.props.currentCalls.length > 0) {\n        this.setState({\n          hoverBar: true,\n        });\n      }\n    };\n    this.hideBtn = () => {\n      this.setState({\n        hoverBar: false,\n      });\n    };\n  }\n\n  render() {\n    const {\n      ringingCalls,\n      onHoldCalls,\n      currentCalls,\n      currentLocale,\n      onCurrentCallBtnClick,\n      onViewCallBtnClick,\n      shouldDisplayCurrentCallBtn,\n      shouldDisplayViewCallsBtn,\n    } = this.props;\n\n    const numberOfIncomingCalls = ringingCalls.length;\n    const numberOfOnHoldCalls = onHoldCalls.length;\n\n    return (\n      <div\n        className={styles.bar}\n        onMouseOver={this.showBtn}\n        onMouseLeave={this.hideBtn}\n      >\n        <div className={styles.box}>\n          <CarrouselBar hoverBar={this.state.hoverBar}>\n            {numberOfOnHoldCalls > 0 ? (\n              <CallInfoBar\n                label={\n                  numberOfOnHoldCalls === 1\n                    ? formatMessage(\n                        i18n.getString('callOnHold', currentLocale),\n                        { numberOf: numberOfOnHoldCalls },\n                      )\n                    : formatMessage(\n                        i18n.getString('callsOnHold', currentLocale),\n                        { numberOf: numberOfOnHoldCalls },\n                      )\n                }\n                currentLocale={currentLocale}\n                onClick={onViewCallBtnClick}\n                shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n              />\n            ) : null}\n            {numberOfIncomingCalls > 0 ? (\n              <CallInfoBar\n                label={\n                  numberOfIncomingCalls === 1\n                    ? formatMessage(\n                        i18n.getString('incomingCall', currentLocale),\n                        { numberOf: numberOfIncomingCalls },\n                      )\n                    : formatMessage(\n                        i18n.getString('incomingCalls', currentLocale),\n                        { numberOf: numberOfIncomingCalls },\n                      )\n                }\n                currentLocale={currentLocale}\n                onClick={onViewCallBtnClick}\n                shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n              />\n            ) : null}\n            {currentCalls.length > 0 ? (\n              <div className={styles.bar}>\n                <div\n                  data-sign=\"callDuration\"\n                  className={styles.duration}\n                  onClick={onCurrentCallBtnClick}\n                >\n                  <DurationCounter startTime={currentCalls[0].startTime} />\n                </div>\n                {shouldDisplayCurrentCallBtn && onCurrentCallBtnClick ? (\n                  <Button\n                    dataSign=\"currentCallButton\"\n                    className={styles.currentCallBtn}\n                    onClick={onCurrentCallBtnClick}\n                  >\n                    {i18n.getString('currentCall', currentLocale)}\n                  </Button>\n                ) : null}\n              </div>\n            ) : null}\n          </CarrouselBar>\n        </div>\n      </div>\n    );\n  }\n}\nCallMonitorBar.propTypes = {\n  ringingCalls: PropTypes.array,\n  currentCalls: PropTypes.array,\n  onHoldCalls: PropTypes.array,\n  currentLocale: PropTypes.string.isRequired,\n  onCurrentCallBtnClick: PropTypes.func,\n  onViewCallBtnClick: PropTypes.func,\n  shouldDisplayCurrentCallBtn: PropTypes.bool,\n  shouldDisplayViewCallsBtn: PropTypes.bool,\n};\nCallMonitorBar.defaultProps = {\n  ringingCalls: [],\n  currentCalls: [],\n  onHoldCalls: [],\n  onCurrentCallBtnClick: undefined,\n  onViewCallBtnClick: undefined,\n  shouldDisplayCurrentCallBtn: false,\n  shouldDisplayViewCallsBtn: false,\n};\n"],"file":"index.js"}