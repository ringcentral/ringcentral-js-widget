{"version":3,"sources":["components/CallLogCallCtrlComponent/MoreActionWithForward/MoreActionWithForward.tsx"],"names":["MoreActionWithForward","props","disabled","currentLocale","forwardingNumbers","forward","ignore","anchorEl","setAnchorEl","forwardListEl","setForwardListEl","handleClick","event","currentTarget","handleClose","handleForwardListClick","children","handleForwardListClose","onForward","selectedValue","attributes","value","i18n","getString","MoreIcon","styles","button","buttonDisabled","vertical","horizontal","menuItem","itemIconLeft","itemText","backIcon","dynamicsFont","arrow","ignoreIcon","root","forwardMenuList","phoneNumber","label","map","item","forwardNumberItem","actionText","subText"],"mappings":"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","sourcesContent":["import { RcMenuItem, RcMenuList, RcPopover } from '@ringcentral/juno';\nimport IgnoreIcon from '@ringcentral/juno/icons/icon-ignore.svg';\nimport classnames from 'classnames';\nimport React, { FunctionComponent, useState } from 'react';\n\nimport dynamicsFont from '../../../assets/DynamicsFont/DynamicsFont.scss';\nimport ForwardIcon from '../../../assets/images/Forward_white.svg';\nimport MoreIcon from '../../../assets/images/MoreIcon.svg';\nimport CircleButton from '../../CircleButton';\nimport i18n from '../i18n';\nimport { MoreActionWithForwardProps } from './MoreActionWithForward.interface';\nimport styles from './styles.scss';\n\nconst MoreActionWithForward: FunctionComponent<MoreActionWithForwardProps> = (\n  props,\n) => {\n  const { disabled, currentLocale, forwardingNumbers, forward, ignore } = props;\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [forwardListEl, setForwardListEl] = useState(null);\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const handleForwardListClick = (\n    event: React.MouseEvent<HTMLButtonElement>,\n  ) => {\n    setForwardListEl(event.currentTarget.children?.[0]);\n  };\n  const handleForwardListClose = () => {\n    setForwardListEl(null);\n  };\n\n  const onForward = (event: React.MouseEvent<HTMLButtonElement>) => {\n    const selectedValue = event.currentTarget.attributes['data-value'].value;\n    if (selectedValue === 'custom') {\n      setForwardListEl(null);\n      setAnchorEl(null);\n    }\n    forward(selectedValue);\n  };\n  return (\n    <>\n      <span title={i18n.getString('more', currentLocale)}>\n        <CircleButton\n          dataSign=\"more\"\n          icon={MoreIcon}\n          onClick={handleClick}\n          className={classnames(styles.button, {\n            [styles.buttonDisabled]: disabled,\n          })}\n        />\n      </span>\n      <RcPopover\n        open={!!anchorEl}\n        onClose={handleClose}\n        anchorEl={anchorEl}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'right',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <RcMenuList>\n          <RcMenuItem\n            onClick={handleForwardListClick}\n            className={styles.menuItem}\n            data-sign=\"forward\"\n          >\n            <span className={styles.itemIconLeft}>\n              <ForwardIcon />\n            </span>\n            <span className={styles.itemText}>Forward</span>\n            <span className={styles.backIcon}>\n              <i data-sign=\"backButton\" className={dynamicsFont.arrow} />\n            </span>\n          </RcMenuItem>\n          <RcMenuItem\n            className={styles.menuItem}\n            onClick={ignore}\n            data-sign=\"ignore\"\n          >\n            <span\n              className={classnames(styles.itemIconLeft, styles.ignoreIcon)}\n            >\n              <IgnoreIcon />\n            </span>\n            <span className={styles.itemText}>Ignore</span>\n          </RcMenuItem>\n        </RcMenuList>\n      </RcPopover>\n      <RcPopover\n        open={!!forwardListEl}\n        onClose={handleForwardListClose}\n        anchorEl={forwardListEl}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'left',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'right',\n        }}\n      >\n        <RcMenuList classes={{ root: styles.forwardMenuList }}>\n          {[\n            ...forwardingNumbers,\n            {\n              phoneNumber: 'custom',\n              label: i18n.getString('custom', currentLocale),\n            },\n          ].map((item) => {\n            return (\n              <RcMenuItem\n                onClick={onForward}\n                key={item.phoneNumber}\n                data-value={item.phoneNumber}\n              >\n                <div className={styles.forwardNumberItem}>\n                  <span className={styles.actionText}>{item.label}</span>\n                  {item.phoneNumber !== 'custom' && (\n                    <span className={styles.subText}>{item.phoneNumber}</span>\n                  )}\n                </div>\n              </RcMenuItem>\n            );\n          })}\n        </RcMenuList>\n      </RcPopover>\n    </>\n  );\n};\n\nexport { MoreActionWithForward };\n"],"file":"MoreActionWithForward.js"}