{"version":3,"sources":["components/RecipientsInput/index.js"],"names":["focusCampo","inputField","blur","value","length","createTextRange","FieldRange","moveStart","collapse","select","selectionStart","elemLen","selectionEnd","setTimeout","focus","SelectedRecipientItem","phoneNumber","name","title","onRemove","className","styles","extension","removeReceiver","propTypes","PropTypes","string","isRequired","func","defaultProps","undefined","SelectedRecipients","recipient","recipients","multiple","selectReceivers","map","item","shape","arrayOf","bool","RecipientsInput","props","onInputKeyUp","e","searchContact","currentTarget","setState","isFocusOnInput","onInputFocus","onInputChange","onChange","listRef","scrollTop","onClean","clickHandler","evt","contains","target","inputRef","_addToRecipients","addToRecipients","setInputRef","ref","state","selectedContactIndex","scrollDirection","setSelectedIndex","index","scrollOperation","direction","addSelectedContactIndex","searchContactList","preState","reduceSelectedContactIndex","isSplitter","key","keyCode","handleHotKey","preventDefault","relatedContactList","currentSelected","replace","nextProps","window","addEventListener","autoFocus","_focusTimeout","removeEventListener","useRCUI","isLastInputFromDialpad","slice","label","i18n","getString","currentLocale","toNumberInput","inputWrapper","numberInput","placeholder","removeButton","container","rcuiStyle","rightPanel","removeFromRecipients","recipientsClassName","formatContactPhone","titleEnabled","phoneTypeRenderer","phoneSourceNameRenderer","contactInfoRenderer","contactPhoneRenderer","Component","entityType","phoneType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styles from './styles.scss';\nimport RemoveButton from '../RemoveButton';\nimport ContactDropdownList from '../ContactDropdownList';\nimport i18n from './i18n';\n\n/**\n * Set mouse focus and move cursor to end of input\n * @param {HTMLElement} inputField\n */\nconst focusCampo = (inputField) => {\n  inputField.blur();\n  if (inputField && inputField.value.length !== 0) {\n    if (inputField.createTextRange) {\n      const FieldRange = inputField.createTextRange();\n      FieldRange.moveStart('character', inputField.value.length);\n      FieldRange.collapse();\n      FieldRange.select();\n    } else if (inputField.selectionStart || inputField.selectionStart === 0) {\n      const elemLen = inputField.value.length;\n      inputField.selectionStart = elemLen;\n      inputField.selectionEnd = elemLen;\n    }\n  }\n  setTimeout(() => {\n    inputField.focus();\n  }, 0);\n};\n\nfunction SelectedRecipientItem({\n  phoneNumber,\n  name = phoneNumber,\n  title = name,\n  onRemove,\n}) {\n  const className =\n    phoneNumber.length > 5 ? styles.phoneNumber : styles.extension;\n  return (\n    <li className={className} title={title}>\n      <span>{name}</span>\n      <RemoveButton\n        className={styles.removeReceiver}\n        onClick={onRemove}\n        visibility\n      />\n    </li>\n  );\n}\n\nSelectedRecipientItem.propTypes = {\n  phoneNumber: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  title: PropTypes.string,\n  onRemove: PropTypes.func.isRequired,\n};\nSelectedRecipientItem.defaultProps = {\n  name: undefined,\n  title: undefined,\n};\n\nfunction SelectedRecipients({\n  recipient,\n  recipients,\n  multiple,\n  onRemove,\n  className,\n}) {\n  if (multiple && recipients.length) {\n    return (\n      <ul className={classnames(className, styles.selectReceivers)}>\n        {recipients.map((item) => (\n          <SelectedRecipientItem\n            key={item.phoneNumber}\n            name={item.name}\n            phoneNumber={item.phoneNumber}\n            onRemove={() => onRemove(item.phoneNumber)}\n          />\n        ))}\n      </ul>\n    );\n  }\n  if (!multiple && recipient) {\n    return (\n      <ul className={classnames(className, styles.selectReceivers)}>\n        <SelectedRecipientItem\n          key={recipient.phoneNumber}\n          name={recipient.name}\n          phoneNumber={recipient.phoneNumber}\n          onRemove={() => onRemove(recipient.phoneNumber)}\n        />\n      </ul>\n    );\n  }\n  return null;\n}\n\nSelectedRecipients.propTypes = {\n  onRemove: PropTypes.func.isRequired,\n  recipient: PropTypes.shape({\n    phoneNumber: PropTypes.string.isRequired,\n    name: PropTypes.string,\n  }),\n  recipients: PropTypes.arrayOf(\n    PropTypes.shape({\n      phoneNumber: PropTypes.string.isRequired,\n      name: PropTypes.string,\n    }),\n  ).isRequired,\n  multiple: PropTypes.bool.isRequired,\n  className: PropTypes.string,\n};\nSelectedRecipients.defaultProps = {\n  recipient: null,\n  className: undefined,\n};\n\nclass RecipientsInput extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n      isFocusOnInput: false,\n      selectedContactIndex: 0,\n      scrollDirection: null,\n    };\n\n    this.setSelectedIndex = (index) => {\n      this.setState({\n        selectedContactIndex: index,\n        scrollDirection: null,\n      });\n    };\n    this.scrollOperation = (direction) => {\n      if (direction === 'ArrowDown' || direction === 'ArrowUp') {\n        this.setState({\n          scrollDirection: direction,\n        });\n      }\n    };\n    this.addSelectedContactIndex = () => {\n      const { length } = this.props.searchContactList;\n      if (this.state.selectedContactIndex >= length - 1) {\n        this.setState({\n          selectedContactIndex: length - 1,\n        });\n      } else {\n        this.setState((preState) => ({\n          selectedContactIndex: preState.selectedContactIndex + 1,\n        }));\n      }\n    };\n\n    this.reduceSelectedContactIndex = () => {\n      if (this.state.selectedContactIndex > 0) {\n        this.setState((preState) => ({\n          selectedContactIndex: preState.selectedContactIndex - 1,\n        }));\n      } else {\n        this.setState({\n          selectedContactIndex: 0,\n        });\n      }\n    };\n\n    this.isSplitter = (e) => {\n      if (\n        e.key === ',' ||\n        e.key === ';' ||\n        e.key === 'Enter' ||\n        (e.key === 'Unidentified' && // for Safari (FF cannot rely on keyCode...)\n          (e.keyCode === 186 || // semicolon\n          e.keyCode === 188 || // comma\n            e.keyCode === 13)) // enter\n      ) {\n        return true;\n      }\n      return false;\n    };\n    // using React SyntheticEvent to deal with cross browser issue\n    this.handleHotKey = (e) => {\n      if (this.state.isFocusOnInput && this.state.value.length >= 3) {\n        if (e.key === 'ArrowUp') {\n          this.reduceSelectedContactIndex();\n          this.scrollOperation(e.key);\n        } else if (e.key === 'ArrowDown') {\n          this.addSelectedContactIndex();\n          this.scrollOperation(e.key);\n        }\n      } else {\n        this.setState({\n          selectedContactIndex: 0,\n        });\n      }\n      if (this.isSplitter(e)) {\n        e.preventDefault();\n        if (this.state.value.length === 0) {\n          return;\n        }\n        const relatedContactList =\n          this.state.value.length >= 3 ? this.props.searchContactList : [];\n        const currentSelected =\n          relatedContactList[this.state.selectedContactIndex];\n        if (currentSelected && e.key === 'Enter') {\n          this.props.addToRecipients({\n            name: currentSelected.name,\n            phoneNumber: currentSelected.phoneNumber,\n          });\n        } else {\n          this.props.addToRecipients({\n            name: this.state.value.replace(',', ''),\n            phoneNumber: this.state.value.replace(',', ''),\n          });\n        }\n      }\n    };\n  }\n\n  onInputKeyUp = (e) => {\n    this.props.searchContact(e.currentTarget.value);\n    this.setState({\n      isFocusOnInput: true,\n    });\n  };\n\n  onInputFocus = () => {\n    this.setState({\n      isFocusOnInput: true,\n    });\n  };\n\n  onInputChange = (e) => {\n    const { value } = e.currentTarget;\n    this.setState({ value }, () => {\n      this.props.onChange(value);\n    });\n    if (this.listRef) {\n      this.listRef.scrollTop = 0;\n    }\n  };\n\n  onClean = () => {\n    this.setState({ value: '' });\n    this.props.onClean();\n  };\n\n  componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.value !== undefined &&\n      nextProps.value !== this.props.value &&\n      nextProps.value !== this.state.value\n    ) {\n      this.setState({ value: nextProps.value }, () => {\n        if (this.inputRef) {\n          focusCampo(this.inputRef);\n        }\n      });\n      this.props.searchContact(nextProps.value);\n    }\n  }\n\n  componentDidMount() {\n    this.props.searchContact(this.props.value);\n    window.addEventListener('click', this.clickHandler);\n    if (this.props.autoFocus) {\n      this._focusTimeout = setTimeout(() => {\n        if (this.inputRef) {\n          this.inputRef.focus();\n        }\n      }, 300);\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.clickHandler);\n  }\n\n  clickHandler = (evt) => {\n    if (this.listRef && this.listRef.contains(evt.target)) return;\n    if (this.inputRef && this.inputRef.contains(evt.target)) {\n      this.setState({\n        isFocusOnInput: true,\n      });\n      return;\n    }\n    this.setState({\n      isFocusOnInput: false,\n    });\n  };\n\n  _addToRecipients = (item) => {\n    this.setState({ value: '', isFocusOnInput: false });\n    this.props.addToRecipients(item);\n  };\n\n  setInputRef = (ref) => {\n    this.inputRef = ref;\n    if (typeof this.props.inputRef === 'function') {\n      this.props.inputRef(ref);\n    }\n  };\n\n  render() {\n    const { useRCUI, className, isLastInputFromDialpad } = this.props;\n    // TODO a temporary fix for rendering slower search result.\n    const relatedContactList =\n      this.state.value.length >= 3\n        ? this.props.searchContactList.slice(0, 50)\n        : [];\n    const label = (\n      <label className={styles.label}>\n        {this.props.label === undefined\n          ? `${i18n.getString('to', this.props.currentLocale)}:`\n          : this.props.label}\n      </label>\n    );\n    const toNumberInput =\n      !this.props.multiple && this.props.recipient ? null : (\n        <div className={styles.inputWrapper}>\n          <div\n            className={classnames(\n              styles.inputField,\n              this.state.isFocusOnInput ? 'Mui-focused' : null,\n              'MuiInput-underline',\n            )}\n          >\n            <input\n              data-sign=\"recipientsInput\"\n              ref={this.setInputRef}\n              name=\"receiver\"\n              value={this.state.value}\n              onChange={this.onInputChange}\n              className={styles.numberInput}\n              maxLength={30}\n              onFocus={this.onInputFocus}\n              onKeyUp={this.onInputKeyUp}\n              placeholder={\n                this.props.placeholder === undefined\n                  ? i18n.getString(\n                      'enterNameOrNumber',\n                      this.props.currentLocale,\n                    )\n                  : this.props.placeholder\n              }\n              autoComplete=\"off\"\n            />\n          </div>\n          <RemoveButton\n            className={styles.removeButton}\n            onClick={this.onClean}\n            visibility={this.state.value.length > 0}\n          />\n        </div>\n      );\n    return (\n      <div\n        className={classnames(\n          styles.container,\n          useRCUI ? styles.rcuiStyle : null,\n          className,\n        )}\n        onKeyDown={this.handleHotKey}\n      >\n        {label}\n        <div\n          className={classnames(\n            useRCUI ? styles.rcuiStyle : null,\n            this.props.label === undefined ? styles.rightPanel : '',\n          )}\n        >\n          <SelectedRecipients\n            recipient={this.props.recipient}\n            recipients={this.props.recipients}\n            multiple={this.props.multiple}\n            onRemove={this.props.removeFromRecipients}\n            className={this.props.recipientsClassName}\n          />\n          {toNumberInput}\n        </div>\n        <ContactDropdownList\n          currentLocale={this.props.currentLocale}\n          listRef={(ref) => {\n            this.listRef = ref;\n          }}\n          scrollDirection={this.state.scrollDirection}\n          selectedIndex={this.state.selectedContactIndex}\n          setSelectedIndex={this.setSelectedIndex}\n          addToRecipients={this._addToRecipients}\n          items={relatedContactList}\n          formatContactPhone={this.props.formatContactPhone}\n          visibility={this.state.isFocusOnInput && !isLastInputFromDialpad}\n          titleEnabled={this.props.titleEnabled}\n          phoneTypeRenderer={this.props.phoneTypeRenderer}\n          phoneSourceNameRenderer={this.props.phoneSourceNameRenderer}\n          contactInfoRenderer={this.props.contactInfoRenderer}\n          contactPhoneRenderer={this.props.contactPhoneRenderer}\n        />\n      </div>\n    );\n  }\n}\n\nRecipientsInput.propTypes = {\n  className: PropTypes.string,\n  recipientsClassName: PropTypes.string,\n  label: PropTypes.string,\n  placeholder: PropTypes.string,\n  searchContactList: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      entityType: PropTypes.string.isRequired,\n      phoneType: PropTypes.string.isRequired,\n      phoneNumber: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  recipient: PropTypes.shape({\n    phoneNumber: PropTypes.string.isRequired,\n    name: PropTypes.string,\n  }),\n  recipients: PropTypes.arrayOf(\n    PropTypes.shape({\n      phoneNumber: PropTypes.string.isRequired,\n      name: PropTypes.string,\n    }),\n  ),\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClean: PropTypes.func.isRequired,\n  addToRecipients: PropTypes.func.isRequired,\n  removeFromRecipients: PropTypes.func.isRequired,\n  formatContactPhone: PropTypes.func.isRequired,\n  searchContact: PropTypes.func,\n  titleEnabled: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  currentLocale: PropTypes.string.isRequired,\n  multiple: PropTypes.bool,\n  inputRef: PropTypes.func,\n  phoneTypeRenderer: PropTypes.func,\n  phoneSourceNameRenderer: PropTypes.func,\n  contactInfoRenderer: PropTypes.func,\n  contactPhoneRenderer: PropTypes.func,\n  useRCUI: PropTypes.bool,\n  isLastInputFromDialpad: PropTypes.bool,\n};\n\nRecipientsInput.defaultProps = {\n  className: undefined,\n  recipientsClassName: undefined,\n  label: undefined,\n  placeholder: undefined,\n  recipient: null,\n  recipients: [],\n  searchContact: () => null,\n  titleEnabled: undefined,\n  autoFocus: false,\n  multiple: false,\n  inputRef: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  contactInfoRenderer: undefined,\n  contactPhoneRenderer: undefined,\n  useRCUI: false,\n  isLastInputFromDialpad: false,\n};\n\nexport default RecipientsInput;\n"],"file":"index.js"}