{"version":3,"sources":["components/RecipientsInput/RecipientsInput.tsx"],"names":["RecipientsInput","props","setSelectedIndex","scrollOperation","addSelectedContactIndex","reduceSelectedContactIndex","isSplitter","handleHotKey","listRef","inputRef","_focusTimeout","onInputKeyUp","e","searchContact","currentTarget","value","setState","isFocusOnInput","onInputFocus","onInputChange","onChange","scrollTop","onPaste","ev","detectPhoneNumbers","clipboardData","getData","preventDefault","pastedText","result","currentVal","state","newVal","replace","onClean","clickHandler","evt","contains","target","_addToRecipients","item","addToRecipients","setInputRef","ref","selectedContactIndex","scrollDirection","index","direction","length","searchContactList","preState","key","keyCode","relatedContactList","currentSelected","name","phoneNumber","nextProps","undefined","window","addEventListener","autoFocus","setTimeout","focus","removeEventListener","className","contactInfoRenderer","contactPhoneRenderer","currentLocale","formatContactPhone","isLastInputFromDialpad","label","multiple","phoneSourceNameRenderer","phoneTypeRenderer","placeholder","recipient","recipients","recipientsClassName","removeFromRecipients","titleEnabled","useRCUI","slice","labelEl","styles","i18n","getString","toNumberInput","inputWrapper","inputField","numberInput","removeButton","container","rcuiStyle","rightPanel","Component","defaultProps"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport React, { Component, ClipboardEvent } from 'react';\n\nimport ContactDropdownList from '../ContactDropdownList';\nimport { RemoveButton } from '../RemoveButton';\nimport { focusCampo } from './focusCampo';\nimport i18n from './i18n';\nimport { SelectedRecipients } from './SelectedRecipients';\nimport styles from './styles.scss';\n\ntype RecipientsInputProps = {\n  className?: string;\n  recipientsClassName?: string;\n  label?: string;\n  placeholder?: string;\n  searchContactList: {\n    name: string;\n    entityType: string;\n    phoneType: string;\n    phoneNumber: string;\n  }[];\n  recipient?: {\n    phoneNumber: string;\n    name?: string;\n  };\n  recipients?: {\n    phoneNumber: string;\n    name?: string;\n  }[];\n  value: string;\n  onChange: (...args: any[]) => any;\n  onClean: (...args: any[]) => any;\n  addToRecipients: (...args: any[]) => any;\n  removeFromRecipients: (...args: any[]) => any;\n  formatContactPhone: (...args: any[]) => any;\n  detectPhoneNumbers: (...args: any[]) => any;\n  searchContact?: (...args: any[]) => any;\n  titleEnabled?: boolean;\n  autoFocus?: boolean;\n  currentLocale: string;\n  multiple?: boolean;\n  inputRef?: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  contactInfoRenderer?: (...args: any[]) => any;\n  contactPhoneRenderer?: (...args: any[]) => any;\n  useRCUI?: boolean;\n  isLastInputFromDialpad?: boolean;\n};\ntype RecipientsInputState = {\n  value: any;\n  isFocusOnInput: boolean;\n  selectedContactIndex: number;\n  scrollDirection: null;\n};\n\nclass RecipientsInput extends Component<\n  RecipientsInputProps,\n  RecipientsInputState\n> {\n  setSelectedIndex: (index: any) => void;\n  scrollOperation: (direction: any) => void;\n  addSelectedContactIndex: () => void;\n  reduceSelectedContactIndex: () => void;\n  isSplitter: (e: any) => boolean;\n  handleHotKey: (e: any) => void;\n  listRef: any;\n  inputRef: any;\n  _focusTimeout: NodeJS.Timeout;\n\n  static defaultProps: Partial<RecipientsInputProps> = {\n    recipients: [],\n    searchContact: () => null,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n      isFocusOnInput: false,\n      selectedContactIndex: 0,\n      scrollDirection: null,\n    };\n    this.setSelectedIndex = (index) => {\n      this.setState({\n        selectedContactIndex: index,\n        scrollDirection: null,\n      });\n    };\n    this.scrollOperation = (direction) => {\n      if (direction === 'ArrowDown' || direction === 'ArrowUp') {\n        this.setState({\n          scrollDirection: direction,\n        });\n      }\n    };\n    this.addSelectedContactIndex = () => {\n      const { length } = this.props.searchContactList;\n      if (this.state.selectedContactIndex >= length - 1) {\n        this.setState({\n          selectedContactIndex: length - 1,\n        });\n      } else {\n        this.setState((preState) => ({\n          selectedContactIndex: preState.selectedContactIndex + 1,\n        }));\n      }\n    };\n    this.reduceSelectedContactIndex = () => {\n      if (this.state.selectedContactIndex > 0) {\n        this.setState((preState) => ({\n          selectedContactIndex: preState.selectedContactIndex - 1,\n        }));\n      } else {\n        this.setState({\n          selectedContactIndex: 0,\n        });\n      }\n    };\n    this.isSplitter = (e) => {\n      if (\n        e.key === ',' ||\n        e.key === ';' ||\n        e.key === 'Enter' ||\n        (e.key === 'Unidentified' && // for Safari (FF cannot rely on keyCode...)\n          (e.keyCode === 186 || // semicolon\n          e.keyCode === 188 || // comma\n            e.keyCode === 13)) // enter\n      ) {\n        return true;\n      }\n      return false;\n    };\n    // using React SyntheticEvent to deal with cross browser issue\n    this.handleHotKey = (e) => {\n      if (this.state.isFocusOnInput && this.state.value.length >= 3) {\n        if (e.key === 'ArrowUp') {\n          this.reduceSelectedContactIndex();\n          this.scrollOperation(e.key);\n        } else if (e.key === 'ArrowDown') {\n          this.addSelectedContactIndex();\n          this.scrollOperation(e.key);\n        }\n      } else {\n        this.setState({\n          selectedContactIndex: 0,\n        });\n      }\n      if (this.isSplitter(e)) {\n        e.preventDefault();\n        if (this.state.value.length === 0) {\n          return;\n        }\n        const relatedContactList =\n          this.state.value.length >= 3 ? this.props.searchContactList : [];\n        const currentSelected =\n          relatedContactList[this.state.selectedContactIndex];\n        if (currentSelected && e.key === 'Enter') {\n          this.props.addToRecipients({\n            name: currentSelected.name,\n            phoneNumber: currentSelected.phoneNumber,\n          });\n        } else {\n          this.props.addToRecipients({\n            name: this.state.value.replace(',', ''),\n            phoneNumber: this.state.value.replace(',', ''),\n          });\n        }\n      }\n    };\n  }\n\n  onInputKeyUp = (e) => {\n    this.props.searchContact(e.currentTarget.value);\n    this.setState({\n      isFocusOnInput: true,\n    });\n  };\n\n  onInputFocus = () => {\n    this.setState({\n      isFocusOnInput: true,\n    });\n  };\n\n  onInputChange = (e) => {\n    const { value } = e.currentTarget;\n    this.setState({ value }, () => {\n      this.props.onChange(value);\n    });\n    if (this.listRef) {\n      this.listRef.scrollTop = 0;\n    }\n  };\n\n  onPaste = async (ev: ClipboardEvent) => {\n    if (\n      this.props.detectPhoneNumbers &&\n      ev.clipboardData &&\n      ev.clipboardData.getData\n    ) {\n      ev.preventDefault();\n      const pastedText = ev.clipboardData.getData('text/plain');\n      const result = await this.props.detectPhoneNumbers(pastedText);\n      const currentVal = this.state.value || '';\n      if (!result) {\n        const newVal = `${currentVal}${pastedText.replace(/\\n/g, ' ')}`;\n        this.setState({ value: newVal }, () => {\n          this.props.onChange(newVal);\n        });\n      }\n    }\n  };\n\n  onClean = () => {\n    this.setState({ value: '' });\n    this.props.onClean();\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.value !== undefined &&\n      nextProps.value !== this.props.value &&\n      nextProps.value !== this.state.value\n    ) {\n      this.setState({ value: nextProps.value }, () => {\n        if (this.inputRef) {\n          focusCampo(this.inputRef);\n        }\n      });\n      this.props.searchContact(nextProps.value);\n    }\n  }\n\n  componentDidMount() {\n    this.props.searchContact(this.props.value);\n    window.addEventListener('click', this.clickHandler);\n    if (this.props.autoFocus) {\n      this._focusTimeout = setTimeout(() => {\n        if (this.inputRef) {\n          this.inputRef.focus();\n        }\n      }, 300);\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this.clickHandler);\n  }\n\n  clickHandler = (evt) => {\n    if (this.listRef && this.listRef.contains(evt.target)) return;\n    if (this.inputRef && this.inputRef.contains(evt.target)) {\n      this.setState({\n        isFocusOnInput: true,\n      });\n      return;\n    }\n    this.setState({\n      isFocusOnInput: false,\n    });\n  };\n\n  _addToRecipients = (item) => {\n    this.setState({ value: '', isFocusOnInput: false });\n    this.props.addToRecipients(item);\n  };\n\n  setInputRef = (ref) => {\n    this.inputRef = ref;\n    if (typeof this.props.inputRef === 'function') {\n      this.props.inputRef(ref);\n    }\n  };\n\n  render() {\n    const {\n      className,\n      contactInfoRenderer,\n      contactPhoneRenderer,\n      currentLocale,\n      formatContactPhone,\n      isLastInputFromDialpad,\n      label,\n      multiple,\n      phoneSourceNameRenderer,\n      phoneTypeRenderer,\n      placeholder,\n      recipient,\n      recipients,\n      recipientsClassName,\n      removeFromRecipients,\n      searchContactList,\n      titleEnabled,\n      useRCUI,\n    } = this.props;\n\n    const {\n      value,\n      isFocusOnInput,\n      scrollDirection,\n      selectedContactIndex,\n    } = this.state;\n    // TODO a temporary fix for rendering slower search result.\n    const relatedContactList =\n      value.length >= 3 ? searchContactList.slice(0, 50) : [];\n    const labelEl = (\n      // eslint-disable-next-line jsx-a11y/label-has-associated-control\n      <label className={styles.label}>\n        {label === undefined\n          ? `${i18n.getString('to', currentLocale)}:`\n          : label}\n      </label>\n    );\n    const toNumberInput =\n      !multiple && recipient ? null : (\n        <div className={styles.inputWrapper}>\n          <div\n            className={classnames(\n              styles.inputField,\n              isFocusOnInput ? 'Mui-focused' : null,\n              'MuiInput-underline',\n            )}\n          >\n            <input\n              data-sign=\"recipientsInput\"\n              ref={this.setInputRef}\n              name=\"receiver\"\n              value={value}\n              onChange={this.onInputChange}\n              onPaste={this.onPaste}\n              className={styles.numberInput}\n              maxLength={30}\n              onFocus={this.onInputFocus}\n              onKeyUp={this.onInputKeyUp}\n              placeholder={\n                placeholder === undefined\n                  ? i18n.getString('enterNameOrNumber', currentLocale)\n                  : placeholder\n              }\n              autoComplete=\"off\"\n            />\n          </div>\n          <RemoveButton\n            className={styles.removeButton}\n            onClick={this.onClean}\n            visibility={value.length > 0}\n          />\n        </div>\n      );\n    return (\n      <div\n        className={classnames(\n          styles.container,\n          useRCUI ? styles.rcuiStyle : null,\n          className,\n        )}\n        onKeyDown={this.handleHotKey}\n      >\n        {labelEl}\n        <div\n          className={classnames(\n            useRCUI ? styles.rcuiStyle : null,\n            label === undefined ? styles.rightPanel : '',\n          )}\n        >\n          <SelectedRecipients\n            recipient={recipient}\n            recipients={recipients}\n            multiple={multiple}\n            onRemove={removeFromRecipients}\n            className={recipientsClassName}\n          />\n          {toNumberInput}\n        </div>\n        <ContactDropdownList\n          currentLocale={currentLocale}\n          listRef={(ref) => {\n            this.listRef = ref;\n          }}\n          scrollDirection={scrollDirection}\n          selectedIndex={selectedContactIndex}\n          setSelectedIndex={this.setSelectedIndex}\n          addToRecipients={this._addToRecipients}\n          items={relatedContactList}\n          formatContactPhone={formatContactPhone}\n          visibility={isFocusOnInput && !isLastInputFromDialpad}\n          titleEnabled={titleEnabled}\n          phoneTypeRenderer={phoneTypeRenderer}\n          phoneSourceNameRenderer={phoneSourceNameRenderer}\n          contactInfoRenderer={contactInfoRenderer}\n          contactPhoneRenderer={contactPhoneRenderer}\n        />\n      </div>\n    );\n  }\n}\n\nexport default RecipientsInput;\n"],"file":"RecipientsInput.js"}