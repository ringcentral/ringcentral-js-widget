{"version":3,"sources":["components/SearchPanel/SearchPanel.tsx"],"names":["SearchPanel","placeholder","options","searchOption","currentLocale","renderListItem","renderList","classes","filter","setFilter","SelectListContext","scrollElmRef","filteredOptions","option","styles","root","searchInput","i18n","getString","searchSvg","event","target","value","searchResults","searchResult","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;AAiBO,IAAMA,WAAgD,GAAG,SAAnDA,WAAmD,OAQ1D;AAAA,MAPJC,WAOI,QAPJA,WAOI;AAAA,MANJC,OAMI,QANJA,OAMI;AAAA,MALJC,YAKI,QALJA,YAKI;AAAA,MAJJC,aAII,QAJJA,aAII;AAAA,MAHJC,cAGI,QAHJA,cAGI;AAAA,MAFJC,UAEI,QAFJA,UAEI;AAAA,MADJC,OACI,QADJA,OACI;;AAAA,kBACwB,qBAAS,IAAT,CADxB;AAAA;AAAA,MACGC,MADH;AAAA,MACWC,SADX;;AAAA,oBAEqB,uBAAWC,2BAAX,CAFrB;AAAA,MAEIC,YAFJ,eAEIA,YAFJ;;AAIJ,MAAMC,eAAe,GAAGJ,MAAM,GAC1BN,OAAO,CAACM,MAAR,CAAe,UAACK,MAAD;AAAA,WAAYV,YAAY,CAACU,MAAD,EAASL,MAAT,CAAxB;AAAA,GAAf,CAD0B,GAE1BN,OAFJ;AAGA,sBACE;AAAK,IAAA,SAAS,EAAE,4BAAWY,mBAAOC,IAAlB,EAAwBR,OAAO,CAACQ,IAAhC;AAAhB,kBACE;AAAK,IAAA,SAAS,EAAE,4BAAWD,mBAAOE,WAAlB,EAA+BT,OAAO,CAACS,WAAvC;AAAhB,KACG,CAACR,MAAD;AAAA;AAAa;AACZ;AAAM,IAAA,SAAS,EAAE,4BAAWM,mBAAOb,WAAlB,EAA+BM,OAAO,CAACN,WAAvC;AAAjB,KACGA,WAAW,IAAIgB,iBAAKC,SAAL,CAAe,QAAf,EAAyBd,aAAzB,CADlB,CAFJ,eAME,gCAAC,wBAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,UAAU,EAAC,QAFb;AAGE,IAAA,YAAY,EAAC,MAHf;AAIE,IAAA,MAAM,EAAEe,sBAJV;AAKE,iBAAU,WALZ;AAME,IAAA,QAAQ,EAAE,kBACRC,KADQ,EAEL;AACH,UAAIA,KAAK,CAACC,MAAV,EAAkB;AAChBZ,QAAAA,SAAS,CAACW,KAAK,CAACC,MAAN,CAAaC,KAAb,IAAsB,EAAvB,CAAT;AACD;AACF;AAZH,IANF,CADF,eAsBE;AACE,IAAA,SAAS,EAAE,4BAAWR,mBAAOS,aAAlB,EAAiChB,OAAO,CAACgB,aAAzC,CADb;AAEE,IAAA,GAAG,EAAEZ;AAFP,KAIGL,UAAU,GACTA,UAAU,EADD,gBAGT,gCAAC,0BAAD;AACE,IAAA,OAAO,EAAEJ,OADX;AAEE,IAAA,eAAe,EAAEU,eAFnB;AAGE,IAAA,MAAM,EAAEJ,MAHV;AAIE,IAAA,aAAa,EAAEJ,aAJjB;AAKE,IAAA,cAAc,EAAEC,cALlB;AAME,IAAA,OAAO,EAAEE,OAAO,CAACiB;AANnB,IAPJ,CAtBF,CADF;AA0CD,CAzDM;;;AA2DPxB,WAAW,CAACyB,YAAZ,GAA2B;AACzBlB,EAAAA,OAAO,EAAE;AADgB,CAA3B","sourcesContent":["import searchSvg from '@ringcentral-integration/rcui/icons/icon-search.svg';\nimport React, { useState, FunctionComponent, useContext } from 'react';\nimport { RcOutlineTextField } from '@ringcentral-integration/rcui';\nimport classNames from 'classnames';\nimport { SearchResult, SearchResultProps } from './SearchResult';\nimport { SelectListContext } from '../../contexts';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\ninterface SearchPanelClasses {\n  root?: string;\n  searchInput?: string;\n  searchResults?: string;\n  placeholder?: string;\n  searchResult?: SearchResultProps['classes'];\n}\n\nexport type SearchPanelProps = {\n  placeholder?: string;\n  classes?: SearchPanelClasses;\n  searchOption(option: object, filter: string): boolean;\n  renderList?(): React.ReactNode;\n} & Omit<SearchResultProps, 'classes' | 'filter' | 'filteredOptions'>;\n\nexport const SearchPanel: FunctionComponent<SearchPanelProps> = ({\n  placeholder,\n  options,\n  searchOption,\n  currentLocale,\n  renderListItem,\n  renderList,\n  classes,\n}) => {\n  const [filter, setFilter] = useState(null);\n  const { scrollElmRef } = useContext(SelectListContext);\n\n  const filteredOptions = filter\n    ? options.filter((option) => searchOption(option, filter))\n    : options;\n  return (\n    <div className={classNames(styles.root, classes.root)}>\n      <div className={classNames(styles.searchInput, classes.searchInput)}>\n        {!filter && ( // IE polyfill\n          <span className={classNames(styles.placeholder, classes.placeholder)}>\n            {placeholder || i18n.getString('search', currentLocale)}\n          </span>\n        )}\n        <RcOutlineTextField\n          size=\"small\"\n          radiusType=\"circle\"\n          iconPosition=\"left\"\n          symbol={searchSvg}\n          data-sign=\"searchBar\"\n          onChange={(\n            event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n          ) => {\n            if (event.target) {\n              setFilter(event.target.value || '');\n            }\n          }}\n        />\n      </div>\n      <div\n        className={classNames(styles.searchResults, classes.searchResults)}\n        ref={scrollElmRef}\n      >\n        {renderList ? (\n          renderList()\n        ) : (\n          <SearchResult\n            options={options}\n            filteredOptions={filteredOptions}\n            filter={filter}\n            currentLocale={currentLocale}\n            renderListItem={renderListItem}\n            classes={classes.searchResult}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nSearchPanel.defaultProps = {\n  classes: {},\n};\n"],"file":"SearchPanel.js"}