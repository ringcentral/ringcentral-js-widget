{"version":3,"sources":["components/GlipGroupItem/index.js"],"names":["LatestPost","latestPost","members","isGroup","length","formatedText","creator","styles","firstName","propTypes","PropTypes","array","isRequired","object","defaultProps","GlipGroup","group","className","onSelectGroup","active","root","detailMembers","id","avatar","unread","content","name","string","func","bool","undefined"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEA;;AAEA;;AACA;;;;AAEA,SAASA,UAAT,OAA6C;AAAA,MAAvBC,UAAuB,QAAvBA,UAAuB;AAAA,MAAXC,OAAW,QAAXA,OAAW;AAC3C,MAAMC,OAAO,GAAGD,OAAO,CAACE,MAAR,GAAiB,CAAjC;;AACA,MAAI,CAACH,UAAL,EAAiB;AACf,WAAO,IAAP;AACD;;AACD,MAAMI,YAAY,GAAG,iCAAgBJ,UAAhB,EAA4BC,OAA5B,CAArB;;AAEA,MAAI,CAACC,OAAD,IAAY,CAACF,UAAU,CAACK,OAA5B,EAAqC;AACnC;AACA,wBACE;AAAK,MAAA,SAAS,EAAEC,mBAAON;AAAvB,OACGI,YAAY,IAAI,qBADnB,CADF;AAKD,GAd0C,CAe3C;;;AACA,sBACE;AAAK,IAAA,SAAS,EAAEE,mBAAON;AAAvB,KACGA,UAAU,CAACK,OAAX,CAAmBE,SADtB,QACmCH,YAAY,IAAI,qBADnD,CADF;AAKD;;AAEDL,UAAU,CAACS,SAAX,GAAuB;AACrBP,EAAAA,OAAO,EAAEQ,sBAAUC,KAAV,CAAgBC,UADJ;AAErBX,EAAAA,UAAU,EAAES,sBAAUG;AAFD,CAAvB;AAKAb,UAAU,CAACc,YAAX,GAA0B;AACxBb,EAAAA,UAAU,EAAE;AADY,CAA1B;;AAIe,SAASc,SAAT,QAAgE;AAAA,MAA3CC,KAA2C,SAA3CA,KAA2C;AAAA,MAApCC,SAAoC,SAApCA,SAAoC;AAAA,MAAzBC,aAAyB,SAAzBA,aAAyB;AAAA,MAAVC,MAAU,SAAVA,MAAU;AAC7E,sBACE;AACE,IAAA,SAAS,EAAE,4BACTZ,mBAAOa,IADE,EAETD,MAAM,GAAGZ,mBAAOY,MAAV,GAAmB,IAFhB,EAGTF,SAHS,CADb;AAME,IAAA,OAAO,EAAEC;AANX,kBAQE,gCAAC,2BAAD;AACE,IAAA,OAAO,EAAEF,KAAK,CAACK,aADjB;AAEE,IAAA,GAAG,EAAEL,KAAK,CAACM,EAFb;AAGE,IAAA,SAAS,EAAEf,mBAAOgB,MAHpB;AAIE,IAAA,MAAM,EAAEP,KAAK,CAACQ;AAJhB,IARF,eAcE;AAAK,IAAA,SAAS,EAAEjB,mBAAOkB;AAAvB,kBACE;AAAK,IAAA,SAAS,EAAElB,mBAAOmB,IAAvB;AAA6B,IAAA,KAAK,EAAEV,KAAK,CAACU;AAA1C,kBACE,gCAAC,yBAAD;AAAe,IAAA,KAAK,EAAEV;AAAtB,IADF,CADF,eAIE,gCAAC,UAAD;AACE,IAAA,UAAU,EAAEA,KAAK,CAACf,UADpB;AAEE,IAAA,OAAO,EAAEe,KAAK,CAACK;AAFjB,IAJF,CAdF,CADF;AA0BD;;AAEDN,SAAS,CAACN,SAAV,GAAsB;AACpBQ,EAAAA,SAAS,EAAEP,sBAAUiB,MADD;AAEpBX,EAAAA,KAAK,EAAEN,sBAAUG,MAFG;AAGpBK,EAAAA,aAAa,EAAER,sBAAUkB,IAAV,CAAehB,UAHV;AAIpBO,EAAAA,MAAM,EAAET,sBAAUmB;AAJE,CAAtB;AAOAd,SAAS,CAACD,YAAV,GAAyB;AACvBG,EAAAA,SAAS,EAAEa,SADY;AAEvBd,EAAAA,KAAK,EAAE,EAFgB;AAGvBG,EAAAA,MAAM,EAAE;AAHe,CAAzB","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport { getPostAbstract } from '../../lib/formatPost';\n\nimport styles from './styles.scss';\n\nimport GlipGroupAvatar from '../GlipGroupAvatar';\nimport GlipGroupName from '../GlipGroupName';\n\nfunction LatestPost({ latestPost, members }) {\n  const isGroup = members.length > 2;\n  if (!latestPost) {\n    return null;\n  }\n  const formatedText = getPostAbstract(latestPost, members);\n\n  if (!isGroup || !latestPost.creator) {\n    // TODO: update message with i18n\n    return (\n      <div className={styles.latestPost}>\n        {formatedText || 'Unsupported message'}\n      </div>\n    );\n  }\n  // TODO: update message with i18n\n  return (\n    <div className={styles.latestPost}>\n      {latestPost.creator.firstName}: {formatedText || 'Unsupported message'}\n    </div>\n  );\n}\n\nLatestPost.propTypes = {\n  members: PropTypes.array.isRequired,\n  latestPost: PropTypes.object,\n};\n\nLatestPost.defaultProps = {\n  latestPost: null,\n};\n\nexport default function GlipGroup({ group, className, onSelectGroup, active }) {\n  return (\n    <div\n      className={classnames(\n        styles.root,\n        active ? styles.active : null,\n        className,\n      )}\n      onClick={onSelectGroup}\n    >\n      <GlipGroupAvatar\n        persons={group.detailMembers}\n        alt={group.id}\n        className={styles.avatar}\n        unread={group.unread}\n      />\n      <div className={styles.content}>\n        <div className={styles.name} title={group.name}>\n          <GlipGroupName group={group} />\n        </div>\n        <LatestPost\n          latestPost={group.latestPost}\n          members={group.detailMembers}\n        />\n      </div>\n    </div>\n  );\n}\n\nGlipGroup.propTypes = {\n  className: PropTypes.string,\n  group: PropTypes.object,\n  onSelectGroup: PropTypes.func.isRequired,\n  active: PropTypes.bool,\n};\n\nGlipGroup.defaultProps = {\n  className: undefined,\n  group: {},\n  active: false,\n};\n"],"file":"index.js"}