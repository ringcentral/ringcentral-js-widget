{"version":3,"sources":["lib/AdapterCore/index.js"],"names":["SANDBOX_ATTRIBUTE_VALUE","join","ALLOW_ATTRIBUTE_VALUE","urlRegex","clickEvent","test","window","location","href","ON_HOLD_CALLS","RINGING_CALLS","CURRENT_CALL","ROTATE_LENGTH","ROTATE_INTERVAL","AdapterCore","prefix","styles","container","root","messageTypes","baseMessageTypes","defaultDirection","defaultPadding","_onWindowResize","_dragging","_resizeTimeout","clearTimeout","setTimeout","_renderRestrictedPosition","_resizeTick","Date","now","_onWindowMouseMove","evt","buttons","_renderMainClass","factor","_calculateFactor","delta","x","clientX","_dragStartPosition","y","clientY","_minimized","_minTranslateX","minTranslateX","_minTranslateY","minTranslateY","_translateX","translateX","_translateY","translateY","_isClick","_syncPosition","_debouncedPostMessage","_postMessage","_prefix","_messageTypes","ObjectMap","prefixValues","_container","ensureExist","call","_root","_styles","_defaultDirection","_padding","_appWidth","_appHeight","_closed","_hover","_hoverHeader","_loading","_userStatus","_dndStatus","_telephonyStatus","_presenceOption","currentState","_scrollale","_strings","msg","type","syncClosed","_onSyncClosed","closed","syncMinimized","_onSyncMinimized","minimized","syncSize","_onSyncSize","size","syncPresence","_onPushPresence","pushAdapterState","_onPushAdapterState","pushLocale","_onPushLocale","pushRingState","_onPushRingState","pushCalls","_onPushCallsInfo","pushOnCurrentCallPath","_onPushOnCurrentCallPath","pushOnAllCallsPath","_onPushOnAllCallsPath","sanboxAttributeValue","allowAttributeValue","header","presence","noPresence","presenceBar","button","toggle","minimizeIcon","minimizeIconBar","close","closeIcon","logo","duration","ringingCalls","onHoldCalls","currentCallBtn","viewCallsBtn","dropdownPresence","line","presenceItem","statusIcon","Available","availableBtn","Busy","busyBtn","DoNotAcceptAnyCalls","doNotAcceptAnyCallsBtn","Offline","offlineBtn","frameContainer","contentFrame","innerHTML","_getContentDOM","_headerEl","querySelector","_logoEl","addEventListener","_contentFrameContainerEl","_toggleEl","stopPropagation","toggleMinimized","_closeEl","setClosed","_presenceEl","togglePresenceDropdown","_presenceItemEls","querySelectorAll","forEach","itemEl","dataPresence","getAttribute","presenceItemClicked","presenceType","presenceStatus","dndStatus","_dropdownPresence","_contentFrameEl","_durationEl","navigateToCurrentCall","_currentCallEl","_viewCallsEl","navigateToViewCalls","_ringingCallsEl","_onHoldCallsEl","_currentStartTime","_hoverBar","_scrollable","_renderCallsBar","_onHeaderClicked","document","readyState","body","appendChild","_beforeRender","_render","classList","showDropdown","setMinimized","data","messageTransport","postMessage","logoUrl","_logoUrl","src","setAttribute","visible","appUrl","_appUrl","contentFrameEl","renderAdapterSize","remove","maximumX","innerWidth","clientWidth","maximumY","innerHeight","clientHeight","minimumX","minimumY","width","height","style","ringing","_ringing","ringingCallsLength","onHoldCallsLength","currentStartTime","_ringingCallsLength","_onHoldCallsLength","_hasActiveCalls","renderCallsBar","onCurrentCallPath","_onCurrentCallPath","onAllCallsPath","_onAllCallsPath","userStatus","telephonyStatus","presenceOption","renderPresence","locale","strings","_locale","_renderString","_renderCallBarBtn","_renderRingingCalls","_renderOnHoldCalls","_renderPresenceItem","syncPosition","position","_calculateMinMaxPosition","newMinTranslateX","Math","max","min","newMinTranslateY","newTranslateX","newTranslateY","renderPosition","dragging","hover","loading","selected","startTime","round","getTime","rotateInterval","clearInterval","durationInterval","_renderCallDuration","callInfoMap","rotateCallInfo","setInterval","lastState","increment","state","newState","_renderMinimizedBar","showDuration","centerDuration","center","moveOutDuration","moveOut","moveInDuration","moveIn","showRingingCalls","centerCallInfo","moveOutRingingInfo","moveInRingingInfo","showOnHoldCalls","moveOutOnHoldInfo","moveInOnHoldInfo","showCurrentCallBtn","moveOutCurrentCallBtn","moveInCurrentCallBtn","showViewCallsBtn","moveInViewCallsBtn","moveOutViewCallsBtn","calculateState","ringCallsInfo","title","onHoldCallsInfo","removeEventListener","_messageTransport"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport ensureExist from 'ringcentral-integration/lib/ensureExist';\nimport debounce from 'ringcentral-integration/lib/debounce';\nimport { presenceStatus } from 'ringcentral-integration/enums/presenceStatus.enum';\nimport dndStatus from 'ringcentral-integration/modules/Presence/dndStatus';\nimport formatDuration from '../formatDuration';\nimport { baseMessageTypes } from './baseMessageTypes';\n\nconst SANDBOX_ATTRIBUTE_VALUE = [\n  'allow-same-origin',\n  'allow-scripts',\n  'allow-forms',\n  'allow-popups',\n].join(' ');\n\n// chrome 63 mandate the declaration of this attribute for getUserMedia to work in iframes\nconst ALLOW_ATTRIBUTE_VALUE = [\n  'microphone',\n  // 'camera',\n].join(' ');\n\nconst urlRegex = /(https:\\/\\/)?(?:www\\.)?outlook\\.office(?:365)?\\.com\\/(mail)\\/(deeplink)/;\nconst clickEvent = urlRegex.test(window.location.href) ? 'mousedown' : 'click';\nconst ON_HOLD_CALLS = 0;\nconst RINGING_CALLS = 1;\nconst CURRENT_CALL = 2;\n\nconst ROTATE_LENGTH = 3;\nconst ROTATE_INTERVAL = 5000;\n\nexport default class AdapterCore {\n  constructor({\n    prefix,\n    styles,\n    container,\n    root = container,\n    messageTypes = baseMessageTypes,\n    defaultDirection = 'left',\n    defaultPadding = 15,\n  }) {\n    this._prefix = prefix;\n    this._messageTypes = ObjectMap.prefixValues(messageTypes, prefix);\n    this._container = ensureExist.call(this, container, 'container');\n    this._root = root;\n    this._styles = styles;\n    this._defaultDirection = defaultDirection;\n\n    this._padding = defaultPadding;\n    this._minTranslateX = 0;\n    this._minTranslateY = 0;\n    this._translateX = 0;\n    this._translateY = 0;\n    this._appWidth = 0;\n    this._appHeight = 0;\n    this._dragStartPosition = null;\n\n    this._closed = true;\n    this._minimized = true;\n    this._dragging = false;\n    this._hover = false;\n    this._hoverHeader = false;\n    this._loading = true;\n    this._userStatus = null;\n    this._dndStatus = null;\n    this._telephonyStatus = null;\n    this._presenceOption = null;\n\n    this.currentState = -1;\n    this._scrollale = false;\n\n    this._strings = {};\n  }\n\n  _onMessage(msg) {\n    if (msg) {\n      switch (msg.type) {\n        case this._messageTypes.syncClosed:\n          this._onSyncClosed(msg.closed);\n          break;\n        case this._messageTypes.syncMinimized:\n          this._onSyncMinimized(msg.minimized);\n          break;\n        case this._messageTypes.syncSize:\n          this._onSyncSize(msg.size);\n          break;\n        case this._messageTypes.syncPresence:\n          this._onPushPresence(msg);\n          break;\n        case this._messageTypes.pushAdapterState:\n          this._onPushAdapterState(msg);\n          break;\n        case this._messageTypes.pushLocale:\n          this._onPushLocale(msg);\n          break;\n        case this._messageTypes.pushRingState:\n          this._onPushRingState(msg);\n          break;\n        case this._messageTypes.pushCalls:\n          this._onPushCallsInfo(msg);\n          break;\n        case this._messageTypes.pushOnCurrentCallPath:\n          this._onPushOnCurrentCallPath(msg);\n          break;\n        case this._messageTypes.pushOnAllCallsPath:\n          this._onPushOnAllCallsPath(msg);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  _getContentDOM(sanboxAttributeValue, allowAttributeValue) {\n    return `\n      <header class=\"${this._styles.header}\" draggable=\"false\">\n        <div class=\"${this._styles.presence} ${this._styles.noPresence}\">\n          <div class=\"${this._styles.presenceBar}\">\n          </div>\n        </div>\n        <div class=\"${this._styles.button} ${this._styles.toggle}\">\n          <div class=\"${this._styles.minimizeIcon}\">\n            <div class=\"${this._styles.minimizeIconBar}\"></div>\n          </div>\n        </div>\n        <div class=\"${this._styles.button} ${this._styles.close}\">\n          <div class=\"${this._styles.closeIcon}\">\n            <div></div><div></div>\n          </div>\n        </div>\n        <img class=\"${this._styles.logo}\" draggable=\"false\"></img>\n        <div class=\"${this._styles.duration}\"></div>\n        <div class=\"${this._styles.ringingCalls}\"></div>\n        <div class=\"${this._styles.onHoldCalls}\"></div>\n        <div class=\"${this._styles.currentCallBtn}\">${this._strings.currentCallBtn}</div>\n        <div class=\"${this._styles.viewCallsBtn}\">${this._strings.viewCallsBtn}</div>\n      </header>\n      <div class=\"${this._styles.dropdownPresence}\">\n        <div class=\"${this._styles.line}\">\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"available\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Available}\">\n            </div>\n            <span>${this._strings.availableBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"busy\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Busy}\">\n            </div>\n            <span>${this._strings.busyBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"doNotAcceptAnyCalls\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.DoNotAcceptAnyCalls}\">\n              <div class=\"${this._styles.presenceBar}\"></div>\n            </div>\n            <span>${this._strings.doNotAcceptAnyCallsBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"offline\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Offline}\">\n            </div>\n            <span>${this._strings.offlineBtn}</span>\n          </a>\n        </div>\n      </div>\n      <div class=\"${this._styles.frameContainer}\">\n        <iframe class=\"${this._styles.contentFrame}\" sandbox=\"${sanboxAttributeValue}\" allow=\"${allowAttributeValue}\" >\n        </iframe>\n      </div>`;\n  }\n\n  _generateContentDOM() {\n    this._root.innerHTML = this._getContentDOM(\n      SANDBOX_ATTRIBUTE_VALUE,\n      ALLOW_ATTRIBUTE_VALUE,\n    );\n    this._headerEl = this._root.querySelector(`.${this._styles.header}`);\n    this._logoEl = this._root.querySelector(`.${this._styles.logo}`);\n    this._logoEl.addEventListener('dragstart', () => false);\n\n    this._contentFrameContainerEl = this._root.querySelector(\n      `.${this._styles.frameContainer}`,\n    );\n\n    // toggle button\n    this._toggleEl = this._root.querySelector(`.${this._styles.toggle}`);\n    this._toggleEl.addEventListener(clickEvent, (evt) => {\n      evt.stopPropagation();\n      this.toggleMinimized();\n    });\n\n    // close button\n    this._closeEl = this._root.querySelector(`.${this._styles.close}`);\n    if (this._closeEl) {\n      this._closeEl.addEventListener(clickEvent, () => {\n        this.setClosed(true);\n      });\n    }\n\n    this._presenceEl = this._root.querySelector(`.${this._styles.presence}`);\n    this._presenceEl.addEventListener(clickEvent, (evt) => {\n      evt.stopPropagation();\n      this.togglePresenceDropdown();\n    });\n\n    this._presenceItemEls = this._root.querySelectorAll(\n      `.${this._styles.presenceItem}`,\n    );\n\n    this._presenceItemEls.forEach((itemEl) => {\n      const dataPresence = itemEl.getAttribute('data-presence');\n      itemEl.addEventListener(clickEvent, (evt) => {\n        evt.stopPropagation();\n        this.togglePresenceDropdown();\n        this._postMessage({\n          type: this._messageTypes.presenceItemClicked,\n          presenceType: presenceStatus[dataPresence] || dndStatus[dataPresence],\n        });\n      });\n    });\n\n    this._dropdownPresence = this._root.querySelector(\n      `.${this._styles.dropdownPresence}`,\n    );\n    if (this._dropdownPresence) {\n      this._dropdownPresence.addEventListener(clickEvent, (evt) => {\n        evt.stopPropagation();\n        this.togglePresenceDropdown();\n      });\n    }\n\n    this._contentFrameEl = this._root.querySelector(\n      `.${this._styles.contentFrame}`,\n    );\n\n    this._durationEl = this._root.querySelector(`.${this._styles.duration}`);\n    this._durationEl.addEventListener(clickEvent, (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToCurrentCall,\n      });\n    });\n\n    this._currentCallEl = this._root.querySelector(\n      `.${this._styles.currentCallBtn}`,\n    );\n    this._currentCallEl.addEventListener(clickEvent, (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToCurrentCall,\n      });\n    });\n\n    this._viewCallsEl = this._root.querySelector(\n      `.${this._styles.viewCallsBtn}`,\n    );\n    this._viewCallsEl.addEventListener(clickEvent, (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToViewCalls,\n      });\n    });\n\n    this._ringingCallsEl = this._root.querySelector(\n      `.${this._styles.ringingCalls}`,\n    );\n\n    this._onHoldCallsEl = this._root.querySelector(\n      `.${this._styles.onHoldCalls}`,\n    );\n\n    this._headerEl.addEventListener('mousedown', (evt) => {\n      this._dragging = true;\n      this._isClick = true;\n      this._dragStartPosition = {\n        x: evt.clientX,\n        y: evt.clientY,\n        translateX: this._translateX,\n        translateY: this._translateY,\n        minTranslateX: this._minTranslateX,\n        minTranslateY: this._minTranslateY,\n      };\n      this._renderMainClass();\n    });\n    this._headerEl.addEventListener('mouseup', () => {\n      this._dragging = false;\n      this._renderMainClass();\n    });\n    window.addEventListener('mousemove', this._onWindowMouseMove);\n\n    this._headerEl.addEventListener('mouseenter', () => {\n      if (!this._minimized) {\n        if (this._currentStartTime > 0) {\n          this._hoverBar = true;\n          this._scrollable = false;\n          this._renderCallsBar();\n        }\n        return;\n      }\n      this._hoverHeader = true;\n      this._renderMainClass();\n    });\n    this._headerEl.addEventListener('mouseleave', () => {\n      this._hoverHeader = false;\n      this._hoverBar = false;\n      this._scrollable = false;\n      this._renderCallsBar();\n      this._renderMainClass();\n    });\n\n    this._isClick = true;\n    this._headerEl.addEventListener(clickEvent, (evt) => {\n      if (this._isClick) {\n        this._onHeaderClicked(evt);\n      }\n    });\n\n    this._resizeTimeout = null;\n    this._resizeTick = null;\n    window.addEventListener('resize', this._onWindowResize);\n\n    // hover detection for ie\n    this._container.addEventListener('mouseenter', () => {\n      this._hover = true;\n      this._renderMainClass();\n    });\n    this._container.addEventListener('mouseleave', () => {\n      this._hover = false;\n      this._renderMainClass();\n    });\n\n    if (document.readyState === 'loading') {\n      window.addEventListener('load', () => {\n        document.body.appendChild(this._container);\n      });\n    } else {\n      document.body.appendChild(this._container);\n    }\n\n    if (typeof this._beforeRender === 'function') {\n      this._beforeRender();\n    }\n    this._render();\n  }\n\n  _onHeaderClicked() {\n    if (this._minimized) {\n      this.toggleMinimized();\n    }\n  }\n\n  _onWindowResize = () => {\n    if (this._dragging) {\n      return;\n    }\n    if (this._resizeTimeout) {\n      clearTimeout(this._resizeTimeout);\n    }\n    this._resizeTimeout = setTimeout(\n      () => this._renderRestrictedPosition(),\n      100,\n    );\n    if (!this._resizeTick || Date.now() - this._resizeTick > 50) {\n      this._resizeTick = Date.now();\n      this._renderRestrictedPosition();\n    }\n  };\n\n  _onWindowMouseMove = (evt) => {\n    if (this._dragging) {\n      if (evt.buttons === 0) {\n        this._dragging = false;\n        this._renderMainClass();\n        return;\n      }\n      const factor = this._calculateFactor();\n      const delta = {\n        x: evt.clientX - this._dragStartPosition.x,\n        y: evt.clientY - this._dragStartPosition.y,\n      };\n      if (this._minimized) {\n        this._minTranslateX =\n          this._dragStartPosition.minTranslateX + delta.x * factor;\n        this._minTranslateY = this._dragStartPosition.minTranslateY + delta.y;\n      } else {\n        this._translateX =\n          this._dragStartPosition.translateX + delta.x * factor;\n        this._translateY = this._dragStartPosition.translateY + delta.y;\n      }\n      if (delta.x !== 0 || delta.y !== 0) {\n        this._isClick = false;\n      }\n      this._syncPosition();\n      this._renderRestrictedPosition();\n    }\n  };\n\n  togglePresenceDropdown() {\n    if (this._dropdownPresence) {\n      this._dropdownPresence.classList.toggle(`${this._styles.showDropdown}`);\n      this.setMinimized(false);\n    }\n  }\n\n  get messageTransport() {\n    return this._messageTransport;\n  }\n\n  _postMessage(data) {\n    this.messageTransport.postMessage(data);\n  }\n\n  _setLogoUrl(logoUrl) {\n    this._logoUrl = logoUrl;\n    this._logoEl.src = logoUrl;\n    this._logoEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.logo,\n        this._logoUrl && this._logoUrl !== '' && this._styles.visible,\n      ),\n    );\n  }\n\n  _setAppUrl(appUrl) {\n    this._appUrl = appUrl;\n    if (appUrl) {\n      this.contentFrameEl.src = appUrl;\n    }\n  }\n\n  _onSyncMinimized(minimized) {\n    this._minimized = !!minimized;\n    this._renderMainClass();\n    this.renderAdapterSize();\n    this._renderRestrictedPosition();\n  }\n\n  setMinimized(minimized) {\n    this._onSyncMinimized(minimized);\n    this._postMessage({\n      type: this._messageTypes.syncMinimized,\n      minimized: this._minimized,\n    });\n    if (minimized && this._dropdownPresence) {\n      this._dropdownPresence.classList.remove(`${this._styles.showDropdown}`);\n    }\n  }\n\n  toggleMinimized() {\n    this.setMinimized(!this._minimized);\n  }\n\n  _calculateMinMaxPosition() {\n    const maximumX =\n      window.innerWidth -\n      (this._minimized ? this._headerEl.clientWidth : this._appWidth) -\n      2 * this._padding;\n    const maximumY =\n      window.innerHeight -\n      (this._minimized\n        ? this._headerEl.clientHeight\n        : this._headerEl.clientHeight + this._appHeight) -\n      this._padding;\n    return {\n      minimumX: this._padding,\n      minimumY: this._padding,\n      maximumX,\n      maximumY,\n    };\n  }\n\n  _onSyncClosed(closed) {\n    this._closed = !!closed;\n    this._renderMainClass();\n  }\n\n  setClosed(closed) {\n    this._onSyncClosed(closed);\n    this._postMessage({\n      type: this._messageTypes.syncClosed,\n      closed: this.closed,\n    });\n  }\n\n  toggleClosed() {\n    this.setClosed(!this.closed);\n  }\n\n  _onSyncSize({ width, height }) {\n    this._appWidth = width;\n    this._appHeight = height;\n    this._contentFrameEl.style.width = `${width}px`;\n    this._contentFrameEl.style.height = `${height}px`;\n    this.renderAdapterSize();\n  }\n\n  setSize(size) {\n    this._onSyncSize(size);\n    this._postMessage({\n      type: this._messageTypes.syncSize,\n      size,\n    });\n  }\n\n  _onPushRingState({ ringing }) {\n    this._ringing = ringing;\n    this._render();\n  }\n\n  _onPushCallsInfo({\n    ringingCallsLength,\n    onHoldCallsLength,\n    currentStartTime,\n  }) {\n    this._currentStartTime = currentStartTime;\n    this._ringingCallsLength = ringingCallsLength;\n    this._onHoldCallsLength = onHoldCallsLength;\n    this._hasActiveCalls =\n      this._currentStartTime > 0 ||\n      this._ringingCallsLength > 0 ||\n      this._onHoldCallsLength > 0;\n    this.renderCallsBar();\n  }\n\n  _onPushOnCurrentCallPath({ onCurrentCallPath }) {\n    this._onCurrentCallPath = onCurrentCallPath;\n    this._render();\n  }\n\n  _onPushOnAllCallsPath({ onAllCallsPath }) {\n    this._onAllCallsPath = onAllCallsPath;\n    this._render();\n  }\n\n  _onPushPresence({ dndStatus, userStatus, telephonyStatus, presenceOption }) {\n    if (\n      dndStatus !== this._dndStatus ||\n      userStatus !== this._userStatus ||\n      telephonyStatus !== this._telephonyStatus\n    ) {\n      this._dndStatus = dndStatus;\n      this._userStatus = userStatus;\n      this._telephonyStatus = telephonyStatus;\n      this._presenceOption = presenceOption;\n      this.renderPresence();\n    }\n  }\n\n  _onPushLocale({ locale, strings = {} }) {\n    this._locale = locale;\n    this._strings = strings;\n    this._renderString();\n  }\n\n  _renderString() {\n    this._renderCallBarBtn();\n    this._renderRingingCalls();\n    this._renderOnHoldCalls();\n    this._renderPresenceItem();\n  }\n\n  _debouncedPostMessage = debounce(this._postMessage, 100);\n\n  _syncPosition() {\n    this._debouncedPostMessage.call(this, {\n      type: this._messageTypes.syncPosition,\n      position: {\n        translateX: this._translateX,\n        translateY: this._translateY,\n        minTranslateX: this._minTranslateX,\n        minTranslateY: this._minTranslateY,\n      },\n    });\n  }\n\n  _onPushAdapterState({\n    size: { width, height },\n    minimized,\n    closed,\n    position: { translateX, translateY, minTranslateX, minTranslateY },\n    dndStatus,\n    userStatus,\n    telephonyStatus,\n  }) {\n    this._minimized = minimized;\n    this._closed = closed;\n    if (!this._dragging) {\n      this._translateX = translateX;\n      this._translateY = translateY;\n      this._minTranslateX = minTranslateX;\n      this._minTranslateY = minTranslateY;\n    }\n    this._appWidth = width;\n    this._appHeight = height;\n    this._dndStatus = dndStatus;\n    this._userStatus = userStatus;\n    this._telephonyStatus = telephonyStatus;\n    this._loading = false;\n    this._render();\n  }\n\n  _calculateFactor() {\n    return this._defaultDirection === 'right' ? -1 : 1;\n  }\n\n  renderPosition() {\n    const factor = this._calculateFactor();\n    if (this._minimized) {\n      this._container.setAttribute(\n        'style',\n        `transform: translate( ${this._minTranslateX * factor}px, ${-this\n          ._padding}px)!important;`,\n      );\n    } else {\n      this._container.setAttribute(\n        'style',\n        `transform: translate( ${this._translateX * factor}px, ${\n          this._translateY\n        }px)!important;`,\n      );\n    }\n  }\n\n  _renderRestrictedPosition() {\n    const {\n      minimumX,\n      minimumY,\n      maximumX,\n      maximumY,\n    } = this._calculateMinMaxPosition();\n\n    if (this._minimized) {\n      const newMinTranslateX = Math.max(\n        Math.min(this._minTranslateX, maximumX),\n        minimumX,\n      );\n      if (newMinTranslateX !== this._minTranslateX) {\n        this._minTranslateX = newMinTranslateX;\n      }\n      const newMinTranslateY = Math.max(\n        Math.min(this._minTranslateY, -minimumY),\n        -maximumY,\n      );\n      if (newMinTranslateY !== this._minTranslateY) {\n        this._minTranslateY = newMinTranslateY;\n      }\n    } else {\n      const newTranslateX = Math.max(\n        Math.min(this._translateX, maximumX),\n        minimumX,\n      );\n      const newTranslateY = Math.max(\n        Math.min(this._translateY, -minimumY),\n        -maximumY,\n      );\n      if (\n        this._translateX !== newTranslateX ||\n        this._translateY !== newTranslateY\n      ) {\n        this._translateX = newTranslateX;\n        this._translateY = newTranslateY;\n      }\n    }\n    this.renderPosition();\n  }\n\n  renderAdapterSize() {\n    if (this._minimized) {\n      this._contentFrameContainerEl.style.width = 0;\n      this._contentFrameContainerEl.style.height = 0;\n    } else {\n      this._contentFrameContainerEl.style.width = `${this._appWidth}px`;\n      this._contentFrameContainerEl.style.height = `${this._appHeight}px`;\n      this._contentFrameEl.style.width = `${this._appWidth}px`;\n      this._contentFrameEl.style.height = `${this._appHeight}px`;\n    }\n  }\n\n  _renderMainClass() {\n    this._container.setAttribute(\n      'class',\n      classnames(\n        this._styles.root,\n        this._styles[this._defaultDirection],\n        this._closed && this._styles.closed,\n        this._minimized && this._styles.minimized,\n        this._dragging && this._styles.dragging,\n        this._hover && this._styles.hover,\n        this._loading && this._styles.loading,\n      ),\n    );\n    this._headerEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.header,\n        this._minimized && this._styles.minimized,\n        this._ringing && this._styles.ringing,\n      ),\n    );\n  }\n\n  renderPresence() {\n    this._presenceEl.setAttribute(\n      'class',\n      classnames(\n        this._minimized && this._styles.minimized,\n        this._styles.presence,\n        this._userStatus && this._styles[this._userStatus],\n        this._dndStatus && this._styles[this._dndStatus],\n      ),\n    );\n\n    this._presenceItemEls.forEach((presenceItem) => {\n      const dataPresence = presenceItem.getAttribute('data-presence');\n      if (\n        presenceStatus[dataPresence] === this._presenceOption ||\n        dndStatus[dataPresence] === this._presenceOption\n      ) {\n        presenceItem.setAttribute(\n          'class',\n          classnames(this._styles.presenceItem, this._styles.selected),\n        );\n      } else {\n        presenceItem.setAttribute(\n          'class',\n          classnames(this._styles.presenceItem),\n        );\n      }\n    });\n  }\n\n  calculateState() {\n    const startTime = this._currentStartTime;\n    return Math.round((new Date().getTime() - startTime) / 1000);\n  }\n\n  renderCallsBar() {\n    // should clean up rotate duration when call info changed\n    if (this.rotateInterval) {\n      clearInterval(this.rotateInterval);\n      this.rotateInterval = null;\n    }\n    // when there is no call\n    if (!this._hasActiveCalls) {\n      this.currentState = -1;\n      this._scrollable = false;\n      this._hoverBar = false;\n      if (this.durationInterval) {\n        clearInterval(this.durationInterval);\n        this.durationInterval = null;\n      }\n      this._renderCallsBar();\n      return;\n    }\n    // when there is only one active call, only need to display call duration\n    if (\n      this._currentStartTime > 0 &&\n      this._ringingCallsLength === 0 &&\n      this._onHoldCallsLength === 0\n    ) {\n      this.currentState = CURRENT_CALL;\n      this._scrollable = false;\n      this._renderCallDuration();\n      this._renderCallsBar();\n      return;\n    }\n    // when there are only ringing calls(no onhold or active calls)\n    // only need to display incoming call inco\n    if (this._currentStartTime === 0 && this._ringingCallsLength > 0) {\n      this.currentState = RINGING_CALLS;\n      this._scrollable = false;\n      this._hoverBar = false;\n      if (this.durationInterval) {\n        clearInterval(this.durationInterval);\n        this.durationInterval = null;\n      }\n      this._renderRingingCalls();\n      this._renderCallsBar();\n      return;\n    }\n    this.callInfoMap = {\n      [CURRENT_CALL]: this._currentStartTime > 0,\n      [RINGING_CALLS]: this._ringingCallsLength > 0,\n      [ON_HOLD_CALLS]: this._onHoldCallsLength > 0,\n    };\n    // when multiple calls, should scroll with call info\n    this.rotateCallInfo();\n    this.rotateInterval = setInterval(() => {\n      this.rotateCallInfo();\n    }, ROTATE_INTERVAL);\n  }\n\n  rotateCallInfo() {\n    if (this._hoverBar && this.callInfoMap[this.currentState]) {\n      return;\n    }\n    this.lastState = this.currentState;\n    this.currentState = this.increment(this.currentState);\n    while (!this.callInfoMap[this.currentState]) {\n      this.currentState = this.increment(this.currentState);\n    }\n    switch (this.currentState) {\n      case ON_HOLD_CALLS:\n        this._renderOnHoldCalls();\n        break;\n      case RINGING_CALLS:\n        this._renderRingingCalls();\n        break;\n      case CURRENT_CALL:\n        this._renderCallDuration();\n        break;\n      default:\n        break;\n    }\n    this._scrollable = true;\n    this._renderCallsBar();\n    this._scrollable = false;\n  }\n\n  increment(state) {\n    const newState = state + 1;\n    if (state >= ROTATE_LENGTH - 1) {\n      return 0;\n    }\n    return newState;\n  }\n\n  _renderMinimizedBar() {\n    this._logoEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.logo,\n        this._logoUrl && this._logoUrl !== '' && this._styles.visible,\n      ),\n    );\n    this._durationEl.setAttribute('class', classnames(this._styles.duration));\n    this._ringingCallsEl.setAttribute(\n      'class',\n      classnames(this._styles.ringingCalls),\n    );\n    this._onHoldCallsEl.setAttribute(\n      'class',\n      classnames(this._styles.onHoldCalls),\n    );\n    this._currentCallEl.setAttribute(\n      'class',\n      classnames(this._styles.currentCallBtn),\n    );\n    this._viewCallsEl.setAttribute(\n      'class',\n      classnames(this._styles.viewCallsBtn),\n    );\n  }\n\n  _renderCallsBar() {\n    if (this._minimized) {\n      this._renderMinimizedBar();\n      return;\n    }\n    this._logoEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.logo,\n        !this._hasActiveCalls &&\n          this._logoUrl &&\n          this._logoUrl !== '' &&\n          this._styles.visible,\n      ),\n    );\n    this._durationEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.duration,\n        this.showDuration && this._styles.visible,\n        this.centerDuration && this._styles.center,\n        this.moveOutDuration && this._styles.moveOut,\n        this.moveInDuration && this._styles.moveIn,\n      ),\n    );\n    this._ringingCallsEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.ringingCalls,\n        this.showRingingCalls && this._styles.visible,\n        this.centerCallInfo && this._styles.center,\n        this.moveOutRingingInfo && this._styles.moveOut,\n        this.moveInRingingInfo && this._styles.moveIn,\n      ),\n    );\n    this._onHoldCallsEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.onHoldCalls,\n        this.showOnHoldCalls && this._styles.visible,\n        this.centerCallInfo && this._styles.center,\n        this.moveOutOnHoldInfo && this._styles.moveOut,\n        this.moveInOnHoldInfo && this._styles.moveIn,\n      ),\n    );\n    this._currentCallEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.currentCallBtn,\n        this.showCurrentCallBtn && this._styles.visible,\n        this.moveOutCurrentCallBtn && this._styles.moveOut,\n        this.moveInCurrentCallBtn && this._styles.moveIn,\n      ),\n    );\n    this._viewCallsEl.setAttribute(\n      'class',\n      classnames(\n        this._styles.viewCallsBtn,\n        this.showViewCallsBtn && this._styles.visible,\n        !this.moveInViewCallsBtn &&\n          this.moveOutViewCallsBtn &&\n          this._styles.moveOut,\n        this.moveInViewCallsBtn && this._styles.moveIn,\n      ),\n    );\n  }\n\n  _renderCallDuration() {\n    if (this.durationInterval) {\n      clearInterval(this.durationInterval);\n      this.durationInterval = null;\n    }\n    const duration = formatDuration(this.calculateState());\n    this._durationEl.innerHTML = duration;\n    this.durationInterval = setInterval(() => {\n      const duration = formatDuration(this.calculateState());\n      this._durationEl.innerHTML = duration;\n    }, 1000);\n  }\n\n  _renderRingingCalls() {\n    if (!this._ringingCallsLength || !this._strings) {\n      return;\n    }\n    this._ringingCallsEl.innerHTML = this._strings.ringCallsInfo;\n    this._ringingCallsEl.title = this._strings.ringCallsInfo;\n  }\n\n  _renderOnHoldCalls() {\n    if (!this._onHoldCallsLength || !this._strings) {\n      return;\n    }\n    this._onHoldCallsEl.innerHTML = this._strings.onHoldCallsInfo;\n    this._onHoldCallsEl.title = this._strings.onHoldCallsInfo;\n  }\n\n  _renderCallBarBtn() {\n    if (!this._strings) {\n      return;\n    }\n    this._currentCallEl.innerHTML = this._strings.currentCallBtn;\n    this._viewCallsEl.innerHTML = this._strings.viewCallsBtn;\n  }\n\n  _renderPresenceItem() {\n    if (!this._strings) {\n      return;\n    }\n    this._presenceItemEls.forEach((presenceItem) => {\n      const dataPresence = presenceItem.getAttribute('data-presence');\n      presenceItem.querySelector('span').innerHTML = this._strings[\n        `${dataPresence}Btn`\n      ];\n    });\n  }\n\n  _render() {\n    this.renderPresence();\n    this.renderAdapterSize();\n    this._renderRestrictedPosition();\n    this._renderMainClass();\n    this._renderCallsBar();\n  }\n\n  dispose() {\n    // TODO clean up\n    window.removeEventListener('mousemove', this._onWindowMouseMove);\n    window.removeEventListener('resize', this._onWindowResize);\n    if (this._resizeTimeout) {\n      clearTimeout(this._resizeTick);\n    }\n    this._container.remove();\n  }\n\n  get container() {\n    return this._container;\n  }\n\n  get root() {\n    return this._root;\n  }\n\n  get headerEl() {\n    return this._headerEl;\n  }\n\n  get contentFrameContainerEl() {\n    return this._contentFrameContainerEl;\n  }\n\n  get toggleEl() {\n    return this._toggleEl;\n  }\n\n  get closeEl() {\n    return this._closeEl;\n  }\n\n  get presenceEl() {\n    return this._presenceEl;\n  }\n\n  get contentFrameEl() {\n    return this._contentFrameEl;\n  }\n\n  get minTranslateX() {\n    return this._minTranslateX;\n  }\n\n  get minTranslateY() {\n    return this._minTranslateY;\n  }\n\n  get translateX() {\n    return this._translateX;\n  }\n\n  get translateY() {\n    return this._translateY;\n  }\n\n  get appWidth() {\n    return this._appWidth;\n  }\n\n  get appHeight() {\n    return this._appHeight;\n  }\n\n  get dragStartPosition() {\n    return this._dragStartPosition;\n  }\n\n  get closed() {\n    return this._closed;\n  }\n\n  get minimized() {\n    return this._minimized;\n  }\n\n  get dragging() {\n    return this._dragging;\n  }\n\n  get hover() {\n    return this._hover;\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  get userStatus() {\n    return this._userStatus;\n  }\n\n  get dndStatus() {\n    return this._dndStatus;\n  }\n\n  get ringing() {\n    return this._ringing;\n  }\n\n  get showDuration() {\n    return !this._scrollable && this.currentState === CURRENT_CALL;\n  }\n\n  get showRingingCalls() {\n    return !this._scrollable && this.currentState === RINGING_CALLS;\n  }\n\n  get showOnHoldCalls() {\n    return !this._scrollable && this.currentState === ON_HOLD_CALLS;\n  }\n\n  get showCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.showDuration;\n  }\n\n  get showViewCallsBtn() {\n    return (\n      !this._onAllCallsPath && (this.showOnHoldCalls || this.showRingingCalls)\n    );\n  }\n\n  get centerDuration() {\n    return this._onCurrentCallPath;\n  }\n\n  get centerCallInfo() {\n    return this._onAllCallsPath;\n  }\n\n  get moveInDuration() {\n    return (\n      !this._hoverBar && this.currentState === CURRENT_CALL && this._scrollable\n    );\n  }\n\n  get moveOutDuration() {\n    return (\n      !this._hoverBar && this._scrollable && this.lastState === CURRENT_CALL\n    );\n  }\n\n  get moveInRingingInfo() {\n    return (\n      !this._hoverBar && this.currentState === RINGING_CALLS && this._scrollable\n    );\n  }\n\n  get moveOutRingingInfo() {\n    return (\n      !this._hoverBar && this._scrollable && this.lastState === RINGING_CALLS\n    );\n  }\n\n  get moveInOnHoldInfo() {\n    return (\n      !this._hoverBar && this.currentState === ON_HOLD_CALLS && this._scrollable\n    );\n  }\n\n  get moveOutOnHoldInfo() {\n    return (\n      !this._hoverBar && this._scrollable && this.lastState === ON_HOLD_CALLS\n    );\n  }\n\n  get moveInCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.moveInDuration;\n  }\n\n  get moveOutCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.moveOutDuration;\n  }\n\n  get moveInViewCallsBtn() {\n    return (\n      !this._onAllCallsPath && (this.moveInRingingInfo || this.moveInOnHoldInfo)\n    );\n  }\n\n  get moveOutViewCallsBtn() {\n    return (\n      !this._onAllCallsPath &&\n      (this.moveOutRingingInfo || this.moveOutOnHoldInfo)\n    );\n  }\n}\n"],"file":"index.js"}