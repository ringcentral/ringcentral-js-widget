{"version":3,"sources":["lib/throttle.js"],"names":["throttle","func","threshold","Error","timer","firstTime","throttled","args","context","apply","setTimeout","clearTimeout"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,QAAT,CAAkBC,IAAlB,EAAyC;AAAA,MAAjBC,SAAiB,uEAAL,GAAK;;AACtD,MAAI,OAAOD,IAAP,KAAgB,UAApB,EAAgC;AAC9B,UAAM,IAAIE,KAAJ,CAAU,0DAAV,CAAN;AACD;;AAED,MAAIC,KAAK,GAAG,IAAZ;AACA,MAAIC,SAAS,GAAG,IAAhB;AAEA,SAAO,SAASC,SAAT,GAA4B;AAAA,sCAANC,IAAM;AAANA,MAAAA,IAAM;AAAA;;AACjC,QAAMC,OAAO,GAAG,IAAhB,CADiC,CAGjC;;AACA,QAAIH,SAAJ,EAAe;AACbJ,MAAAA,IAAI,CAACQ,KAAL,CAAWD,OAAX,EAAoBD,IAApB;AACAF,MAAAA,SAAS,GAAG,KAAZ;AACA;AACD;;AAED,QAAID,KAAJ,EAAW;AACT;AACD;;AAEDA,IAAAA,KAAK,GAAGM,UAAU,CAAC,YAAM;AACvBC,MAAAA,YAAY,CAACP,KAAD,CAAZ;AACAA,MAAAA,KAAK,GAAG,IAAR;AACAH,MAAAA,IAAI,CAACQ,KAAL,CAAWD,OAAX,EAAoBD,IAApB;AACD,KAJiB,EAIfL,SAJe,CAAlB;AAKD,GAnBD;AAoBD","sourcesContent":["/**\n * Throttle the execution of the function,\n * if the frequently invoked function is being throttled,\n * then the function will only be called at threshold time.\n *\n * @param {Function} func - the target function\n * @param {Number} threshold - execution threshold\n * @return {Function}\n */\nexport default function throttle(func, threshold = 500) {\n  if (typeof func !== 'function') {\n    throw new Error('First argument of throttle function should be a function');\n  }\n\n  let timer = null;\n  let firstTime = true;\n\n  return function throttled(...args) {\n    const context = this;\n\n    // It will be triggered at first time\n    if (firstTime) {\n      func.apply(context, args);\n      firstTime = false;\n      return;\n    }\n\n    if (timer) {\n      return;\n    }\n\n    timer = setTimeout(() => {\n      clearTimeout(timer);\n      timer = null;\n      func.apply(context, args);\n    }, threshold);\n  };\n}\n"],"file":"throttle.js"}