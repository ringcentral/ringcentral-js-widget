{"version":3,"sources":["lib/extractControls/index.js"],"names":["pauseRegex","controlRegex","extractExtendedControls","input","split","phoneNumber","tokens","extendedControls","output","token","push","cleanControl","replace","length"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;;;;;;;;AAEA,IAAMA,UAAU,GAAG,IAAnB;AACA,IAAMC,YAAY,GAAG,WAArB;AAEA;;;;;;;AAOA;;;;;;;AAMe,SAASC,uBAAT,CAAiCC,KAAjC,EAAwC;AAAA,eACpB,CAACA,KAAK,IAAI,EAAV,EAAcC,KAAd,CAAoBJ,UAApB,CADoB;AAAA;AAAA,MAC9CK,WAD8C;AAAA,MAC9BC,MAD8B;;AAErD,SAAO;AACLH,IAAAA,KAAK,EAALA,KADK;AAELE,IAAAA,WAAW,EAAXA,WAFK;AAGLE,IAAAA,gBAAgB,EAAE,mBAChB,UAACC,MAAD,EAASC,KAAT,EAAmB;AACjBD,MAAAA,MAAM,CAACE,IAAP,CAAY,GAAZ;AACA,UAAMC,YAAY,GAAGF,KAAK,CAACG,OAAN,CAAcX,YAAd,EAA4B,EAA5B,CAArB;;AACA,UAAIU,YAAY,CAACE,MAAjB,EAAyB;AACvBL,QAAAA,MAAM,CAACE,IAAP,CAAYC,YAAZ;AACD;;AACD,aAAOH,MAAP;AACD,KARe,EAShB,EATgB,EAUhBF,MAVgB;AAHb,GAAP;AAgBD","sourcesContent":["import { reduce } from 'ramda';\n\nconst pauseRegex = /,/g;\nconst controlRegex = /[^0-9*#]/g;\n\n/**\n * @typedef {Object} ExtractedResult\n * @property {String} input - Original input\n * @property {String} phoneNumber - Original input with extended controls removed\n * @property {String[]} extendedControls - Array containing the extended controls\n */\n\n/**\n * @param {String} input\n * @returns {ExtractedResult}\n * @description Extract extended controls from quick dial phone number string.\n *              Currently only support pause (',') characater.\n */\nexport default function extractExtendedControls(input) {\n  const [phoneNumber, ...tokens] = (input || '').split(pauseRegex);\n  return {\n    input,\n    phoneNumber,\n    extendedControls: reduce(\n      (output, token) => {\n        output.push(',');\n        const cleanControl = token.replace(controlRegex, '');\n        if (cleanControl.length) {\n          output.push(cleanControl);\n        }\n        return output;\n      },\n      [],\n      tokens,\n    ),\n  };\n}\n"],"file":"index.js"}