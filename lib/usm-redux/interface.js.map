{"version":3,"sources":["lib/usm-redux/interface.ts"],"names":[],"mappings":";;AAEA","sourcesContent":["import { Patch } from 'immer';\nimport { ReducersMapObject, Reducer, StoreEnhancer } from 'redux';\nimport {\n  stateKey,\n  storeKey,\n  subscriptionsKey,\n  bootstrappedKey,\n  usm,\n  identifierKey,\n} from './constant';\n\nexport interface Config {\n  enablePatches?: boolean;\n  reduxEnhancer?: StoreEnhancer<any, any>;\n  handleReducers?: (reducers: ReducersMapObject) => Reducer;\n}\n\nexport interface StoreOptions {\n  modules: any[];\n  strict?: boolean;\n}\n\nexport interface Service<T extends Record<string, any> = Record<string, any>> {\n  name?: string;\n  readonly [bootstrappedKey]: boolean;\n  readonly [identifierKey]: string;\n  readonly [stateKey]: T;\n  readonly [storeKey]: Store<T>;\n  readonly [subscriptionsKey]: Subscription[];\n  [K: string]: any;\n}\n\nexport type Unsubscribe = () => void;\n\nexport type Subscription = () => void;\n\nexport interface PropertyDescriptor<T> extends TypedPropertyDescriptor<T> {\n  initializer(): T;\n}\n\nexport interface Action<T = Record<string, any>> {\n  type: string;\n  method: string | symbol;\n  params: any[];\n  _state: T;\n  _usm: typeof usm;\n  _patches?: Patch[];\n  _inversePatches?: Patch[];\n}\n\nexport interface Store<T = Record<string, any>> {\n  dispatch(action: Action): void;\n  getState(): T;\n  subscribe(listener: Subscription): Unsubscribe;\n}\n\nexport type Subscribe = (module: any, listener: () => void) => Unsubscribe;\n\nexport type Watch = <T>(\n  module: any,\n  selector: () => T,\n  watcher: (newValue: T, oldValue: T) => void,\n) => Unsubscribe;\n"],"file":"interface.js"}