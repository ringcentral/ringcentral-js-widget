{"version":3,"sources":["lib/batchApiHelper.js"],"names":["batchPutApi","platform","url","query","body","boundry","uuid","v4","options","headers","ApiResponse","_contentType","_multipartContentType","reduce","data","item","_jsonContentType","JSON","stringify","put","result","multipart","batchGetApi","get"],"mappings":";;;;;;;;;;;;;;AAAA;;AACA;;;;AAEO,SAAeA,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6BC,UAAAA,QAA7B,QAA6BA,QAA7B,EAAuCC,GAAvC,QAAuCA,GAAvC,EAA4CC,KAA5C,QAA4CA,KAA5C,EAAmDC,IAAnD,QAAmDA,IAAnD;AACCC,UAAAA,OADD,sBACuBC,iBAAKC,EAAL,EADvB;AAECC,UAAAA,OAFD,GAEW;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFX;AAGLD,UAAAA,OAAO,CAACC,OAAR,CACEC,wBAAYC,YADd,cAEOD,wBAAYE,qBAFnB,wBAEsDP,OAFtD;AAGAD,UAAAA,IAAI,GAAGA,IAAI,CAACS,MAAL,CAAY,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACjCD,YAAAA,IAAI,gBAAST,OAAT,SAAJ;AACAS,YAAAA,IAAI,cAAOJ,wBAAYC,YAAnB,eAAoCD,wBAAYM,gBAAhD,aAAJ;AACAF,YAAAA,IAAI,cAAOG,IAAI,CAACC,SAAL,CAAeH,IAAI,CAACX,IAApB,CAAP,SAAJ;AACA,mBAAOU,IAAP;AACD,WALM,EAKJ,EALI,CAAP;AAMAV,UAAAA,IAAI,gBAASC,OAAT,OAAJ;AAZK;AAAA,0CAagBJ,QAAQ,CAACkB,GAAT,CAAajB,GAAb,EAAkBE,IAAlB,EAAwBD,KAAxB,EAA+BK,OAA/B,CAbhB;;AAAA;AAaCY,UAAAA,MAbD;AAAA,2CAcEA,MAAM,CAACC,SAAP,EAdF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAiBA,SAAeC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6BrB,UAAAA,QAA7B,SAA6BA,QAA7B,EAAuCC,GAAvC,SAAuCA,GAAvC,EAA4CC,KAA5C,SAA4CA,KAA5C;AACCE,UAAAA,OADD,sBACuBC,iBAAKC,EAAL,EADvB;AAECC,UAAAA,OAFD,GAEW;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAFX;AAGLD,UAAAA,OAAO,CAACC,OAAR,CACEC,wBAAYC,YADd,cAEOD,wBAAYE,qBAFnB,wBAEsDP,OAFtD;AAHK;AAAA,0CAMgBJ,QAAQ,CAACsB,GAAT,CAAarB,GAAb,EAAkBC,KAAlB,EAAyBK,OAAzB,CANhB;;AAAA;AAMCY,UAAAA,MAND;AAAA,4CAOEA,MAAM,CAACC,SAAP,EAPF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import ApiResponse from 'ringcentral/src/http/ApiResponse';\nimport uuid from 'uuid';\n\nexport async function batchPutApi({ platform, url, query, body }) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[\n    ApiResponse._contentType\n  ] = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  body = body.reduce((data, item) => {\n    data += `--${boundry}\\r\\n`;\n    data += `${ApiResponse._contentType}: ${ApiResponse._jsonContentType}\\r\\n\\r\\n`;\n    data += `${JSON.stringify(item.body)}\\r\\n`;\n    return data;\n  }, '');\n  body += `--${boundry}--`;\n  const result = await platform.put(url, body, query, options);\n  return result.multipart();\n}\n\nexport async function batchGetApi({ platform, url, query }) {\n  const boundry = `Boundary_${uuid.v4()}`;\n  const options = { headers: {} };\n  options.headers[\n    ApiResponse._contentType\n  ] = `${ApiResponse._multipartContentType}; boundary=${boundry}`;\n  const result = await platform.get(url, query, options);\n  return result.multipart();\n}\n"],"file":"batchApiHelper.js"}