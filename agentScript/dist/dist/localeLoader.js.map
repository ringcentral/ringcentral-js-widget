{"version":3,"sources":["agentScript/dist/dist/localeLoader.js"],"names":["module","angular","factory","Loader","$q","$http","deferred","options","defer","url","window","__settings","assetsUrl","key","Date","now","get","success","data","resolve","promise"],"mappings":";;;;AAAA,CAAC,YAAY;AACX;;AACA,MAAIA,MAAM,GAAGC,OAAO,CAACD,MAAR,CAAe,iCAAf,EAAkD,EAAlD,CAAb;AACAA,EAAAA,MAAM,CAACE,OAAP,CAAe,cAAf,EAA+BC,MAA/B;;AAEA,WAASA,MAAT,CAAgBC,EAAhB,EAAoBC,KAApB,EAA2B;AACzB,QAAIC,QAAJ;AAEA,WAAO,UAAUC,OAAV,EAAmB;AACxB,UAAI,CAACD,QAAL,EAAe;AACbA,QAAAA,QAAQ,GAAGF,EAAE,CAACI,KAAH,EAAX;AACA,YAAIC,GAAG,GAAGC,MAAM,CAACC,UAAP,CAAkBC,SAA5B;AACAH,QAAAA,GAAG,IAAI,0BAAP;AACAA,QAAAA,GAAG,IAAIF,OAAO,CAACM,GAAf;AACAJ,QAAAA,GAAG,IAAI,UAAP,CALa,CAMb;AACA;;AACAA,QAAAA,GAAG,IAAIK,IAAI,CAACC,GAAL,EAAP;AAEAV,QAAAA,KAAK,CAACW,GAAN,CAAUP,GAAV,EAAeQ,OAAf,CAAuB,UAAUC,IAAV,EAAgB;AACrCZ,UAAAA,QAAQ,CAACa,OAAT,CAAiBD,IAAjB;AACD,SAFD;AAGD;;AAED,aAAOZ,QAAQ,CAACc,OAAhB;AACD,KAjBD;AAkBD;AACF,CA3BD","sourcesContent":["(function () {\n  'use strict';\n  var module = angular.module('agent_ui.factories.localeLoader', []);\n  module.factory('localeLoader', Loader);\n\n  function Loader($q, $http) {\n    var deferred;\n\n    return function (options) {\n      if (!deferred) {\n        deferred = $q.defer();\n        var url = window.__settings.assetsUrl;\n        url += 'assets/languages/locale-';\n        url += options.key;\n        url += '.json?v=';\n        // TODO: here should update from ev side.\n        // url += uuid.v4();\n        url += Date.now();\n\n        $http.get(url).success(function (data) {\n          deferred.resolve(data);\n        });\n      }\n\n      return deferred.promise;\n    };\n  }\n})();\n"],"file":"localeLoader.js"}