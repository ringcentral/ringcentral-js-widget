{"version":3,"sources":["agentScript/dist/dist/agentScript.angular.js"],"names":["app","window","initDebounceTime","eventKeys","__settings","assetsUrl","StateParams","$get","uii","angular","module","config","$mdThemingProvider","$translateProvider","theme","primaryPalette","accentPalette","useSanitizeValueStrategy","preferredLanguage","fallbackLanguage","useLoader","provider","controller","$scope","$timeout","$q","bindAppEvent","key","cb","eventEmitter","on","toAngularKey","sendToOurApp","message","emit","fromAngularKey","requestToOurApp","resolve","once","value","console","log","updateScript","data","_updateScript","init","setTimeout","$apply","showMessage","callbacks","setScriptResult","setRecordingState","setHoldState","requestColdRequeue","requestWarmRequeue","requestHangup","getScriptData","requestColdTransfer","requestWarmTransfer","requestDisposition","changeScript","allowSendKbArticle","sendKbArticle","getKnowledgeBaseArticles","call","_returnPromise","result","defer","promise","e","state","model","lead","dispositions","outdialDispositions","disp","notes","isCallback","contactForwardNum","callbackDts","updateDisposition","dispositionId","kbGroupIds","scriptId","tools","id","label","x","y","connections","type","target","icon","hasConfig","hideInToolbar","maxConnections","properties","pageData","layout","h","w","javascript","trigger","delay","mouseover","lastEdit","templateOptions","extras","validation","messages","ngModelElAttrs","name","ignoreModel","action","view","location","size","script","dataSource","placeholder","options","required","defaultValue","columns","title","report","visible","searchable","paging","info","ordering","JSON","parse","localStorage","getItem"],"mappings":";;AAAA;AACA,IAAMA,GAAG,GAAGC,MAAM,CAACD,GAAnB;AACA,IAAME,gBAAgB,GAAG,IAAzB;AACA,IAAMC,SAAS,GAAGH,GAAG,CAACG,SAAtB;AAEAF,MAAM,CAACG,UAAP,GAAoB;AAClBC,EAAAA,SAAS,EAAE;AADO,CAApB;;AAIA,SAASC,WAAT,GAAuB;AACrB,OAAKC,IAAL,GAAY,YAAM;AAChB,WAAO;AACLC,MAAAA,GAAG,EAAE;AADA,KAAP;AAGD,GAJD;AAKD,C,CAED;;;AACAC,OAAO,CACJC,MADH,CACU,QADV,EACoB,CAChB,WADgB,EAEhB,YAFgB,EAGhB,eAHgB,EAIhB,wBAJgB,EAKhB,QALgB,EAMhB,iBANgB,EAOhB,mBAPgB,EAQhB,WARgB,EAShB,YATgB,EAUhB,wBAVgB,EAWhB,iCAXgB,CADpB,EAcGC,MAdH,CAcU,UAAUC,kBAAV,EAA8BC,kBAA9B,EAAkD;AACxDD,EAAAA,kBAAkB,CACfE,KADH,CACS,SADT,EAEGC,cAFH,CAEkB,WAFlB,EAGGC,aAHH,CAGiB,MAHjB,EADwD,CAMxD;;AACAH,EAAAA,kBAAkB,CAACI,wBAAnB,CAA4C,UAA5C;AACAJ,EAAAA,kBAAkB,CAACK,iBAAnB,CAAqC,IAArC;AACAL,EAAAA,kBAAkB,CAACM,gBAAnB,CAAoC,IAApC;AACAN,EAAAA,kBAAkB,CAACO,SAAnB,CAA6B,cAA7B;AACD,CAzBH,EA0BGC,QA1BH,CA0BY,cA1BZ,EA0B4Bf,WA1B5B,EA2BGgB,UA3BH,CA2Bc,YA3Bd,EA2B4B,UAACC,MAAD,EAASC,QAAT,EAAmBC,EAAnB,EAA0B;AAClD,WAASC,YAAT,CAAsBC,GAAtB,EAA2BC,EAA3B,EAA+B;AAC7B5B,IAAAA,GAAG,CAAC6B,YAAJ,CAAiBC,EAAjB,CAAoB9B,GAAG,CAAC+B,YAAJ,GAAmBJ,GAAvC,EAA4CC,EAA5C;AACD;;AAED,WAASI,YAAT,CAAsBL,GAAtB,EAA2BM,OAA3B,EAAoC;AAClCjC,IAAAA,GAAG,CAAC6B,YAAJ,CAAiBK,IAAjB,CAAsBlC,GAAG,CAACmC,cAAJ,GAAqBR,GAA3C,EAAgDM,OAAhD;AACD;;AAED,WAASG,eAAT,CAAyBT,GAAzB,EAA8BM,OAA9B,EAAuC;AACrC;AACA;AACA,WAAOR,EAAE,CAAC,UAACY,OAAD,EAAa;AACrBL,MAAAA,YAAY,CAACL,GAAD,EAAMM,OAAN,CAAZ;AACAjC,MAAAA,GAAG,CAAC6B,YAAJ,CAAiBS,IAAjB,CAAsBtC,GAAG,CAAC+B,YAAJ,GAAmBJ,GAAzC,EAA8C,UAACY,KAAD,EAAW;AACvDC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAF,QAAAA,OAAO,CAACE,KAAD,CAAP;AACD,OAHD;AAID,KANQ,CAAT;AAOD;;AAEDb,EAAAA,YAAY,CAACvB,SAAS,CAACuC,YAAX,EAAyB,UAACC,IAAD,EAAU;AAC7CH,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBE,IAAzB;;AAEAC,IAAAA,aAAa,CAACD,IAAD,CAAb;AACD,GAJW,CAAZ;AAMA3C,EAAAA,GAAG,CAAC6C,IAAJ;AAEAC,EAAAA,UAAU,CAAC,YAAM;AACf,QAAI,CAACvB,MAAM,CAACZ,MAAZ,EAAoB;AAClBY,MAAAA,MAAM,CAACwB,MAAP,CAAc,YAAY;AACxBxB,QAAAA,MAAM,CAACyB,WAAP,GAAqB,iBAArB;AACD,OAFD;AAGD;AACF,GANS,EAMP9C,gBANO,CAAV;AAQAqB,EAAAA,MAAM,CAACf,GAAP,GAAa,CAAb;AACAe,EAAAA,MAAM,CAAC0B,SAAP,GAAmB;AACjBC,IAAAA,eAAe,EAAfA,eADiB;AAEjBC,IAAAA,iBAAiB,EAAjBA,iBAFiB;AAGjBC,IAAAA,YAAY,EAAZA,YAHiB;AAIjBC,IAAAA,kBAAkB,EAAlBA,kBAJiB;AAKjBC,IAAAA,kBAAkB,EAAlBA,kBALiB;AAMjBC,IAAAA,aAAa,EAAbA,aANiB;AAOjBC,IAAAA,aAAa,EAAbA,aAPiB;AAQjBC,IAAAA,mBAAmB,EAAnBA,mBARiB;AASjBC,IAAAA,mBAAmB,EAAnBA,mBATiB;AAUjBC,IAAAA,kBAAkB,EAAlBA,kBAViB;AAWjBC,IAAAA,YAAY,EAAZA,YAXiB;AAYjBC,IAAAA,kBAAkB,EAAlBA,kBAZiB;AAajBC,IAAAA,aAAa,EAAbA,aAbiB;AAcjBC,IAAAA,wBAAwB,EAAxBA;AAdiB,GAAnB;;AAiBA,WAASnB,aAAT,CAAuBD,IAAvB,EAA6B;AAC3BpB,IAAAA,MAAM,CAACwB,MAAP,CAAc,YAAY;AACxB;AACA;AACAxB,MAAAA,MAAM,CAACZ,MAAP,GAAgBgC,IAAI,CAAChC,MAArB;AACAY,MAAAA,MAAM,CAACyC,IAAP,GAAcrB,IAAI,CAACqB,IAAnB;AACD,KALD;AAMD;;AAED,WAASC,cAAT,CAAwBC,MAAxB,EAAgC;AAC9B,QAAMC,KAAK,GAAG1C,EAAE,CAAC0C,KAAH,EAAd;AACAA,IAAAA,KAAK,CAAC9B,OAAN,CAAc6B,MAAd;AACA,WAAOC,KAAK,CAACC,OAAb;AACD;;AAED,WAASlB,eAAT,CAAyBmB,CAAzB,EAA4B;AAC1BrC,IAAAA,YAAY,CAAC7B,SAAS,CAAC+C,eAAX,EAA4BmB,CAA5B,CAAZ;AACA,WAAO,IAAP;AACD;;AAED,WAASlB,iBAAT,CAA2BmB,KAA3B,EAAkC;AAChC9B,IAAAA,OAAO,CAACC,GAAR,CAAY6B,KAAZ;AACA,WAAOL,cAAc,CAACK,KAAD,CAArB;AACD;;AAED,WAASlB,YAAT,CAAsBkB,KAAtB,EAA6B;AAC3B9B,IAAAA,OAAO,CAACC,GAAR,CAAY6B,KAAZ;AACA,WAAOL,cAAc,CAACK,KAAD,CAArB;AACD;;AAED,WAASjB,kBAAT,GAA8B;AAC5Bb,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,WAAOwB,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAASX,kBAAT,GAA8B;AAC5Bd,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,WAAOwB,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAASV,aAAT,GAAyB;AACvBf,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,WAAOwB,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAAST,aAAT,GAAyB;AACvB,WAAOS,cAAc,CAAC;AACpBM,MAAAA,KAAK,EAAE,EADa;AAEpBC,MAAAA,IAAI,EAAE,EAFc;AAGpBR,MAAAA,IAAI,EAAE;AACJxD,QAAAA,GAAG,EAAEe,MAAM,CAACf,GADR;AAEJiE,QAAAA,YAAY,EACVlD,MAAM,CAACyC,IAAP,IAAezC,MAAM,CAACyC,IAAP,CAAYU,mBAA3B,GACInD,MAAM,CAACyC,IAAP,CAAYU,mBAAZ,CAAgCD,YADpC,GAEI;AALF;AAHc,KAAD,CAArB;AAWD;;AAED,WAAShB,mBAAT,GAA+B;AAC7BjB,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,WAAOwB,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAASP,mBAAT,GAA+B;AAC7BlB,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACA,WAAOwB,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAASN,kBAAT,CACEnD,GADF,EAEEmE,IAFF,EAGEC,KAHF,EAIEC,UAJF,EAKEC,iBALF,EAMEC,WANF,EAOE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA/C,IAAAA,YAAY,CAAC7B,SAAS,CAAC6E,iBAAX,EAA8B;AACxCC,MAAAA,aAAa,EAAEN,IAAI,CAACM,aADoB;AAExCL,MAAAA,KAAK,EAALA;AAFwC,KAA9B,CAAZ;AAKA,WAAOX,cAAc,CAAC,IAAD,CAArB;AACD;;AAED,WAASL,YAAT,CAAsBS,CAAtB,EAAyB;AACvB7B,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB4B,CAAxB;AACD;;AACD,WAASR,kBAAT,GAA8B,CAAE;;AAChC,WAASC,aAAT,GAAyB,CAAE;;AAC3B,WAASC,wBAAT,CAAkCmB,UAAlC,EAA8C;AAC5C,WAAO9C,eAAe,CAACjC,SAAS,CAAC4D,wBAAX,EAAqCmB,UAArC,CAAtB;AACD;;AAEDjF,EAAAA,MAAM,CAACyC,YAAP,GAAsB;AAAA,WACpBE,aAAa,CACX;AACEuC,MAAAA,QAAQ,EAAE,MADZ;AAEExC,MAAAA,IAAI,EAAE;AACJyC,QAAAA,KAAK,EAAE,CACL;AACEC,UAAAA,EAAE,EAAE,OADN;AAEEC,UAAAA,KAAK,EAAE,OAFT;AAGEC,UAAAA,CAAC,EAAE,GAHL;AAIEC,UAAAA,CAAC,EAAE,GAJL;AAKEC,UAAAA,WAAW,EAAE,CACX;AACEH,YAAAA,KAAK,EAAE,EADT;AAEEI,YAAAA,IAAI,EAAE,CAAC,SAAD,EAAY,EAAZ,EAAgB,mBAAhB,EAAqC,UAArC,CAFR;AAGEC,YAAAA,MAAM,EAAE;AAHV,WADW,CALf;AAYED,UAAAA,IAAI,EAAE,OAZR;AAaEE,UAAAA,IAAI,EAAE,OAbR;AAcEC,UAAAA,SAAS,EAAE,KAdb;AAeEC,UAAAA,aAAa,EAAE,IAfjB;AAgBEC,UAAAA,cAAc,EAAE;AAhBlB,SADK,EAmBL;AACEV,UAAAA,EAAE,EAAE,KADN;AAEEC,UAAAA,KAAK,EAAE,KAFT;AAGEC,UAAAA,CAAC,EAAE,IAHL;AAIEC,UAAAA,CAAC,EAAE,GAJL;AAKEC,UAAAA,WAAW,EAAE,EALf;AAMEC,UAAAA,IAAI,EAAE,KANR;AAOEE,UAAAA,IAAI,EAAE,KAPR;AAQEC,UAAAA,SAAS,EAAE,KARb;AASEC,UAAAA,aAAa,EAAE,IATjB;AAUEC,UAAAA,cAAc,EAAE;AAVlB,SAnBK,EA+BL;AACEL,UAAAA,IAAI,EAAE,MADR;AAEEE,UAAAA,IAAI,EAAE,MAFR;AAGEC,UAAAA,SAAS,EAAE,IAHb;AAIER,UAAAA,EAAE,EAAE,QAJN;AAKEC,UAAAA,KAAK,EAAE,QALT;AAMEC,UAAAA,CAAC,EAAE,IANL;AAOEC,UAAAA,CAAC,EAAE,GAPL;AAQEC,UAAAA,WAAW,EAAE,CACX;AACEH,YAAAA,KAAK,EAAE,EADT;AAEEI,YAAAA,IAAI,EAAE,CACJ,SADI,EAEJ,EAFI,EAGJ,mBAHI,EAIJ,UAJI,EAKJ,UALI,CAFR;AASEC,YAAAA,MAAM,EAAE;AATV,WADW,CARf;AAqBEK,UAAAA,UAAU,EAAE;AACVC,YAAAA,QAAQ,EAAE,CACR;AACEP,cAAAA,IAAI,EAAE,UADR;AAEEL,cAAAA,EAAE,EAAE,YAFN;AAGE1D,cAAAA,GAAG,EAAE,YAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,CAAX;AAAcW,kBAAAA,CAAC,EAAE,CAAjB;AAAoBC,kBAAAA,CAAC,EAAE;AAAvB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJC,gBAAAA,QAAQ,EAAE;AAJN,eAJR;AAUEC,cAAAA,eAAe,EAAE;AAAEpB,gBAAAA,KAAK,EAAE;AAAT,eAVnB;AAWEqB,cAAAA,MAAM,EAAE,EAXV;AAYEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAZd;AAaEvF,cAAAA,UAAU,EAAE,YAbd;AAcEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eAdlB;AAeEC,cAAAA,IAAI,EAAE;AAfR,aADQ,EAkBR;AACErB,cAAAA,IAAI,EAAE,QADR;AAEEL,cAAAA,EAAE,EAAE,UAFN;AAGE1D,cAAAA,GAAG,EAAE,UAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,CAAX;AAAcW,kBAAAA,CAAC,EAAE,CAAjB;AAAoBC,kBAAAA,CAAC,EAAE;AAAvB,iBADJ;AAEJY,gBAAAA,WAAW,EAAE,IAFT;AAGJC,gBAAAA,MAAM,EAAE;AACNvB,kBAAAA,IAAI,EAAE,YADA;AAENwB,kBAAAA,IAAI,EAAE,MAFA;AAGNC,kBAAAA,QAAQ,EAAE;AAHJ,iBAHJ;AAQJ,yBAAO,SARH;AASJC,gBAAAA,IAAI,EAAE,SATF;AAUJf,gBAAAA,UAAU,EAAE;AACVC,kBAAAA,OAAO,EAAE,MADC;AAEVC,kBAAAA,KAAK,EAAE,GAFG;AAGVc,kBAAAA,MAAM,EAAE;AAHE,iBAVR;AAeJb,gBAAAA,SAAS,EAAE,KAfP;AAgBJC,gBAAAA,QAAQ,EAAE;AAhBN,eAJR;AAsBEC,cAAAA,eAAe,EAAE;AAAEpB,gBAAAA,KAAK,EAAE;AAAT,eAtBnB;AAuBEqB,cAAAA,MAAM,EAAE,EAvBV;AAwBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAxBd;AAyBEvF,cAAAA,UAAU,EAAE,sBAzBd;AA0BEyF,cAAAA,IAAI,EAAE;AA1BR,aAlBQ;AADA;AArBd,SA/BK,EAsGL;AACErB,UAAAA,IAAI,EAAE,MADR;AAEEE,UAAAA,IAAI,EAAE,MAFR;AAGEC,UAAAA,SAAS,EAAE,IAHb;AAIER,UAAAA,EAAE,EAAE,QAJN;AAKEC,UAAAA,KAAK,EAAE,QALT;AAMEC,UAAAA,CAAC,EAAE,GANL;AAOEC,UAAAA,CAAC,EAAE,GAPL;AAQEC,UAAAA,WAAW,EAAE,CACX;AACEH,YAAAA,KAAK,EAAE,EADT;AAEEI,YAAAA,IAAI,EAAE,CACJ,SADI,EAEJ,EAFI,EAGJ,mBAHI,EAIJ,UAJI,EAKJ,UALI,CAFR;AASEC,YAAAA,MAAM,EAAE;AATV,WADW,CARf;AAqBEK,UAAAA,UAAU,EAAE;AACVC,YAAAA,QAAQ,EAAE,CACR;AACEP,cAAAA,IAAI,EAAE,QADR;AAEEL,cAAAA,EAAE,EAAE,UAFN;AAGE1D,cAAAA,GAAG,EAAE,UAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,CAAX;AAAcW,kBAAAA,CAAC,EAAE,CAAjB;AAAoBC,kBAAAA,CAAC,EAAE;AAAvB,iBADJ;AAEJY,gBAAAA,WAAW,EAAE,IAFT;AAGJC,gBAAAA,MAAM,EAAE;AACNvB,kBAAAA,IAAI,EAAE,YADA;AAENwB,kBAAAA,IAAI,EAAE,MAFA;AAGNC,kBAAAA,QAAQ,EAAE;AAHJ,iBAHJ;AAQJ,yBAAO,SARH;AASJC,gBAAAA,IAAI,EAAE,SATF;AAUJf,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAVR;AAWJC,gBAAAA,SAAS,EAAE;AAXP,eAJR;AAiBEE,cAAAA,eAAe,EAAE;AAAEpB,gBAAAA,KAAK,EAAE;AAAT,eAjBnB;AAkBEqB,cAAAA,MAAM,EAAE,EAlBV;AAmBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAnBd;AAoBEvF,cAAAA,UAAU,EAAE,sBApBd;AAqBEyF,cAAAA,IAAI,EAAE;AArBR,aADQ,EAwBR;AACErB,cAAAA,IAAI,EAAE,mBADR;AAEEL,cAAAA,EAAE,EAAE,qBAFN;AAGE1D,cAAAA,GAAG,EAAE,WAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,CAAX;AAAcW,kBAAAA,CAAC,EAAE,CAAjB;AAAoBC,kBAAAA,CAAC,EAAE;AAAvB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJc,gBAAAA,UAAU,EAAE,EAJR;AAKJb,gBAAAA,QAAQ,EAAE;AALN,eAJR;AAWEC,cAAAA,eAAe,EAAE;AACfpB,gBAAAA,KAAK,EAAE,yBADQ;AAEfiC,gBAAAA,WAAW,EAAE,QAFE;AAGfC,gBAAAA,OAAO,EAAE,CACP;AAAET,kBAAAA,IAAI,EAAE,KAAR;AAAexE,kBAAAA,KAAK,EAAE;AAAtB,iBADO,EAEP;AAAEwE,kBAAAA,IAAI,EAAE,MAAR;AAAgBxE,kBAAAA,KAAK,EAAE;AAAvB,iBAFO,CAHM;AAOfkF,gBAAAA,QAAQ,EAAE;AAPK,eAXnB;AAoBEd,cAAAA,MAAM,EAAE,EApBV;AAqBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eArBd;AAsBEvF,cAAAA,UAAU,EAAE,YAtBd;AAuBEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eAvBlB;AAwBEC,cAAAA,IAAI,EAAE,qBAxBR;AAyBEW,cAAAA,YAAY,EAAE,CAAC,MAAD;AAzBhB,aAxBQ,EAmDR;AACEhC,cAAAA,IAAI,EAAE,UADR;AAEEL,cAAAA,EAAE,EAAE,YAFN;AAGE1D,cAAAA,GAAG,EAAE,WAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,EAAX;AAAeW,kBAAAA,CAAC,EAAE,CAAlB;AAAqBC,kBAAAA,CAAC,EAAE;AAAxB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJC,gBAAAA,QAAQ,EAAE;AAJN,eAJR;AAUEC,cAAAA,eAAe,EAAE;AACfpB,gBAAAA,KAAK,EAAE,gBADQ;AAEfkC,gBAAAA,OAAO,EAAE,CACP;AAAET,kBAAAA,IAAI,EAAE,GAAR;AAAaxE,kBAAAA,KAAK,EAAE;AAApB,iBADO,EAEP;AAAEwE,kBAAAA,IAAI,EAAE,IAAR;AAAcxE,kBAAAA,KAAK,EAAE;AAArB,iBAFO;AAFM,eAVnB;AAiBEoE,cAAAA,MAAM,EAAE,EAjBV;AAkBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAlBd;AAmBEvF,cAAAA,UAAU,EAAE,YAnBd;AAoBEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eApBlB;AAqBEC,cAAAA,IAAI,EAAE;AArBR,aAnDQ,EA0ER;AACErB,cAAAA,IAAI,EAAE,OADR;AAEEL,cAAAA,EAAE,EAAE,SAFN;AAGE1D,cAAAA,GAAG,EAAE,SAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,EAAX;AAAeW,kBAAAA,CAAC,EAAE,CAAlB;AAAqBC,kBAAAA,CAAC,EAAE;AAAxB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJC,gBAAAA,QAAQ,EAAE;AAJN,eAJR;AAUEC,cAAAA,eAAe,EAAE;AACfpB,gBAAAA,KAAK,EAAE,aADQ;AAEfkC,gBAAAA,OAAO,EAAE,CACP;AAAET,kBAAAA,IAAI,EAAE,GAAR;AAAaxE,kBAAAA,KAAK,EAAE;AAApB,iBADO,EAEP;AAAEwE,kBAAAA,IAAI,EAAE,GAAR;AAAaxE,kBAAAA,KAAK,EAAE;AAApB,iBAFO;AAFM,eAVnB;AAiBEoE,cAAAA,MAAM,EAAE,EAjBV;AAkBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAlBd;AAmBEvF,cAAAA,UAAU,EAAE,YAnBd;AAoBEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eApBlB;AAqBEC,cAAAA,IAAI,EAAE;AArBR,aA1EQ,EAiGR;AACErB,cAAAA,IAAI,EAAE,UADR;AAEEL,cAAAA,EAAE,EAAE,YAFN;AAGE1D,cAAAA,GAAG,EAAE,aAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,EAAX;AAAeW,kBAAAA,CAAC,EAAE,CAAlB;AAAqBC,kBAAAA,CAAC,EAAE;AAAxB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJC,gBAAAA,QAAQ,EAAE;AAJN,eAJR;AAUEC,cAAAA,eAAe,EAAE;AACfpB,gBAAAA,KAAK,EAAE,gBADQ;AAEfiC,gBAAAA,WAAW,EAAE;AAFE,eAVnB;AAcEZ,cAAAA,MAAM,EAAE,EAdV;AAeEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAfd;AAgBEvF,cAAAA,UAAU,EAAE,YAhBd;AAiBEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eAjBlB;AAkBEC,cAAAA,IAAI,EAAE,YAlBR;AAmBEW,cAAAA,YAAY,EAAE;AAnBhB,aAjGQ,EAsHR;AACEhC,cAAAA,IAAI,EAAE,OADR;AAEEL,cAAAA,EAAE,EAAE,SAFN;AAGE1D,cAAAA,GAAG,EAAE,SAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,EAAX;AAAeW,kBAAAA,CAAC,EAAE,CAAlB;AAAqBC,kBAAAA,CAAC,EAAE;AAAxB,iBADJ;AAEJY,gBAAAA,WAAW,EAAE,IAFT;AAGJM,gBAAAA,UAAU,EAAE,EAHR;AAIJK,gBAAAA,OAAO,EAAE,CACP;AACEC,kBAAAA,KAAK,EAAE,GADT;AAEEjF,kBAAAA,IAAI,EAAE,EAFR;AAGEkF,kBAAAA,MAAM,EAAE,KAHV;AAIEC,kBAAAA,OAAO,EAAE;AAJX,iBADO,EAOP;AAAEF,kBAAAA,KAAK,EAAE,GAAT;AAAcjF,kBAAAA,IAAI,EAAE,EAApB;AAAwBkF,kBAAAA,MAAM,EAAE,IAAhC;AAAsCC,kBAAAA,OAAO,EAAE;AAA/C,iBAPO,EAQP;AAAEF,kBAAAA,KAAK,EAAE,GAAT;AAAcjF,kBAAAA,IAAI,EAAE,EAApB;AAAwBkF,kBAAAA,MAAM,EAAE,IAAhC;AAAsCC,kBAAAA,OAAO,EAAE;AAA/C,iBARO,CAJL;AAcJC,gBAAAA,UAAU,EAAE,IAdR;AAeJC,gBAAAA,MAAM,EAAE,IAfJ;AAgBJC,gBAAAA,IAAI,EAAE,IAhBF;AAiBJC,gBAAAA,QAAQ,EAAE,IAjBN;AAkBJ1B,gBAAAA,SAAS,EAAE,KAlBP;AAmBJC,gBAAAA,QAAQ,EAAE;AAnBN,eAJR;AAyBEC,cAAAA,eAAe,EAAE;AAAEpB,gBAAAA,KAAK,EAAE;AAAT,eAzBnB;AA0BEqB,cAAAA,MAAM,EAAE,EA1BV;AA2BEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eA3Bd;AA4BEE,cAAAA,IAAI,EAAE;AA5BR,aAtHQ,EAoJR;AACErB,cAAAA,IAAI,EAAE,OADR;AAEEL,cAAAA,EAAE,EAAE,SAFN;AAGE1D,cAAAA,GAAG,EAAE,UAHP;AAIEgB,cAAAA,IAAI,EAAE;AACJuD,gBAAAA,MAAM,EAAE;AAAEX,kBAAAA,CAAC,EAAE,CAAL;AAAQC,kBAAAA,CAAC,EAAE,EAAX;AAAeW,kBAAAA,CAAC,EAAE,CAAlB;AAAqBC,kBAAAA,CAAC,EAAE;AAAxB,iBADJ;AAEJC,gBAAAA,UAAU,EAAE;AAAEC,kBAAAA,OAAO,EAAE,MAAX;AAAmBC,kBAAAA,KAAK,EAAE;AAA1B,iBAFR;AAGJC,gBAAAA,SAAS,EAAE,KAHP;AAIJC,gBAAAA,QAAQ,EAAE;AAJN,eAJR;AAUEC,cAAAA,eAAe,EAAE;AACfpB,gBAAAA,KAAK,EAAE,aADQ;AAEfkC,gBAAAA,OAAO,EAAE,CACP;AAAET,kBAAAA,IAAI,EAAE,KAAR;AAAexE,kBAAAA,KAAK,EAAE;AAAtB,iBADO,EAEP;AAAEwE,kBAAAA,IAAI,EAAE,KAAR;AAAexE,kBAAAA,KAAK,EAAE;AAAtB,iBAFO;AAFM,eAVnB;AAiBEoE,cAAAA,MAAM,EAAE,EAjBV;AAkBEC,cAAAA,UAAU,EAAE;AAAEC,gBAAAA,QAAQ,EAAE;AAAZ,eAlBd;AAmBEvF,cAAAA,UAAU,EAAE,YAnBd;AAoBEwF,cAAAA,cAAc,EAAE;AAAE,8CAA8B;AAAhC,eApBlB;AAqBEC,cAAAA,IAAI,EAAE;AArBR,aApJQ;AADA;AArBd,SAtGK;AADH;AAFR,SA+SKoB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAhTM,CADO;AAAA,GAAtB;AAmTD,CA5eH","sourcesContent":["/* eslint-disable no-use-before-define */\nconst app = window.app;\nconst initDebounceTime = 1000;\nconst eventKeys = app.eventKeys;\n\nwindow.__settings = {\n  assetsUrl: 'agentScript/',\n};\n\nfunction StateParams() {\n  this.$get = () => {\n    return {\n      uii: '1',\n    };\n  };\n}\n\n// eslint-disable-next-line no-undef\nangular\n  .module('render', [\n    'ui.select',\n    'ngSanitize',\n    'angular-growl',\n    'pascalprecht.translate',\n    'formly',\n    'formlyBootstrap',\n    'gridstack-angular',\n    'ngAnimate',\n    'ngMaterial',\n    'scriptingStudio.render',\n    'agent_ui.factories.localeLoader',\n  ])\n  .config(function ($mdThemingProvider, $translateProvider) {\n    $mdThemingProvider\n      .theme('default')\n      .primaryPalette('blue-grey')\n      .accentPalette('blue');\n\n    // setup translation file loader factory\n    $translateProvider.useSanitizeValueStrategy('sanitize');\n    $translateProvider.preferredLanguage('us');\n    $translateProvider.fallbackLanguage('us');\n    $translateProvider.useLoader('localeLoader');\n  })\n  .provider('$stateParams', StateParams)\n  .controller('RenderCtrl', ($scope, $timeout, $q) => {\n    function bindAppEvent(key, cb) {\n      app.eventEmitter.on(app.toAngularKey + key, cb);\n    }\n\n    function sendToOurApp(key, message) {\n      app.eventEmitter.emit(app.fromAngularKey + key, message);\n    }\n\n    function requestToOurApp(key, message) {\n      // return new Promise((resolve) => {\n      // that $q is like promise in angular scope\n      return $q((resolve) => {\n        sendToOurApp(key, message);\n        app.eventEmitter.once(app.toAngularKey + key, (value) => {\n          console.log(value);\n          resolve(value);\n        });\n      });\n    }\n\n    bindAppEvent(eventKeys.updateScript, (data) => {\n      console.log('setScript', data);\n\n      _updateScript(data);\n    });\n\n    app.init();\n\n    setTimeout(() => {\n      if (!$scope.config) {\n        $scope.$apply(function () {\n          $scope.showMessage = 'No Agent Script';\n        });\n      }\n    }, initDebounceTime);\n\n    $scope.uii = 1;\n    $scope.callbacks = {\n      setScriptResult,\n      setRecordingState,\n      setHoldState,\n      requestColdRequeue,\n      requestWarmRequeue,\n      requestHangup,\n      getScriptData,\n      requestColdTransfer,\n      requestWarmTransfer,\n      requestDisposition,\n      changeScript,\n      allowSendKbArticle,\n      sendKbArticle,\n      getKnowledgeBaseArticles,\n    };\n\n    function _updateScript(data) {\n      $scope.$apply(function () {\n        // console.log(JSON.stringify(data));\n        // $scope.uii = data.call.uii;\n        $scope.config = data.config;\n        $scope.call = data.call;\n      });\n    }\n\n    function _returnPromise(result) {\n      const defer = $q.defer();\n      defer.resolve(result);\n      return defer.promise;\n    }\n\n    function setScriptResult(e) {\n      sendToOurApp(eventKeys.setScriptResult, e);\n      return true;\n    }\n\n    function setRecordingState(state) {\n      console.log(state);\n      return _returnPromise(state);\n    }\n\n    function setHoldState(state) {\n      console.log(state);\n      return _returnPromise(state);\n    }\n\n    function requestColdRequeue() {\n      console.log('ColdRequeue');\n      return _returnPromise(true);\n    }\n\n    function requestWarmRequeue() {\n      console.log('WarmRequeue');\n      return _returnPromise(true);\n    }\n\n    function requestHangup() {\n      console.log('Hangup');\n      return _returnPromise(true);\n    }\n\n    function getScriptData() {\n      return _returnPromise({\n        model: {},\n        lead: {},\n        call: {\n          uii: $scope.uii,\n          dispositions:\n            $scope.call && $scope.call.outdialDispositions\n              ? $scope.call.outdialDispositions.dispositions\n              : [],\n        },\n      });\n    }\n\n    function requestColdTransfer() {\n      console.log('ColdTransfer');\n      return _returnPromise(true);\n    }\n\n    function requestWarmTransfer() {\n      console.log('WarmTransfer');\n      return _returnPromise(true);\n    }\n\n    function requestDisposition(\n      uii,\n      disp,\n      notes,\n      isCallback,\n      contactForwardNum,\n      callbackDts,\n    ) {\n      // console.log(\n      //   'Disposition',\n      //   uii,\n      //   disp,\n      //   notes,\n      //   isCallback,\n      //   contactForwardNum,\n      //   callbackDts,\n      // );\n      sendToOurApp(eventKeys.updateDisposition, {\n        dispositionId: disp.dispositionId,\n        notes,\n      });\n\n      return _returnPromise(true);\n    }\n\n    function changeScript(e) {\n      console.log('!!change', e);\n    }\n    function allowSendKbArticle() {}\n    function sendKbArticle() {}\n    function getKnowledgeBaseArticles(kbGroupIds) {\n      return requestToOurApp(eventKeys.getKnowledgeBaseArticles, kbGroupIds);\n    }\n\n    window.updateScript = () =>\n      _updateScript(\n        {\n          scriptId: '2967',\n          data: {\n            tools: [\n              {\n                id: 'start',\n                label: 'start',\n                x: 760,\n                y: 211,\n                connections: [\n                  {\n                    label: '',\n                    type: ['default', '', 'default,,flowLink', 'flowLink'],\n                    target: 'page_1',\n                  },\n                ],\n                type: 'start',\n                icon: 'start',\n                hasConfig: false,\n                hideInToolbar: true,\n                maxConnections: 1,\n              },\n              {\n                id: 'end',\n                label: 'end',\n                x: 1250,\n                y: 624,\n                connections: [],\n                type: 'end',\n                icon: 'end',\n                hasConfig: false,\n                hideInToolbar: true,\n                maxConnections: 0,\n              },\n              {\n                type: 'page',\n                icon: 'page',\n                hasConfig: true,\n                id: 'page_0',\n                label: 'page_0',\n                x: 1105,\n                y: 274,\n                connections: [\n                  {\n                    label: '',\n                    type: [\n                      'default',\n                      '',\n                      'default,,flowLink',\n                      'inactive',\n                      'flowLink',\n                    ],\n                    target: 'end',\n                  },\n                ],\n                properties: {\n                  pageData: [\n                    {\n                      type: 'checkbox',\n                      id: 'checkbox_1',\n                      key: 'model.tttt',\n                      data: {\n                        layout: { x: 0, y: 0, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        lastEdit: 1594187545964,\n                      },\n                      templateOptions: { label: 'checkbox field' },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'checkbox_1',\n                    },\n                    {\n                      type: 'button',\n                      id: 'button_2',\n                      key: 'button_2',\n                      data: {\n                        layout: { x: 0, y: 8, h: 8, w: 12 },\n                        ignoreModel: true,\n                        action: {\n                          type: 'navigation',\n                          view: 'goTo',\n                          location: 'next',\n                        },\n                        class: 'default',\n                        size: 'default',\n                        javascript: {\n                          trigger: 'BLUR',\n                          delay: 250,\n                          script: \"console.log('1234')\",\n                        },\n                        mouseover: false,\n                        lastEdit: 1594187988831,\n                      },\n                      templateOptions: { label: 'aaaaaaaaaaaaa' },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'InputType_buttonCtrl',\n                      name: 'button_2',\n                    },\n                  ],\n                },\n              },\n              {\n                type: 'page',\n                icon: 'page',\n                hasConfig: true,\n                id: 'page_1',\n                label: 'page_1',\n                x: 857,\n                y: 411,\n                connections: [\n                  {\n                    label: '',\n                    type: [\n                      'default',\n                      '',\n                      'default,,flowLink',\n                      'inactive',\n                      'flowLink',\n                    ],\n                    target: 'page_0',\n                  },\n                ],\n                properties: {\n                  pageData: [\n                    {\n                      type: 'button',\n                      id: 'button_1',\n                      key: 'button_1',\n                      data: {\n                        layout: { x: 0, y: 0, h: 8, w: 12 },\n                        ignoreModel: true,\n                        action: {\n                          type: 'navigation',\n                          view: 'goTo',\n                          location: 'next',\n                        },\n                        class: 'default',\n                        size: 'default',\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                      },\n                      templateOptions: { label: 'button field' },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'InputType_buttonCtrl',\n                      name: 'button_1',\n                    },\n                    {\n                      type: 'multipleSelectBox',\n                      id: 'multipleSelectBox_2',\n                      key: 'model.abc',\n                      data: {\n                        layout: { x: 0, y: 8, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        dataSource: '',\n                        lastEdit: 1597736076606,\n                      },\n                      templateOptions: {\n                        label: 'multipleSelectBox field',\n                        placeholder: '123123',\n                        options: [\n                          { name: 'sda', value: 'sdaf' },\n                          { name: '3dsa', value: 'dsa' },\n                        ],\n                        required: true,\n                      },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'multipleSelectBox_2',\n                      defaultValue: ['sdaf'],\n                    },\n                    {\n                      type: 'checkbox',\n                      id: 'checkbox_3',\n                      key: 'model.abc',\n                      data: {\n                        layout: { x: 0, y: 16, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        lastEdit: 1597739136311,\n                      },\n                      templateOptions: {\n                        label: 'checkbox field',\n                        options: [\n                          { name: 'a', value: 'wq' },\n                          { name: 'ff', value: 'ff' },\n                        ],\n                      },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'checkbox_3',\n                    },\n                    {\n                      type: 'radio',\n                      id: 'radio_4',\n                      key: 'model.c',\n                      data: {\n                        layout: { x: 0, y: 24, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        lastEdit: 1597739340775,\n                      },\n                      templateOptions: {\n                        label: 'radio field',\n                        options: [\n                          { name: 'd', value: 'd' },\n                          { name: 'b', value: 'b' },\n                        ],\n                      },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'radio_4',\n                    },\n                    {\n                      type: 'textarea',\n                      id: 'textarea_5',\n                      key: 'model.awqer',\n                      data: {\n                        layout: { x: 0, y: 32, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        lastEdit: 1597739399683,\n                      },\n                      templateOptions: {\n                        label: 'textarea field',\n                        placeholder: 'fdsaf',\n                      },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'textarea_5',\n                      defaultValue: 'adsfsa',\n                    },\n                    {\n                      type: 'table',\n                      id: 'table_6',\n                      key: 'model.d',\n                      data: {\n                        layout: { x: 0, y: 40, h: 8, w: 12 },\n                        ignoreModel: true,\n                        dataSource: '',\n                        columns: [\n                          {\n                            title: 'A',\n                            data: '',\n                            report: false,\n                            visible: true,\n                          },\n                          { title: 'B', data: '', report: true, visible: true },\n                          { title: 'C', data: '', report: true, visible: true },\n                        ],\n                        searchable: true,\n                        paging: true,\n                        info: true,\n                        ordering: true,\n                        mouseover: false,\n                        lastEdit: 1597739503862,\n                      },\n                      templateOptions: { label: 'table field' },\n                      extras: {},\n                      validation: { messages: {} },\n                      name: 'table_6',\n                    },\n                    {\n                      type: 'radio',\n                      id: 'radio_7',\n                      key: 'model.fd',\n                      data: {\n                        layout: { x: 0, y: 48, h: 8, w: 12 },\n                        javascript: { trigger: 'BLUR', delay: 250 },\n                        mouseover: false,\n                        lastEdit: 1597739921987,\n                      },\n                      templateOptions: {\n                        label: 'radio field',\n                        options: [\n                          { name: 'das', value: 'dsadsa' },\n                          { name: '123', value: '123' },\n                        ],\n                      },\n                      extras: {},\n                      validation: { messages: {} },\n                      controller: 'optionCtrl',\n                      ngModelElAttrs: { 'scripting-input-javascript': '' },\n                      name: 'radio_7',\n                    },\n                  ],\n                },\n              },\n            ],\n          },\n        } || JSON.parse(localStorage.getItem('agentScript')),\n      );\n  });\n"],"file":"agentScript.angular.js"}