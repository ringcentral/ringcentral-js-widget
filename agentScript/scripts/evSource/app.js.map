{"version":3,"sources":["agentScript/scripts/evSource/app.js"],"names":["angular","module","config","myAppConfig","$stateProvider","$urlRouterProvider","localStorageServiceProvider","$translateProvider","$mdThemingProvider","$httpProvider","growlProvider","cfpLoadingBarProvider","ngQuillConfigProvider","otherwise","setPrefix","preferredLanguage","useSanitizeValueStrategy","useLoader","globalTimeToLive","success","error","warning","info","globalDisableCountDown","theme","primaryPalette","accentPalette","interceptors","push","parentSelector","includeSpinner","set","modules","toolbar","font","color","background","size","header","list","indent","align","run","$rootScope","$window","ENV_VARS","$on","event","toState","toParams","redirectTo","preventDefault","$state","go","curSettings","__settings","static_version","Object","freeze","bamboo_repository_revision_number","bamboo_buildResultKey","controller","AppCtrl","$scope","RenderNav","BrandingSvc","fromState","fromParams","name","loadingScript","toolType","split","length","pageTitle","addState","favImg","getFavUrl","console","log","bind"],"mappings":"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","sourcesContent":["angular\n  .module('scriptingStudio', [\n    'templates-app',\n    'templates-common',\n    'ui.router',\n    'ui.router.stateHelper',\n    'ui.bootstrap',\n    'ui.sortable',\n    'LocalStorageModule',\n    'ui.select',\n    'ui.ace',\n    'ngAnimate',\n    'ngSanitize',\n    'ngMaterial',\n    'angular-growl',\n    'angularUUID2',\n    'pascalprecht.translate',\n    'formly',\n    'formlyBootstrap',\n    'gridstack-angular',\n    'ngQuill',\n    'ngMask',\n    'angular-loading-bar',\n    'angular.filter',\n    'prettyXml',\n    'ngMessages',\n    'cf.branding',\n\n    'PackageConfig' /* loads environment variables provided by grunt */,\n\n    // has formly, htmlElementsFactory and render directive\n    'scriptingStudio.render',\n\n    // Scripting Studio Modules\n    'scriptingStudio.app.base', // default state for this app\n    'scriptingStudio.app.configure',\n    'scriptingStudio.app.render',\n\n    // Tool Config Controllers\n    'scriptingStudio.configure.javascript',\n    'scriptingStudio.configure.page',\n    'scriptingStudio.configure.www',\n    'scriptingStudio.configure.switch',\n    'scriptingStudio.configure.mapping',\n    'scriptingStudio.configure.dataBuilder',\n\n    // Directives\n    'scriptingStudio.directives.jsPlumb',\n    'scriptingStudio.directives.preview',\n    'scriptingStudio.directives.toolbar',\n    'scriptingStudio.directives.uiSelectCustom',\n\n    // Tools directives\n    'scriptingStudio.directives.tools.scriptingTool',\n    'scriptingStudio.directives.tools.toolbarTool',\n    'scriptingStudio.directives.cfResizeable',\n\n    // Factories\n    'scriptingStudio.factories.localeLoader',\n    'scriptingStudio.factories.plumbInstance',\n    'scriptingStudio.factories.scriptDocument',\n\n    'scriptingStudio.factories.ngBootstrap',\n    'scriptingStudio.factories.ngBootstrap.confirmModal',\n    'scriptingStudio.factories.ngBootstrap.renderModal',\n    'scriptingStudio.factories.ngBootstrap.inputModal',\n\n    // Services\n    'scriptingStudio.service.interceptor',\n    'scriptingStudio.service.script',\n    'scriptingStudio.service.session',\n    'scriptingStudio.service.scriptData',\n    'scriptingStudio.service.mapping',\n    'scriptingStudio.service.aceEditor',\n    'scriptingStudio.service.javascriptBuilder',\n    'scriptingStudio.service.object',\n    'scriptingStudio.service.sorting',\n    'scriptingStudio.service.render.renderService',\n    'scriptingStudio.service.render.navService',\n    'scriptingStudio.service.apiCalls',\n    'scriptingStudio.service.editorInfo',\n    // HTML Form Builder\n    'scriptingStudio.directives.textEditor',\n\n    'scriptingStudio.directives.modelTag',\n    'scriptingStudio.directives.modelTag.modal',\n    'scriptingStudio.directives.modelTag.data.modal',\n    'scriptingStudio.directives.customFormats',\n    'scriptingStudio.directives.cfInputs',\n\n    'scriptingStudio.directives.formBuilder',\n    'scriptingStudio.directives.formBuilder.form',\n    'scriptingStudio.directives.formBuilder.form.element',\n    'scriptingStudio.directives.formBuilder.form.element.edit',\n\n    'scriptingStudio.directives.formBuilder.select',\n    'scriptingStudio.directives.formBuilder.select.icon',\n\n    // HTML Renderer\n    'scriptingStudio.directives.render.scriptRenderer',\n  ])\n\n  .config([\n    '$stateProvider',\n    '$urlRouterProvider',\n    'localStorageServiceProvider',\n    '$translateProvider',\n    '$mdThemingProvider',\n    '$httpProvider',\n    'growlProvider',\n    'cfpLoadingBarProvider',\n    'ngQuillConfigProvider',\n    function myAppConfig(\n      $stateProvider,\n      $urlRouterProvider,\n      localStorageServiceProvider,\n      $translateProvider,\n      $mdThemingProvider,\n      $httpProvider,\n      growlProvider,\n      cfpLoadingBarProvider,\n      ngQuillConfigProvider,\n    ) {\n      $urlRouterProvider.otherwise('/');\n\n      // set a prefix for localStorage\n      localStorageServiceProvider.setPrefix('engage-admin');\n\n      // setup translation file loader factory\n      $translateProvider.preferredLanguage('us');\n      $translateProvider.useSanitizeValueStrategy('sanitizeParameters');\n      $translateProvider.useLoader('localeLoader');\n\n      // SET THE DEFAULT GROWL SETTINGS\n      growlProvider.globalTimeToLive({\n        success: 6000,\n        error: -1,\n        warning: 6000,\n        info: 6000,\n      });\n      growlProvider.globalDisableCountDown(true);\n\n      $mdThemingProvider\n        .theme('default')\n        .primaryPalette('blue-grey')\n        .accentPalette('blue');\n\n      $httpProvider.interceptors.push('AuthInterceptor');\n\n      cfpLoadingBarProvider.parentSelector = '#mainNav';\n      cfpLoadingBarProvider.includeSpinner = false;\n\n      ngQuillConfigProvider.set({\n        modules: {\n          toolbar: [\n            [{ font: [] }],\n            [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n            ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n            [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\n            [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n\n            [{ align: [] }],\n\n            ['blockquote', 'code-block'],\n            ['link'], // link and image, video\n\n            ['clean'], // remove formatting button\n          ],\n        },\n      });\n    },\n  ])\n\n  .run([\n    '$rootScope',\n    '$window',\n    'ENV_VARS',\n    function run($rootScope, $window, ENV_VARS) {\n      // this adds a redirectTo param to the $stateProvider, allowing default views from parent\n      $rootScope.$on('$stateChangeStart', function(event, toState, toParams) {\n        if (toState.redirectTo) {\n          event.preventDefault();\n          $state.go(toState.redirectTo, toParams);\n        }\n      });\n\n      var curSettings = $window.__settings;\n\n      $window.__settings =\n        (!!curSettings && typeof curSettings === 'object' && curSettings) || {};\n      $window.__settings.static_version = Object.freeze({\n        bamboo_repository_revision_number:\n          ENV_VARS.bamboo_repository_revision_number,\n        bamboo_buildResultKey: ENV_VARS.bamboo_buildResultKey,\n      });\n    },\n  ])\n\n  .controller('AppCtrl', [\n    '$scope',\n    'RenderNav',\n    'BrandingSvc',\n    function AppCtrl($scope, RenderNav, BrandingSvc) {\n      $scope.$on('$stateChangeStart', function(\n        event,\n        toState,\n        toParams,\n        fromState,\n        fromParams,\n      ) {\n        if (toState.name === 'base') {\n          $scope.loadingScript = true;\n        }\n\n        // set this if it's missing, happens on page refresh\n        if (!toParams.toolType) {\n          var split = toState.name.split('.');\n          toParams.toolType = split[split.length - 1];\n        }\n      });\n\n      $scope.$on('$stateChangeSuccess', function(\n        event,\n        toState,\n        toParams,\n        fromState,\n        fromParams,\n      ) {\n        $scope.pageTitle = 'Scripting Studio | ';\n        $scope.pageTitle += toState.pageTitle || 'Configuration';\n\n        if (toState.name === 'base') {\n          $scope.loadingScript = false;\n        }\n\n        RenderNav.addState(toState.name, toParams);\n      });\n\n      $scope.favImg = BrandingSvc.getFavUrl();\n\n      $scope.$on('$stateChangeError', console.log.bind(console));\n    },\n  ]);\n"],"file":"app.js"}