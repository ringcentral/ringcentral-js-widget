{"version":3,"sources":["containers/ConversationsPage/index.js"],"names":["mapToProps","_","phone","brand","locale","conversations","contactMatcher","dateTimeFormat","regionSettings","rolesAndPermissions","call","conversationLogger","connectivityMonitor","rateLimiter","messageStore","connectivityManager","extensionInfo","showTitle","enableContactFallback","showGroupNumberName","serviceFeatures","permissions","readTextPermissions","voicemailPermissions","readFaxPermissions","fullName","currentLocale","currentSiteCode","site","code","isMultipleSiteEnabled","pagingConversations","areaCode","countryCode","disableLinks","isOfflineMode","isVoipOnlyMode","throttling","disableCallButton","isWebphoneUnavailableMode","isWebphoneInitializing","disableClickToDial","isIdle","outboundSmsPermission","OutboundSMS","internalSmsPermission","InternalSMS","composeTextPermission","Pager","enabled","SMS","loggingMap","showSpinner","ready","searchInput","autoLog","typeFilter","textUnreadCounts","voiceUnreadCounts","faxUnreadCounts","readTextPermission","readVoicemailPermission","readFaxPermission","loadingNextPage","loadingOldConversations","mapToFunctions","dialerUI","routerInteraction","contactDetailsUI","composeText","contactSearch","showViewContact","dateTimeFormatter","formatDateTime","dialerRoute","onCreateContact","onLogConversation","isLoggedContact","onViewContact","conversationDetailRoute","composeTextRoute","previewFaxMessages","renderExtraButton","onFaxDownload","contact","id","type","showContactDetails","direct","phoneNumber","name","entityType","hasMatchNumber","ignoreCache","forceMatchNumber","undefined","onClickToDial","callingEnabled","recipient","push","onClickToCall","fromType","onClickToSms","hasComposeTextPermission","isDummyContact","updateTypingToNumber","search","searchString","addToNumber","typingToNumber","cleanTypingToNumber","onClickToSMS","redirect","options","logConversation","onSearchInputChange","e","updateSearchInput","currentTarget","value","showConversationDetail","conversationId","replace","readMessage","readMessages","markMessage","unreadMessage","unmarkMessage","onUnmarkMessages","goToComposeText","updateTypeFilter","deleteMessage","deleteConversation","uri","window","open","loadNextPage","onUnmount","currentPage","resetCurrentPage","ConversationsPanel"],"mappings":"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","sourcesContent":["import { connect } from 'react-redux';\n// it is used in message tab\nimport ConversationsPanel from '../../components/ConversationsPanel';\nimport { withPhone } from '../../lib/phoneContext';\n\nexport function mapToProps(\n  _,\n  {\n    phone: {\n      brand,\n      locale,\n      conversations,\n      contactMatcher,\n      dateTimeFormat,\n      regionSettings,\n      rolesAndPermissions,\n      call,\n      conversationLogger,\n      connectivityMonitor,\n      rateLimiter,\n      messageStore,\n      connectivityManager,\n      extensionInfo,\n    },\n    showTitle = false,\n    enableContactFallback = false,\n    showGroupNumberName = false,\n  },\n) {\n  const {\n    serviceFeatures,\n    permissions,\n    readTextPermissions,\n    voicemailPermissions,\n    readFaxPermissions,\n  } = rolesAndPermissions;\n  return {\n    showTitle,\n    enableContactFallback,\n    showGroupNumberName,\n    brand: brand.fullName,\n    currentLocale: locale.currentLocale,\n    currentSiteCode: extensionInfo?.site?.code ?? '',\n    isMultipleSiteEnabled: extensionInfo?.isMultipleSiteEnabled ?? false,\n    conversations: conversations.pagingConversations,\n    areaCode: regionSettings.areaCode,\n    countryCode: regionSettings.countryCode,\n    disableLinks:\n      connectivityManager.isOfflineMode ||\n      connectivityManager.isVoipOnlyMode ||\n      rateLimiter.throttling,\n    disableCallButton:\n      connectivityManager.isOfflineMode ||\n      connectivityManager.isWebphoneUnavailableMode ||\n      connectivityManager.isWebphoneInitializing ||\n      rateLimiter.throttling,\n    disableClickToDial: !(call && call.isIdle),\n    outboundSmsPermission: !!(permissions && permissions.OutboundSMS),\n    internalSmsPermission: !!(permissions && permissions.InternalSMS),\n    composeTextPermission: !!(\n      serviceFeatures &&\n      ((serviceFeatures.Pager && serviceFeatures.Pager.enabled) ||\n        (serviceFeatures.SMS && serviceFeatures.SMS.enabled))\n    ),\n    loggingMap: conversationLogger && conversationLogger.loggingMap,\n    showSpinner: !(\n      locale.ready &&\n      conversations.ready &&\n      (!contactMatcher || contactMatcher.ready) &&\n      dateTimeFormat.ready &&\n      regionSettings.ready &&\n      rolesAndPermissions.ready &&\n      connectivityMonitor.ready &&\n      rateLimiter.ready &&\n      (!rolesAndPermissions || rolesAndPermissions.ready) &&\n      (!call || call.ready) &&\n      (!conversationLogger || conversationLogger.ready)\n    ),\n    searchInput: conversations.searchInput,\n    autoLog: !!(conversationLogger && conversationLogger.autoLog),\n    typeFilter: conversations.typeFilter,\n    textUnreadCounts: messageStore.textUnreadCounts,\n    voiceUnreadCounts: messageStore.voiceUnreadCounts,\n    faxUnreadCounts: messageStore.faxUnreadCounts,\n    readTextPermission: readTextPermissions,\n    readVoicemailPermission: voicemailPermissions,\n    readFaxPermission: readFaxPermissions,\n    loadingNextPage: conversations.loadingOldConversations,\n  };\n}\n\nexport function mapToFunctions(\n  _,\n  {\n    phone: {\n      dateTimeFormat,\n      conversations,\n      messageStore,\n      conversationLogger,\n      contactMatcher,\n      call,\n      dialerUI,\n      routerInteraction,\n      contactDetailsUI,\n      composeText,\n      contactSearch,\n      rolesAndPermissions,\n    },\n    showViewContact = true,\n    dateTimeFormatter = (...args) => dateTimeFormat.formatDateTime(...args),\n    dialerRoute = '/dialer',\n    onCreateContact,\n    onLogConversation,\n    isLoggedContact,\n    onViewContact,\n    conversationDetailRoute = '/conversations/{conversationId}',\n    composeTextRoute = '/composeText',\n    previewFaxMessages,\n    renderExtraButton,\n    onFaxDownload,\n  },\n) {\n  return {\n    dateTimeFormatter,\n    onViewContact: showViewContact\n      ? onViewContact ||\n        (({ contact: { id, type } }) => {\n          if (contactDetailsUI) {\n            contactDetailsUI.showContactDetails({ id, type, direct: true });\n          }\n        })\n      : null,\n    onCreateContact: onCreateContact\n      ? async ({ phoneNumber, name, entityType }) => {\n          const hasMatchNumber = await contactMatcher.hasMatchNumber({\n            phoneNumber,\n            ignoreCache: true,\n          });\n          // console.debug('confirm hasMatchNumber:', hasMatchNumber);\n          if (!hasMatchNumber) {\n            await onCreateContact({ phoneNumber, name, entityType });\n            await contactMatcher.forceMatchNumber({ phoneNumber });\n          }\n        }\n      : undefined,\n    onClickToDial:\n      dialerUI && rolesAndPermissions.callingEnabled\n        ? (recipient) => {\n            if (call.isIdle) {\n              routerInteraction.push(dialerRoute);\n              // for track router\n              messageStore.onClickToCall({ fromType: recipient.fromType });\n              dialerUI.call({ recipient });\n            }\n          }\n        : undefined,\n    onClickToSms: rolesAndPermissions.hasComposeTextPermission\n      ? (contact, isDummyContact = false) => {\n          if (routerInteraction) {\n            routerInteraction.push(composeTextRoute);\n          }\n          // if contact autocomplete, if no match fill the number only\n          if (contact.name && contact.phoneNumber && isDummyContact) {\n            composeText.updateTypingToNumber(contact.name);\n            contactSearch.search({ searchString: contact.name });\n          } else {\n            composeText.addToNumber(contact);\n            if (composeText.typingToNumber === contact.phoneNumber) {\n              composeText.cleanTypingToNumber();\n            }\n          }\n          // for track\n          messageStore.onClickToSMS();\n        }\n      : undefined,\n    isLoggedContact,\n    onLogConversation:\n      onLogConversation ||\n      (conversationLogger &&\n        (async ({ redirect = true, ...options }) => {\n          await conversationLogger.logConversation({\n            ...options,\n            redirect,\n          });\n        })),\n    onSearchInputChange(e) {\n      conversations.updateSearchInput(e.currentTarget.value);\n    },\n    showConversationDetail(conversationId) {\n      routerInteraction.push(\n        conversationDetailRoute.replace('{conversationId}', conversationId),\n      );\n    },\n    readMessage(conversationId) {\n      messageStore.readMessages(conversationId);\n    },\n    markMessage(conversationId) {\n      messageStore.unreadMessage(conversationId);\n    },\n    unmarkMessage(conversationId) {\n      messageStore.readMessages(conversationId);\n      messageStore.onUnmarkMessages();\n    },\n    goToComposeText: () => routerInteraction.push(composeTextRoute),\n    updateTypeFilter: (type) => conversations.updateTypeFilter(type),\n    deleteMessage(conversationId) {\n      conversations.deleteConversation(conversationId);\n    },\n    previewFaxMessages(uri, conversationId) {\n      if (!previewFaxMessages) {\n        window.open(uri);\n      } else {\n        previewFaxMessages(uri);\n      }\n      messageStore.readMessages(conversationId);\n    },\n    async loadNextPage() {\n      await conversations.loadNextPage();\n    },\n    onUnmount() {\n      if (conversations.currentPage > 2) {\n        conversations.resetCurrentPage();\n      }\n    },\n    renderExtraButton,\n    onFaxDownload,\n  };\n}\nexport default withPhone(\n  connect(mapToProps, mapToFunctions)(ConversationsPanel),\n);\n"],"file":"index.js"}