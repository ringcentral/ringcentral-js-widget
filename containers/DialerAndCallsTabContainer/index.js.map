{"version":3,"sources":["containers/DialerAndCallsTabContainer/index.js"],"names":["TabContentView","props","getTabs","currentLocale","currentPath","path","label","i18n","getString","isActive","showSpinner","styles","nav","content","Component","propTypes","showTabs","PropTypes","bool","isRequired","string","goTo","func","mapToProps","_","phone","locale","routerInteraction","hasActiveCalls","ready","mapToFunctions","push","DialerAndCallsTabContainer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,c;;;;;AASJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,OAAL,GAAe,8BACb;AAAA,aAAM,MAAKD,KAAL,CAAWE,aAAjB;AAAA,KADa,EAEb;AAAA,aAAM,MAAKF,KAAL,CAAWG,WAAjB;AAAA,KAFa,EAGb,UAACD,aAAD,EAAgBC,WAAhB;AAAA,aAAgC,CAC9B;AACEC,QAAAA,IAAI,EAAE,SADR;AAEEC,QAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,QAAf,EAAyBL,aAAzB,CAFT;AAGEM,QAAAA,QAHF,sBAGa;AACT,iBAAOL,WAAW,KAAK,SAAvB;AACD;AALH,OAD8B,EAQ9B;AACEC,QAAAA,IAAI,EAAE,QADR;AAEEC,QAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,UAAf,EAA2BL,aAA3B,CAFT;AAGEM,QAAAA,QAHF,sBAGa;AACT,iBAAOL,WAAW,KAAK,QAAvB;AACD;AALH,OAR8B,CAAhC;AAAA,KAHa,CAAf;AAFiB;AAsBlB;;;;6BAEQ;AACP,UAAI,KAAKH,KAAL,CAAWS,WAAf,EAA4B;AAC1B,4BAAO,gCAAC,8BAAD,OAAP;AACD;;AACD,0BACE,gCAAC,2BAAD,eACM,KAAKT,KADX;AAEE,QAAA,IAAI,EAAE,KAAKC,OAAL,EAFR;AAGE,QAAA,YAAY,EAAES,mBAAOC,GAHvB;AAIE,QAAA,mBAAmB,EAAED,mBAAOE;AAJ9B,SADF;AAQD;;;;EA7C0BC,gB;;AAAvBd,c,CACGe,S,GAAY;AACjBC,EAAAA,QAAQ,EAAEC,sBAAUC,IAAV,CAAeC,UADR;AAEjBT,EAAAA,WAAW,EAAEO,sBAAUC,IAAV,CAAeC,UAFX;AAGjBhB,EAAAA,aAAa,EAAEc,sBAAUG,MAAV,CAAiBD,UAHf;AAIjBf,EAAAA,WAAW,EAAEa,sBAAUG,MAAV,CAAiBD,UAJb;AAKjBE,EAAAA,IAAI,EAAEJ,sBAAUK,IAAV,CAAeH;AALJ,C;;AA+CrB,SAASI,UAAT,CACEC,CADF,QAGE;AAAA,MADEC,KACF,QADEA,KACF;AAAA,wBADSA,KACT;AAAA,MADkBC,MAClB,cADkBA,MAClB;AAAA,MAD0BC,iBAC1B,cAD0BA,iBAC1B;AAAA,MADkD1B,KAClD;;AACA,SAAO;AACLe,IAAAA,QAAQ,EAAEf,KAAK,CAAC2B,cAAN,GACN3B,KAAK,CAAC2B,cAAN,CAAqBH,KAArB,CADM,GAEN,gCAAeA,KAAf,CAHC;AAILtB,IAAAA,aAAa,EAAEuB,MAAM,CAACvB,aAJjB;AAKLO,IAAAA,WAAW,EAAE,CAACgB,MAAM,CAACG,KALhB;AAMLzB,IAAAA,WAAW,EAAEuB,iBAAiB,CAACvB;AAN1B,GAAP;AAQD;;AAED,SAAS0B,cAAT,CAAwBN,CAAxB,SAA6D;AAAA,MAAvBG,iBAAuB,SAAhCF,KAAgC,CAAvBE,iBAAuB;AAC3D,SAAO;AACLN,IAAAA,IADK,gBACAhB,IADA,EACM;AACTsB,MAAAA,iBAAiB,CAACI,IAAlB,CAAuB1B,IAAvB;AACD;AAHI,GAAP;AAKD;;AAED,IAAM2B,0BAA0B,GAAG,2BACjC,yBAAQT,UAAR,EAAoBO,cAApB,EAAoC9B,cAApC,CADiC,CAAnC","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\n\nimport withPhone from '../../lib/withPhone';\nimport hasActiveCalls from '../../lib/hasActiveCalls';\nimport TabContentPanel from '../../components/TabContentPanel';\nimport { SpinnerOverlay } from '../../components/SpinnerOverlay';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nclass TabContentView extends Component {\n  static propTypes = {\n    showTabs: PropTypes.bool.isRequired,\n    showSpinner: PropTypes.bool.isRequired,\n    currentLocale: PropTypes.string.isRequired,\n    currentPath: PropTypes.string.isRequired,\n    goTo: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.getTabs = createSelector(\n      () => this.props.currentLocale,\n      () => this.props.currentPath,\n      (currentLocale, currentPath) => [\n        {\n          path: '/dialer',\n          label: i18n.getString('dialer', currentLocale),\n          isActive() {\n            return currentPath === '/dialer';\n          },\n        },\n        {\n          path: '/calls',\n          label: i18n.getString('allCalls', currentLocale),\n          isActive() {\n            return currentPath === '/calls';\n          },\n        },\n      ],\n    );\n  }\n\n  render() {\n    if (this.props.showSpinner) {\n      return <SpinnerOverlay />;\n    }\n    return (\n      <TabContentPanel\n        {...this.props}\n        tabs={this.getTabs()}\n        navClassName={styles.nav}\n        tabContentClassName={styles.content}\n      />\n    );\n  }\n}\n\nfunction mapToProps(\n  _,\n  { phone, phone: { locale, routerInteraction }, ...props },\n) {\n  return {\n    showTabs: props.hasActiveCalls\n      ? props.hasActiveCalls(phone)\n      : hasActiveCalls(phone),\n    currentLocale: locale.currentLocale,\n    showSpinner: !locale.ready,\n    currentPath: routerInteraction.currentPath,\n  };\n}\n\nfunction mapToFunctions(_, { phone: { routerInteraction } }) {\n  return {\n    goTo(path) {\n      routerInteraction.push(path);\n    },\n  };\n}\n\nconst DialerAndCallsTabContainer = withPhone(\n  connect(mapToProps, mapToFunctions)(TabContentView),\n);\n\nexport { mapToProps, mapToFunctions, DialerAndCallsTabContainer as default };\n"],"file":"index.js"}