{"version":3,"sources":["modules/SleepDetector/index.js"],"names":["MAX_LISTENERS","SleepDetector","name","deps","dep","optional","detectionInterval","detectionThreshold","maxListeners","_detector","Detector","setMaxListeners","on","SleepDetectorEvents","moduleStatuses","ready","RcModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,IAAMA,aAAa,GAAG,EAAtB;IAMqBC,a,WAJpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,eADA;AAENC,EAAAA,IAAI,EAAE,CAAC;AAAEC,IAAAA,GAAG,EAAE,sBAAP;AAA+BC,IAAAA,QAAQ,EAAE;AAAzC,GAAD;AAFA,CAAP,C;;;;;AAKC,+BAAqF;AAAA;;AAAA,QAAvEC,iBAAuE,QAAvEA,iBAAuE;AAAA,QAApDC,kBAAoD,QAApDA,kBAAoD;AAAA,iCAAhCC,YAAgC;AAAA,QAAhCA,YAAgC,kCAAjBR,aAAiB;;AAAA;;AACnF;AACA,UAAKS,SAAL,GAAiB,IAAIC,4BAAJ,CAAa;AAAEJ,MAAAA,iBAAiB,EAAjBA,iBAAF;AAAqBC,MAAAA,kBAAkB,EAAlBA;AAArB,KAAb,CAAjB,CAFmF,CAGnF;AACA;;AACA,UAAKE,SAAL,CAAeE,eAAf,CAA+BH,YAA/B;;AALmF;AAMpF;;;;yBAMW;AAAA;;AACV,8BAAKC,SAAL,EAAeG,EAAf;AACD;;;0BAEY;AAAA;;AACX,+BAAKH,SAAL,EAAeG,EAAf;AACD;;;wBAVY;AACX,aAAOC,kCAAP;AACD;;;wBAUY;AACX,aAAOC,2BAAeC,KAAtB;AACD;;;;EAvBwCC,qB","sourcesContent":["/* eslint-disable prettier/prettier */\nimport { Module } from '../../lib/di';\nimport RcModule from '../../lib/RcModule';\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport {\n  SleepDetector as Detector,\n  SleepDetectorEvents,\n} from '../../lib/SleepDetector';\n\nconst MAX_LISTENERS = 30;\n\n@Module({\n  name: 'SleepDetector',\n  deps: [{ dep: 'SleepDetectorOptions', optional: true }],\n})\nexport default class SleepDetector extends RcModule {\n  constructor({ detectionInterval, detectionThreshold, maxListeners = MAX_LISTENERS }) {\n    super();\n    this._detector = new Detector({ detectionInterval, detectionThreshold });\n    // It is very normal to have more than 10 listeners, since all DataFetcher classes\n    // will listen to the sleep detected event.\n    this._detector.setMaxListeners(maxListeners);\n  }\n\n  get events() {\n    return SleepDetectorEvents;\n  }\n\n  on(...args) {\n    this._detector.on(...args);\n  }\n\n  off(...args) {\n    this._detector.on(...args);\n  }\n\n  get status() {\n    return moduleStatuses.ready;\n  }\n}\n"],"file":"index.js"}