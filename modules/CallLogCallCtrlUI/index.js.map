{"version":3,"sources":["modules/CallLogCallCtrlUI/index.ts"],"names":["CallLogCallCtrlUI","name","deps","activeCallControl","connectivityMonitor","rateLimiter","routerInteraction","options","_activeCallControl","_connectivityMonitor","_rateLimiter","_routerInteraction","telephonySessionId","currentSession","getActiveSession","disableLinks","connectivity","throttling","mute","bind","unmute","hangUp","reject","onHold","hold","onUnHold","unhold","onTransfer","push","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWqBA,iB,WATpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,mBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,mBADI,EAEJ,qBAFI,EAGJ,aAHI,EAIJ,mBAJI;AAFA,CAAP,C;;;;;AAcC,mCAMG;AAAA;;AAAA,QALDC,iBAKC,QALDA,iBAKC;AAAA,QAJDC,mBAIC,QAJDA,mBAIC;AAAA,QAHDC,WAGC,QAHDA,WAGC;AAAA,QAFDC,iBAEC,QAFDA,iBAEC;AAAA,QADEC,OACF;;AAAA;;AACD,6GAAWA,OAAX;AADC,UAVKC,kBAUL;AAAA,UATKC,oBASL;AAAA,UARKC,YAQL;AAAA,UAPKC,kBAOL;AAED,UAAKH,kBAAL,GAA0BL,iBAA1B;AACA,UAAKM,oBAAL,GAA4BL,mBAA5B;AACA,UAAKM,YAAL,GAAoBL,WAApB;AACA,UAAKM,kBAAL,GAA0BL,iBAA1B;AALC;AAMF;;;;sCAEkC;AAAA,UAAtBM,kBAAsB,SAAtBA,kBAAsB;;AACjC,UAAMC,cAAc,GAAG,KAAKL,kBAAL,CAAwBM,gBAAxB,CACrBF,kBADqB,CAAvB;;AAGA,aAAO;AACLC,QAAAA,cAAc,EAAdA,cADK;AAELE,QAAAA,YAAY,EACV,CAAC,KAAKN,oBAAL,CAA0BO,YAA3B,IAA2C,KAAKN,YAAL,CAAkBO,UAH1D;AAILL,QAAAA,kBAAkB,EAAlBA;AAJK,OAAP;AAMD;;;qCAEgB;AAAA;;AACf,aAAO;AACLM,QAAAA,IAAI,EAAE,KAAKV,kBAAL,CAAwBU,IAAxB,CAA6BC,IAA7B,CAAkC,KAAKX,kBAAvC,CADD;AAELY,QAAAA,MAAM,EAAE,KAAKZ,kBAAL,CAAwBY,MAAxB,CAA+BD,IAA/B,CAAoC,KAAKX,kBAAzC,CAFH;AAGLa,QAAAA,MAAM,EAAE,KAAKb,kBAAL,CAAwBa,MAAxB,CAA+BF,IAA/B,CAAoC,KAAKX,kBAAzC,CAHH;AAILc,QAAAA,MAAM,EAAE,KAAKd,kBAAL,CAAwBc,MAAxB,CAA+BH,IAA/B,CAAoC,KAAKX,kBAAzC,CAJH;AAKLe,QAAAA,MAAM,EAAE,KAAKf,kBAAL,CAAwBgB,IAAxB,CAA6BL,IAA7B,CAAkC,KAAKX,kBAAvC,CALH;AAMLiB,QAAAA,QAAQ,EAAE,KAAKjB,kBAAL,CAAwBkB,MAAxB,CAA+BP,IAA/B,CAAoC,KAAKX,kBAAzC,CANL;AAOLmB,QAAAA,UAAU,EAAE,oBAACf,kBAAD;AAAA,iBACV,MAAI,CAACD,kBAAL,CAAwBiB,IAAxB,qBAA0ChB,kBAA1C,aADU;AAAA;AAPP,OAAP;AAUD;;;;EA1C4CiB,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'CallLogCallCtrlUI',\n  deps: [\n    'ActiveCallControl',\n    'ConnectivityMonitor',\n    'RateLimiter',\n    'RouterInteraction',\n  ],\n})\nexport default class CallLogCallCtrlUI extends RcUIModule {\n  private _activeCallControl: any;\n  private _connectivityMonitor: any;\n  private _rateLimiter: any;\n  private _routerInteraction: any;\n  constructor({\n    activeCallControl,\n    connectivityMonitor,\n    rateLimiter,\n    routerInteraction,\n    ...options\n  }) {\n    super({ ...options });\n    this._activeCallControl = activeCallControl;\n    this._connectivityMonitor = connectivityMonitor;\n    this._rateLimiter = rateLimiter;\n    this._routerInteraction = routerInteraction;\n  }\n\n  getUIProps({ telephonySessionId }) {\n    const currentSession = this._activeCallControl.getActiveSession(\n      telephonySessionId,\n    );\n    return {\n      currentSession,\n      disableLinks:\n        !this._connectivityMonitor.connectivity || this._rateLimiter.throttling,\n      telephonySessionId,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      mute: this._activeCallControl.mute.bind(this._activeCallControl),\n      unmute: this._activeCallControl.unmute.bind(this._activeCallControl),\n      hangUp: this._activeCallControl.hangUp.bind(this._activeCallControl),\n      reject: this._activeCallControl.reject.bind(this._activeCallControl),\n      onHold: this._activeCallControl.hold.bind(this._activeCallControl),\n      onUnHold: this._activeCallControl.unhold.bind(this._activeCallControl),\n      onTransfer: (telephonySessionId) =>\n        this._routerInteraction.push(`/transfer/${telephonySessionId}/active`),\n    };\n  }\n}\n"],"file":"index.js"}