{"version":3,"sources":["modules/CallLogCallCtrlUI/CallLogCallCtrlUI.ts"],"names":["CallLogCallCtrlUI","name","deps","activeCallControl","connectivityMonitor","rateLimiter","routerInteraction","options","_activeCallControl","_connectivityMonitor","_rateLimiter","_routerInteraction","onTransfer","telephonySessionId","push","currentSession","getActiveSession","disableLinks","connectivity","throttling","mute","bind","unmute","hangUp","reject","onHold","hold","onUnHold","unhold","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAWqBA,iB,WATpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,mBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,mBADI,EAEJ,qBAFI,EAGJ,aAHI,EAIJ,mBAJI;AAFA,CAAP,C;;;;;AAcC,mCAMG;AAAA;;AAAA,QALDC,iBAKC,QALDA,iBAKC;AAAA,QAJDC,mBAIC,QAJDA,mBAIC;AAAA,QAHDC,WAGC,QAHDA,WAGC;AAAA,QAFDC,iBAEC,QAFDA,iBAEC;AAAA,QADEC,OACF;;AAAA;;AACD,gDAAWA,OAAX;AADC,UAVKC,kBAUL;AAAA,UATKC,oBASL;AAAA,UARKC,YAQL;AAAA,UAPKC,kBAOL;;AAAA,UAQKC,UARL,GAQkB,UAACC,kBAAD,EAAgC;AACnD,aAAO,MAAKF,kBAAL,CAAwBG,IAAxB,qBACQD,kBADR,aAAP;AAGD,KAZE;;AAED,UAAKL,kBAAL,GAA0BL,iBAA1B;AACA,UAAKM,oBAAL,GAA4BL,mBAA5B;AACA,UAAKM,YAAL,GAAoBL,WAApB;AACA,UAAKM,kBAAL,GAA0BL,iBAA1B;AALC;AAMF;;;;sCAQkC;AAAA,UAAtBO,kBAAsB,SAAtBA,kBAAsB;;AACjC,UAAME,cAAc,GAAG,KAAKP,kBAAL,CAAwBQ,gBAAxB,CACrBH,kBADqB,CAAvB;;AAGA,aAAO;AACLE,QAAAA,cAAc,EAAdA,cADK;AAELE,QAAAA,YAAY,EACV,CAAC,KAAKR,oBAAL,CAA0BS,YAA3B,IAA2C,KAAKR,YAAL,CAAkBS,UAH1D;AAILN,QAAAA,kBAAkB,EAAlBA;AAJK,OAAP;AAMD;;;qCAEgB;AACf,aAAO;AACLO,QAAAA,IAAI,EAAE,KAAKZ,kBAAL,CAAwBY,IAAxB,CAA6BC,IAA7B,CAAkC,KAAKb,kBAAvC,CADD;AAELc,QAAAA,MAAM,EAAE,KAAKd,kBAAL,CAAwBc,MAAxB,CAA+BD,IAA/B,CAAoC,KAAKb,kBAAzC,CAFH;AAGLe,QAAAA,MAAM,EAAE,KAAKf,kBAAL,CAAwBe,MAAxB,CAA+BF,IAA/B,CAAoC,KAAKb,kBAAzC,CAHH;AAILgB,QAAAA,MAAM,EAAE,KAAKhB,kBAAL,CAAwBgB,MAAxB,CAA+BH,IAA/B,CAAoC,KAAKb,kBAAzC,CAJH;AAKLiB,QAAAA,MAAM,EAAE,KAAKjB,kBAAL,CAAwBkB,IAAxB,CAA6BL,IAA7B,CAAkC,KAAKb,kBAAvC,CALH;AAMLmB,QAAAA,QAAQ,EAAE,KAAKnB,kBAAL,CAAwBoB,MAAxB,CAA+BP,IAA/B,CAAoC,KAAKb,kBAAzC,CANL;AAOLI,QAAAA,UAAU,EAAE,KAAKA;AAPZ,OAAP;AASD;;;;EA/C4CiB,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'CallLogCallCtrlUI',\n  deps: [\n    'ActiveCallControl',\n    'ConnectivityMonitor',\n    'RateLimiter',\n    'RouterInteraction',\n  ],\n})\nexport default class CallLogCallCtrlUI extends RcUIModule {\n  private _activeCallControl: any;\n  private _connectivityMonitor: any;\n  private _rateLimiter: any;\n  private _routerInteraction: any;\n  constructor({\n    activeCallControl,\n    connectivityMonitor,\n    rateLimiter,\n    routerInteraction,\n    ...options\n  }) {\n    super({ ...options });\n    this._activeCallControl = activeCallControl;\n    this._connectivityMonitor = connectivityMonitor;\n    this._rateLimiter = rateLimiter;\n    this._routerInteraction = routerInteraction;\n  }\n\n  private onTransfer = (telephonySessionId: string) => {\n    return this._routerInteraction.push(\n      `/transfer/${telephonySessionId}/active`,\n    );\n  };\n\n  getUIProps({ telephonySessionId }) {\n    const currentSession = this._activeCallControl.getActiveSession(\n      telephonySessionId,\n    );\n    return {\n      currentSession,\n      disableLinks:\n        !this._connectivityMonitor.connectivity || this._rateLimiter.throttling,\n      telephonySessionId,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      mute: this._activeCallControl.mute.bind(this._activeCallControl),\n      unmute: this._activeCallControl.unmute.bind(this._activeCallControl),\n      hangUp: this._activeCallControl.hangUp.bind(this._activeCallControl),\n      reject: this._activeCallControl.reject.bind(this._activeCallControl),\n      onHold: this._activeCallControl.hold.bind(this._activeCallControl),\n      onUnHold: this._activeCallControl.unhold.bind(this._activeCallControl),\n      onTransfer: this.onTransfer,\n    };\n  }\n}\n"],"file":"CallLogCallCtrlUI.js"}