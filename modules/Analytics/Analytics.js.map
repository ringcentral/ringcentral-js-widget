{"version":3,"sources":["modules/Analytics/Analytics.ts"],"names":["warn","console","INIT_TRACK_LIST","project","projectName","tracking","prototype","property","descriptor","value","options","push","functionName","functionImpl","configurable","DEFAULT_PROJECT","Analytics","name","deps","dep","optional","analyticsKey","appName","appVersion","brandCode","adapter","auth","call","callingSettings","accountInfo","extensionInfo","callHistory","callMonitor","conference","conferenceCall","contactDetailsUI","messageSender","messageStore","routerInteraction","userGuide","webphone","locale","meeting","rcVideo","useLog","lingerThreshold","actionTypes","analyticsAcionTypes","_analyticsKey","_appName","_appVersion","_brandCode","_adapter","_auth","_call","_callingSettings","_accountInfo","_extensionInfo","_callHistory","_callMonitor","_conference","_conferenceCall","_contactDetailsUI","_messageSender","_messageStore","_routerInteraction","_userGuide","_webphone","_locale","_meeting","_rcVideo","_segment","_trackList","_useLog","_logs","_lingerThreshold","_lingerTimeout","_promise","_reducer","userId","props","analytics","identify","event","properties","trackProps","track","timeStamp","Date","toISOString","blob","Blob","JSON","stringify","type","router","eventPostfix","brand","pending","store","dispatch","init","load","initSuccess","ready","lastActions","length","_processActions","forEach","action","clear","loginSuccess","ownerId","logout","accountId","id","servicePlanId","servicePlan","edition","CRMEnabled","_rolesAndPermissions","tierEnabled","connect","callSettingMode","callingModes","connectSuccess","registered","send","sendOver","sendError","createCallLog","createSMSLog","clickToDial","callWith","clickToSMS","viewEntity","createEntity","editCallLog","editSMSLog","locationChange","path","payload","pathname","target","_getTrackTarget","trackNavigation","clearTimeout","setTimeout","currentPath","trackLinger","callAnswer","isOnTransfer","updateSessions","clickToCall","fromType","removeMessage","markMessages","inviteWithText","updateAdditionalNumbers","joinAsHost","updateCarousel","curIdx","playing","allCallsClickHoldTrack","allCallsClickHangupTrack","callItemClickTrack","callControlClickAddTrack","callControlClickMergeTrack","Object","values","state","mergingPair","mergeControlClickHangupTrack","inboundCallConnectedTrack","outboundCallConnectedTrack","callsOnHoldClickAddTrack","callsOnHoldClickMergeTrack","confirmMergeClickCloseTrack","confirmMergeClickMergeTrack","removeParticipantClickRemoveTrack","removeParticipantClickCancelTrack","participantListClickHangupTrack","callControlClickParticipantAreaClickTrack","callsOnHoldClickHangupTrack","routes","split","formatRoute","needMatchSecondRoutes","indexOf","targets","find","initScheduling","initCreating","trackSchedule","global","status","moduleStatuses","currentLocale","browserLocale","info","RcModule"],"mappings":"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","sourcesContent":["import RcModule from '../../lib/RcModule';\nimport { Module } from '../../lib/di';\nimport sleep from '../../lib/sleep';\nimport saveBlob from '../../lib/saveBlob';\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport { analyticsAcionTypes, AnalyticsAcionTypes } from './actionTypes';\nimport getAnalyticsReducer from './getAnalyticsReducer';\n\nimport { Segment } from '../../lib/Analytics';\nimport callingModes from '../CallingSettings/callingModes';\n\nexport interface TrackProps {\n  appName: string;\n  appVersion: string;\n  brand: string;\n  'App Language': string;\n  'Browser Language': string;\n  'Extension Type': string;\n}\n\nexport interface TrackTarget {\n  eventPostfix: string;\n  router: string;\n}\n\nexport interface TrackPayload {\n  pathname: string;\n}\n\nexport interface TrackAction {\n  type: string;\n  payload?: TrackPayload;\n  curIdx?: number;\n  playing?: boolean;\n  fromType?: string;\n  callSettingMode?: string;\n}\n\nexport interface TrackLog {\n  timeStamp: string;\n  event: string;\n  trackProps: TrackProps;\n}\n\ninterface ITrackImpl {\n  (action: TrackAction): void;\n}\n\ninterface ITrackItem {\n  projectName: string;\n  functionName: string;\n  functionImpl: ITrackImpl;\n}\n\nfunction warn() {\n  console.warn('Do NOT call this directly.');\n}\n\nconst INIT_TRACK_LIST: ITrackItem[] = [];\n\nexport function project(projectName: string) {\n  return function tracking(\n    prototype: any,\n    property: string,\n    descriptor: TypedPropertyDescriptor<ITrackImpl>,\n  ) {\n    const { value, ...options } = descriptor;\n    if (typeof value === 'function') {\n      INIT_TRACK_LIST.push({\n        projectName,\n        functionName: property,\n        functionImpl: value,\n      });\n    }\n    return {\n      ...options,\n      value: warn,\n      configurable: false,\n    };\n  };\n}\n\nconst DEFAULT_PROJECT = 'default';\nexport const tracking = project(DEFAULT_PROJECT);\n\n// TODO: refactoring the module against `https://docs.google.com/spreadsheets/d/1xufV6-C-RJR6OJgwFYHYzNQwhIdN4BXXCo8ABs7RT-8/edit#gid=1480480736`\n/**\n * @class\n * @description Analytics module.\n */\n@Module({\n  name: 'Analytics',\n  deps: [\n    { dep: 'AnalyticsOptions', optional: true },\n    { dep: 'Adapter', optional: true },\n    { dep: 'Auth', optional: true },\n    { dep: 'Call', optional: true },\n    { dep: 'CallingSettings', optional: true },\n    { dep: 'AccountInfo', optional: true },\n    { dep: 'ExtensionInfo', optional: true },\n    { dep: 'CallHistory', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'Conference', optional: true },\n    { dep: 'ConferenceCall', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'MessageSender', optional: true },\n    { dep: 'MessageStore', optional: true },\n    { dep: 'RouterInteraction', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Locale', optional: true },\n    { dep: 'Meeting', optional: true },\n    { dep: 'RcVideo', optional: true },\n  ],\n})\nexport class Analytics extends RcModule<AnalyticsAcionTypes> {\n  private _analyticsKey: string;\n  private _appName: string;\n  private _appVersion: string;\n  private _brandCode: string;\n\n  protected _adapter: any;\n  protected _auth: any;\n  protected _call: any;\n  protected _callingSettings: any;\n  protected _accountInfo: any;\n  protected _extensionInfo: any;\n  protected _callHistory: any;\n  protected _callMonitor: any;\n  protected _conference: any;\n  protected _conferenceCall: any;\n  protected _contactDetailsUI: any;\n  protected _messageSender: any;\n  protected _messageStore: any;\n  protected _routerInteraction: any;\n  protected _userGuide: any;\n  protected _webphone: any;\n  protected _locale: any;\n  protected _meeting: any;\n  protected _rcVideo: any;\n\n  private _segment: any;\n  private _trackList: ITrackItem[];\n  private _useLog: boolean;\n  private _logs: TrackLog[] = [];\n  private _lingerThreshold: number;\n\n  private _lingerTimeout?: NodeJS.Timeout = null;\n  private _promise?: Promise<void>;\n\n  constructor({\n    // config\n    analyticsKey,\n    appName,\n    appVersion,\n    brandCode,\n    // modules\n    adapter,\n    auth,\n    call,\n    callingSettings,\n    accountInfo,\n    extensionInfo,\n    callHistory,\n    callMonitor,\n    conference,\n    conferenceCall,\n    contactDetailsUI,\n    messageSender,\n    messageStore,\n    routerInteraction,\n    userGuide,\n    webphone,\n    locale,\n    meeting,\n    rcVideo,\n    // settinigs\n    useLog = false,\n    lingerThreshold = 1000,\n    ...options\n  }) {\n    super({\n      ...options,\n      actionTypes: analyticsAcionTypes,\n    });\n\n    // config\n    this._analyticsKey = analyticsKey;\n    this._appName = appName;\n    this._appVersion = appVersion;\n    this._brandCode = brandCode;\n\n    // modules\n    this._adapter = adapter;\n    this._auth = auth;\n    this._call = call;\n    this._callingSettings = callingSettings;\n    this._accountInfo = accountInfo;\n    this._extensionInfo = extensionInfo;\n    this._callHistory = callHistory;\n    this._callMonitor = callMonitor;\n    this._conference = conference;\n    this._conferenceCall = conferenceCall;\n    this._contactDetailsUI = contactDetailsUI;\n    this._messageSender = messageSender;\n    this._messageStore = messageStore;\n    this._routerInteraction = routerInteraction;\n    this._userGuide = userGuide;\n    this._webphone = webphone;\n    this._locale = locale;\n    this._meeting = meeting;\n    this._rcVideo = rcVideo;\n\n    // init\n    this._reducer = getAnalyticsReducer(this.actionTypes);\n    this._segment = Segment();\n    this._trackList = [...INIT_TRACK_LIST];\n    this._useLog = useLog;\n    this._lingerThreshold = lingerThreshold;\n  }\n\n  private identify({ userId, ...props }) {\n    if (this.analytics) {\n      this.analytics.identify(userId, props);\n    }\n  }\n\n  track(event: string, properties: any = {}) {\n    if (!this.analytics) {\n      return;\n    }\n    const trackProps: TrackProps = {\n      ...this.trackProps,\n      ...properties,\n    };\n    this.analytics.track(event, trackProps);\n    if (this._useLog) {\n      this._logs.push({\n        timeStamp: new Date().toISOString(),\n        event,\n        trackProps,\n      });\n    }\n  }\n\n  downloadLogs() {\n    if (!this._useLog) {\n      return;\n    }\n\n    const blob = new Blob([JSON.stringify(this._logs, null, 2)], {\n      type: 'application/json',\n    });\n\n    saveBlob('logs.json', blob);\n  }\n\n  trackNavigation({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: Click/${eventPostfix}`, trackProps);\n  }\n\n  trackLinger({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: View/${eventPostfix}`, trackProps);\n  }\n\n  trackSchedule({ router }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track('Meeting: Click Schedule/Meeting schedule page', trackProps);\n  }\n\n  async _onStateChange() {\n    if (this.pending) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (this._analyticsKey) {\n        this._segment.load(this._analyticsKey);\n      }\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    }\n    if (this.ready && this.lastActions.length && !this._promise) {\n      this._promise = this._processActions();\n    }\n  }\n\n  async _processActions() {\n    if (this.lastActions.length) {\n      await sleep(300);\n      this.lastActions.forEach((action: TrackAction) => {\n        this._trackList.forEach(({ functionImpl }: ITrackItem) => {\n          if (typeof functionImpl === 'function') {\n            functionImpl.call(this, action);\n          }\n        });\n      });\n      this.store.dispatch({\n        type: this.actionTypes.clear,\n      });\n      this._promise = null;\n    }\n  }\n\n  cleanTrackList() {\n    this._trackList = [];\n  }\n\n  @tracking\n  private _authentication(action: TrackAction) {\n    if (this._auth && this._auth.actionTypes.loginSuccess === action.type) {\n      this.identify({\n        userId: this._auth.ownerId,\n      });\n      this.track('Authentication');\n    }\n  }\n\n  @tracking\n  private _logout(action: TrackAction) {\n    if (this._auth && this._auth.actionTypes.logout === action.type) {\n      this.track('Logout');\n    }\n  }\n\n  @tracking\n  private _accountInfoReady(action: TrackAction) {\n    if (\n      this._accountInfo &&\n      this._accountInfo.actionTypes.initSuccess === action.type\n    ) {\n      this.identify({\n        userId: this._accountInfo._auth.ownerId,\n        accountId: this._accountInfo.id,\n        servicePlanId: this._accountInfo.servicePlan.id,\n        edition: this._accountInfo.servicePlan.edition,\n        CRMEnabled: this._accountInfo._rolesAndPermissions.tierEnabled,\n      });\n    }\n  }\n\n  @tracking\n  private _callAttempt(action: TrackAction) {\n    if (this._call && this._call.actionTypes.connect === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Call Attempt WebRTC');\n      } else {\n        this.track('Call Attempt', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _callConnected(action: TrackAction) {\n    if (this._call && this._call.actionTypes.connectSuccess === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Outbound WebRTC Call Connected');\n      } else {\n        this.track('Outbound Call Connected', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _webRTCRegistration(action: TrackAction) {\n    if (\n      this._webphone &&\n      this._webphone.actionTypes.registered === action.type\n    ) {\n      this.track('WebRTC registration');\n    }\n  }\n\n  @tracking\n  private _smsAttempt(action: TrackAction) {\n    if (\n      this._messageSender &&\n      this._messageSender.actionTypes.send === action.type\n    ) {\n      this.track('SMS Attempt');\n    }\n  }\n\n  @tracking\n  private _smsSentOver(action: TrackAction) {\n    if (\n      this._messageSender &&\n      this._messageSender.actionTypes.sendOver === action.type\n    ) {\n      this.track('SMS: SMS sent succesfully');\n    }\n  }\n\n  @tracking\n  private _smsSentError(action: TrackAction) {\n    if (\n      this._messageSender &&\n      this._messageSender.actionTypes.sendError === action.type\n    ) {\n      this.track('SMS: SMS sent failed');\n    }\n  }\n\n  @tracking\n  private _logCall(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.createCallLog === action.type\n    ) {\n      this.track('Log Call');\n    }\n  }\n\n  @tracking\n  private _logSMS(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.createSMSLog === action.type\n    ) {\n      this.track('Log SMS');\n    }\n  }\n\n  @tracking\n  private _clickToDial(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.clickToDial === action.type\n    ) {\n      this.track('Click To Dial');\n    }\n  }\n\n  @tracking\n  private _clickToDialPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.clickToDial === action.type &&\n      action.callSettingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Click to Dial ', {\n        'RingOut type': this._callingSettings.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _clickToSMS(action: TrackAction) {\n    if (this._adapter && this._adapter.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS');\n    }\n  }\n\n  @tracking\n  private _viewEntity(action: TrackAction) {\n    if (this._adapter && this._adapter.actionTypes.viewEntity === action.type) {\n      this.track('View Entity Details');\n    }\n  }\n\n  @tracking\n  private _createEntity(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.createEntity === action.type\n    ) {\n      this.track('Add Entity');\n    }\n  }\n\n  @tracking\n  private _editCallLog(action: TrackAction) {\n    if (\n      this._adapter &&\n      this._adapter.actionTypes.editCallLog === action.type\n    ) {\n      this.track('Edit Call Log');\n    }\n  }\n\n  @tracking\n  private _editSMSLog(action: TrackAction) {\n    if (this._adapter && this._adapter.actionTypes.editSMSLog === action.type) {\n      this.track('Edit SMS Log');\n    }\n  }\n\n  @tracking\n  private _navigate(action: TrackAction) {\n    if (\n      this._routerInteraction &&\n      this._routerInteraction.actionTypes.locationChange === action.type\n    ) {\n      const path = action.payload && action.payload.pathname;\n      const target = this._getTrackTarget(path);\n      if (target) {\n        this.trackNavigation(target);\n      }\n\n      if (this._lingerTimeout) {\n        clearTimeout(this._lingerTimeout);\n      }\n      this._lingerTimeout = setTimeout(() => {\n        this._lingerTimeout = null;\n        if (target && this._routerInteraction.currentPath === path) {\n          this.trackLinger(target);\n        }\n      }, this._lingerThreshold);\n    }\n  }\n\n  @tracking\n  private _inboundCall(action: TrackAction) {\n    if (\n      this._webphone &&\n      this._webphone.actionTypes.callAnswer === action.type\n    ) {\n      this.track('Inbound WebRTC Call Connected');\n    }\n  }\n\n  @tracking\n  private _coldTransfer(action: TrackAction) {\n    if (\n      this._webphone &&\n      this._webphone.isOnTransfer === true &&\n      this._webphone.actionTypes.updateSessions === action.type\n    ) {\n      this.track('Cold Transfer Call');\n    }\n  }\n\n  @tracking\n  private _textClickToDial(action: TrackAction) {\n    if (\n      this._messageStore &&\n      this._messageStore.actionTypes.clickToCall === action.type &&\n      (action.fromType === 'Pager' || action.fromType === 'SMS')\n    ) {\n      this.track('Click To Dial (Text List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToDial(action: TrackAction) {\n    if (\n      this._messageStore &&\n      this._messageStore.actionTypes.clickToCall === action.type &&\n      action.fromType === 'VoiceMail'\n    ) {\n      this.track('Click To Dial (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToSMS(action: TrackAction) {\n    if (\n      this._messageStore &&\n      this._messageStore.actionTypes.clickToSMS === action.type\n    ) {\n      this.track('Click to SMS (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailDelete(action: TrackAction) {\n    if (\n      this._messageStore &&\n      this._messageStore.actionTypes.removeMessage === action.type\n    ) {\n      this.track('Delete Voicemail');\n    }\n  }\n\n  @tracking\n  private _voicemailFlag(action: TrackAction) {\n    if (\n      this._messageStore &&\n      this._messageStore.actionTypes.markMessages === action.type\n    ) {\n      this.track('Flag Voicemail');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToDial(action: TrackAction) {\n    if (\n      this._contactDetailsUI &&\n      this._contactDetailsUI.actionTypes.clickToCall === action.type\n    ) {\n      this.track('Click To Dial (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToSMS(action: TrackAction) {\n    if (\n      this._contactDetailsUI &&\n      this._contactDetailsUI.actionTypes.clickToSMS === action.type\n    ) {\n      this.track('Click To SMS (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToDial(action: TrackAction) {\n    if (\n      this._callHistory &&\n      this._callHistory.actionTypes.clickToCall === action.type\n    ) {\n      this.track('Click To dial (Call History)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToSMS(action: TrackAction) {\n    if (\n      this._callHistory &&\n      this._callHistory.actionTypes.clickToSMS === action.type\n    ) {\n      this.track('Click To SMS (Call History)');\n    }\n  }\n\n  @tracking\n  private _conferenceInviteWithText(action: TrackAction) {\n    if (\n      this._conference &&\n      this._conference.actionTypes.inviteWithText === action.type\n    ) {\n      this.track('Invite With Text (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceAddDialInNumber(action: TrackAction) {\n    if (\n      this._conference &&\n      this._conference.actionTypes.updateAdditionalNumbers === action.type\n    ) {\n      this.track('Select Additional Dial-in Number (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceJoinAsHost(action: TrackAction) {\n    if (\n      this._conference &&\n      this._conference.actionTypes.joinAsHost === action.type\n    ) {\n      this.track('Join As Host (Conference)');\n    }\n  }\n\n  @tracking\n  private _showWhatsNew(action: TrackAction) {\n    if (\n      this._userGuide &&\n      this._userGuide.actionTypes.updateCarousel === action.type &&\n      action.curIdx === 0 &&\n      action.playing\n    ) {\n      this.track(\"What's New\");\n    }\n  }\n\n  @tracking\n  private _allCallsClickHold(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.allCallsClickHoldTrack === action.type\n    ) {\n      this.track('Click Hold (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.allCallsClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsCallItemClick(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callItemClickTrack === action.type\n    ) {\n      this.track('Click Call Item (All Calls)');\n    }\n  }\n\n  @tracking\n  private _callControlClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callControlClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      !Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.mergeControlClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _inboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.inboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Inbound call connected');\n    }\n  }\n\n  @tracking\n  private _outboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.outboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Outbound RingOut Call connected');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callsOnHoldClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callsOnHoldClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickClose(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.confirmMergeClickCloseTrack === action.type\n    ) {\n      this.track('Click Close (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.confirmMergeClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickRemove(action: TrackAction) {\n    if (\n      this._conferenceCall &&\n      this._conferenceCall.actionTypes.removeParticipantClickRemoveTrack ===\n        action.type\n    ) {\n      this.track('Click Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickCancel(action: TrackAction) {\n    if (\n      this._conferenceCall &&\n      this._conferenceCall.actionTypes.removeParticipantClickCancelTrack ===\n        action.type\n    ) {\n      this.track('Cancel Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _participantListClickHangup(action: TrackAction) {\n    if (\n      this._conferenceCall &&\n      this._conferenceCall.actionTypes.participantListClickHangupTrack ===\n        action.type\n    ) {\n      this.track('Click Hangup (Participant List)');\n    }\n  }\n\n  @tracking\n  private _callControlClickParticipantArea(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes\n        .callControlClickParticipantAreaClickTrack === action.type\n    ) {\n      this.track('Click Participant Area (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor &&\n      this._callMonitor.actionTypes.callsOnHoldClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (Calls OnHold)');\n    }\n  }\n\n  private _getTrackTarget(path: string): TrackTarget {\n    if (!path) {\n      return null;\n    }\n\n    const routes = path.split('/');\n    let formatRoute: string = null;\n    const needMatchSecondRoutes = ['calls'];\n    if (routes.length >= 3 && needMatchSecondRoutes.indexOf(routes[1]) !== -1) {\n      formatRoute = `/${routes[1]}/${routes[2]}`;\n    } else if (routes.length > 1) {\n      formatRoute = `/${routes[1]}`;\n    }\n\n    const targets: TrackTarget[] = [\n      {\n        eventPostfix: 'Dialer',\n        router: '/dialer',\n      },\n      {\n        eventPostfix: 'Compose SMS',\n        router: '/composeText',\n      },\n      {\n        eventPostfix: 'Messages',\n        router: '/messages',\n      },\n      {\n        eventPostfix: 'Conversation',\n        router: '/conversations',\n      },\n      {\n        eventPostfix: 'Call History',\n        router: '/history',\n      },\n      {\n        eventPostfix: 'All calls page',\n        router: '/calls',\n      },\n      {\n        eventPostfix: 'Settings',\n        router: '/settings',\n      },\n      {\n        eventPostfix: 'Conference',\n        router: '/conference',\n      },\n      {\n        eventPostfix: 'Meeting',\n        router: '/meeting',\n      },\n      {\n        eventPostfix: 'Contacts',\n        router: '/contacts',\n      },\n      {\n        eventPostfix: 'Call Control',\n        router: '/calls/active',\n      },\n      {\n        eventPostfix: 'Transfer',\n        router: '/transfer',\n      },\n      {\n        eventPostfix: 'Small call control',\n        router: '/simplifycallctrl',\n      },\n      {\n        eventPostfix: 'Flip',\n        router: '/flip',\n      },\n      {\n        eventPostfix: 'Add',\n        router: '/conferenceCall',\n      },\n    ];\n\n    const target = targets.find((target) => formatRoute === target.router);\n    return target;\n  }\n\n  @tracking\n  private _schedule(action: TrackAction) {\n    if (\n      ((this._meeting &&\n        this._meeting.actionTypes.initScheduling === action.type) ||\n        (this._rcVideo &&\n          this._rcVideo.actionTypes.initCreating === action.type)) &&\n      this._routerInteraction\n    ) {\n      const target = this._getTrackTarget(this._routerInteraction.currentPath);\n      if (target) {\n        this.trackSchedule(target);\n      }\n    }\n  }\n\n  get analytics() {\n    return (global as any).analytics;\n  }\n\n  get lastActions(): TrackAction[] {\n    return this.state.lastActions;\n  }\n\n  get status(): string {\n    return this.state.status;\n  }\n\n  get ready(): boolean {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending(): boolean {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get trackProps(): TrackProps {\n    return {\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n      'App Language': this._locale ? this._locale.currentLocale : '',\n      'Browser Language': this._locale ? this._locale.browserLocale : '',\n      'Extension Type': this._extensionInfo\n        ? this._extensionInfo.info.type\n        : '',\n    };\n  }\n}\n"],"file":"Analytics.js"}