{"version":3,"sources":["modules/Analytics/Analytics.ts"],"names":["warn","console","TRACK_LIST","track","tagName","_track","prototype","property","descriptor","value","options","push","funcName","funcImpl","configurable","replace","existActionIndex","findIndex","item","splice","DEFAULT_TAG_NAME","tracking","Analytics","name","deps","dep","optional","analyticsKey","pendoApiKey","appName","appVersion","brandCode","adapter","auth","call","callingSettings","accountInfo","extensionInfo","rolesAndPermissions","callHistory","callMonitor","conference","conferenceCall","contactDetailsUI","messageSender","messageStore","routerInteraction","userGuide","webphone","locale","meeting","rcVideo","dialerUI","useLog","lingerThreshold","callLogSection","activeCallControl","enablePendo","actionTypes","analyticsActionTypes","_analyticsKey","_pendoApiKey","_appName","_appVersion","_brandCode","_adapter","_auth","_call","_callingSettings","_accountInfo","_extensionInfo","_rolesAndPermissions","_callHistory","_callMonitor","_conference","_conferenceCall","_contactDetailsUI","_messageSender","_messageStore","_routerInteraction","_userGuide","_webphone","_locale","_meeting","_rcVideo","_dialerUI","_segment","_pendo","_trackList","_useLog","_logs","_lingerThreshold","_lingerTimeout","_promise","_callLogSection","_activeCallControl","_enablePendo","_waitPendoCount","_pendoTimeout","_reducer","Pendo","init","pendoInstance","userId","props","analytics","identify","companyName","info","contact","company","integrations","All","Mixpanel","_pendoInitialize","id","clearTimeout","setTimeout","initializeFunc","isReady","initialize","updateOptions","pendoAgent","visitor","appBrand","plaBrand","serviceInfo","brand","countryCode","account","event","properties","trackProps","timeStamp","Date","toISOString","blob","Blob","JSON","stringify","type","router","eventPostfix","pending","store","dispatch","load","initSuccess","ready","lastActions","length","_processActions","forEach","action","processAction","clear","trackList","loginSuccess","setUserId","logout","_identify","ownerId","accountId","servicePlanId","servicePlan","edition","CRMEnabled","tierEnabled","connect","callSettingMode","callingModes","connectSuccess","registered","send","sendOver","sendError","createCallLog","createSMSLog","clickToDial","callWith","clickToSMS","viewEntity","createEntity","editCallLog","editSMSLog","locationChange","path","payload","pathname","target","getTrackTarget","trackNavigation","currentPath","trackLinger","callAnswer","isOnTransfer","updateSessions","clickToCall","fromType","removeMessage","markMessages","inviteWithText","updateAdditionalNumbers","joinAsHost","updateCarousel","curIdx","playing","allCallsClickHoldTrack","allCallsClickHangupTrack","callItemClickTrack","callControlClickAddTrack","callControlClickMergeTrack","Object","values","state","mergingPair","mergeControlClickHangupTrack","inboundCallConnectedTrack","outboundCallConnectedTrack","callsOnHoldClickAddTrack","callsOnHoldClickMergeTrack","confirmMergeClickCloseTrack","confirmMergeClickMergeTrack","removeParticipantClickRemoveTrack","removeParticipantClickCancelTrack","participantListClickHangupTrack","callControlClickParticipantAreaClickTrack","callsOnHoldClickHangupTrack","routes","split","formatRoute","needMatchSecondRoutes","indexOf","targets","find","initScheduling","initCreating","trackSchedule","showLogSection","expandNotification","mute","includes","unmute","hold","unhold","transfer","show","hangUp","callingMode","phoneNumber","recipient","global","status","moduleStatuses","currentLocale","browserLocale","RcModule"],"mappings":"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","sourcesContent":["import RouterInteraction from '../../../ringcentral-widgets/modules/RouterInteraction';\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport { Segment, Pendo } from '../../lib/Analytics';\nimport { Module } from '../../lib/di';\nimport RcModule from '../../lib/RcModule';\nimport saveBlob from '../../lib/saveBlob';\nimport sleep from '../../lib/sleep';\nimport callingModes from '../CallingSettings/callingModes';\nimport { ExtensionInfo } from '../ExtensionInfoV2';\nimport { AnalyticsActionTypes, analyticsActionTypes } from './actionTypes';\nimport getAnalyticsReducer from './getAnalyticsReducer';\n\nexport interface TrackProps {\n  appName: string;\n  appVersion: string;\n  brand: string;\n  'App Language': string;\n  'Browser Language': string;\n  'Extension Type': string;\n}\n\nexport interface TrackTarget {\n  eventPostfix: string;\n  router: string;\n}\n\nexport interface TrackPayload {\n  pathname: string;\n}\n\nexport interface TrackAction {\n  type: string;\n  payload?: TrackPayload;\n  curIdx?: number;\n  playing?: boolean;\n  fromType?: string;\n  callSettingMode?: string;\n  phoneNumber?: string;\n  recipient?: any;\n}\n\nexport interface TrackLog {\n  timeStamp: string;\n  event: string;\n  trackProps: TrackProps;\n}\n\nexport interface TrackImpl {\n  (action: TrackAction): void;\n}\n\nexport interface TrackItem {\n  tagName: string;\n  funcName: string;\n  funcImpl: TrackImpl;\n}\n\nexport interface PendoAgent {\n  visitor: {\n    id: string;\n    appName: string;\n    appVersion: string;\n    appBrand: string;\n    plaBrand: string;\n    countryCode?: string;\n    companyName?: string;\n    [key: string]: string;\n  };\n  account: {\n    id: string;\n    [key: string]: string;\n  };\n}\n\nfunction warn() {\n  console.warn('Do NOT call this directly.');\n}\n\nconst TRACK_LIST: TrackItem[] = [];\n\nexport function track(tagName: string) {\n  return function _track(\n    prototype: any,\n    property: string,\n    descriptor: TypedPropertyDescriptor<TrackImpl>,\n  ) {\n    const { value, ...options } = descriptor;\n    if (typeof value === 'function') {\n      TRACK_LIST.push({\n        tagName,\n        funcName: property,\n        funcImpl: value,\n      });\n    }\n    return {\n      ...options,\n      value: warn,\n      configurable: false,\n    };\n  };\n}\n\nexport function replace(\n  prototype: any,\n  property: string,\n  descriptor: TypedPropertyDescriptor<TrackImpl>,\n) {\n  const existActionIndex = TRACK_LIST.findIndex(\n    (item) => property === item.funcName,\n  );\n  existActionIndex !== -1 && TRACK_LIST.splice(existActionIndex, 1);\n}\n\nexport const DEFAULT_TAG_NAME = 'default';\nexport const tracking = track(DEFAULT_TAG_NAME);\n\n// TODO: refactoring the module against `https://docs.google.com/spreadsheets/d/1xufV6-C-RJR6OJgwFYHYzNQwhIdN4BXXCo8ABs7RT-8/edit#gid=1480480736`\n/**\n * @class\n * @description Analytics module.\n */\n@Module({\n  name: 'Analytics',\n  deps: [\n    { dep: 'AnalyticsOptions', optional: true },\n    { dep: 'Adapter', optional: true },\n    { dep: 'Auth', optional: true },\n    { dep: 'Call', optional: true },\n    { dep: 'CallingSettings', optional: true },\n    { dep: 'AccountInfo', optional: true },\n    { dep: 'ExtensionInfo', optional: true },\n    { dep: 'RolesAndPermissions', optional: true },\n    { dep: 'CallHistory', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'Conference', optional: true },\n    { dep: 'ConferenceCall', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'MessageSender', optional: true },\n    { dep: 'MessageStore', optional: true },\n    { dep: 'RouterInteraction', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Locale', optional: true },\n    { dep: 'Meeting', optional: true },\n    { dep: 'RcVideo', optional: true },\n    { dep: 'CallLogSection', optional: true },\n    { dep: 'ActiveCallControl', optional: true },\n    { dep: 'DialerUI', optional: true },\n  ],\n})\nexport class Analytics extends RcModule<\n  Record<string, any>,\n  AnalyticsActionTypes\n> {\n  // TODO: add state interface\n  private _analyticsKey: string;\n  private _pendoApiKey: string;\n  private _appName: string;\n  private _appVersion: string;\n  private _brandCode: string;\n\n  protected _adapter: any;\n  protected _auth: any;\n  protected _call: any;\n  protected _callingSettings: any;\n  protected _accountInfo: any;\n  protected _extensionInfo: ExtensionInfo;\n  protected _rolesAndPermissions: any;\n  protected _callHistory: any;\n  protected _callMonitor: any;\n  protected _conference: any;\n  protected _conferenceCall: any;\n  protected _contactDetailsUI: any;\n  protected _messageSender: any;\n  protected _messageStore: any;\n  protected _routerInteraction: RouterInteraction;\n  protected _userGuide: any;\n  protected _webphone: any;\n  protected _locale: any;\n  protected _meeting: any;\n  protected _rcVideo: any;\n  private _dialerUI: any;\n\n  private _segment: any;\n  private _pendo: any;\n  private _trackList: TrackItem[];\n  private _useLog: boolean;\n  private _logs: TrackLog[] = [];\n  private _lingerThreshold: number;\n\n  private _lingerTimeout?: NodeJS.Timeout = null;\n  private _promise?: Promise<void>;\n  private _callLogSection: any;\n  private _activeCallControl: any;\n  private _enablePendo: boolean;\n  private _waitPendoCount: number;\n  private _pendoTimeout: ReturnType<typeof setTimeout>;\n\n  constructor({\n    // config\n    analyticsKey,\n    pendoApiKey,\n    appName,\n    appVersion,\n    brandCode,\n    // modules\n    adapter,\n    auth,\n    call,\n    callingSettings,\n    accountInfo,\n    extensionInfo,\n    rolesAndPermissions,\n    callHistory,\n    callMonitor,\n    conference,\n    conferenceCall,\n    contactDetailsUI,\n    messageSender,\n    messageStore,\n    routerInteraction,\n    userGuide,\n    webphone,\n    locale,\n    meeting,\n    rcVideo,\n    dialerUI,\n    // settinigs\n    useLog = false,\n    lingerThreshold = 1000,\n    callLogSection,\n    activeCallControl,\n    enablePendo = false,\n    ...options\n  }: Record<string, any>) {\n    // TODO: fix type from new modules based on RcModulesV2\n    super({\n      ...options,\n      actionTypes: analyticsActionTypes,\n    });\n\n    // config\n    this._analyticsKey = analyticsKey;\n    this._pendoApiKey = pendoApiKey;\n    this._appName = appName;\n    this._appVersion = appVersion;\n    this._brandCode = brandCode;\n\n    // modules\n    this._adapter = adapter;\n    this._auth = auth;\n    this._call = call;\n    this._callingSettings = callingSettings;\n    this._accountInfo = accountInfo;\n    this._extensionInfo = extensionInfo;\n    this._rolesAndPermissions = rolesAndPermissions;\n    this._callHistory = callHistory;\n    this._callMonitor = callMonitor;\n    this._conference = conference;\n    this._conferenceCall = conferenceCall;\n    this._contactDetailsUI = contactDetailsUI;\n    this._messageSender = messageSender;\n    this._messageStore = messageStore;\n    this._routerInteraction = routerInteraction;\n    this._userGuide = userGuide;\n    this._webphone = webphone;\n    this._locale = locale;\n    this._meeting = meeting;\n    this._rcVideo = rcVideo;\n    this._callLogSection = callLogSection;\n    this._activeCallControl = activeCallControl;\n    this._dialerUI = dialerUI;\n\n    // init\n    this._reducer = getAnalyticsReducer(this.actionTypes);\n    this._segment = Segment();\n    this._trackList = [...TRACK_LIST];\n    this._useLog = useLog;\n    this._lingerThreshold = lingerThreshold;\n    this._enablePendo = enablePendo;\n    this._pendo = null;\n    this._waitPendoCount = 0;\n    this._pendoTimeout = null;\n    if (this._enablePendo && this._pendoApiKey) {\n      Pendo.init(this._pendoApiKey, (pendoInstance: any) => {\n        this._pendo = pendoInstance;\n      });\n    }\n  }\n\n  protected _identify({\n    userId,\n    ...props\n  }: { userId: string } & Record<string, any>) {\n    if (this.analytics) {\n      this.analytics.identify(\n        userId,\n        {\n          ...props,\n          companyName: this._extensionInfo?.info?.contact?.company,\n        },\n        {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        },\n      );\n    }\n    if (this._enablePendo && this._pendoApiKey) {\n      this._pendoInitialize({ userId, ...props });\n    }\n  }\n\n  protected _pendoInitialize({\n    userId,\n    ...props\n  }: { userId: string } & Record<string, any>) {\n    if (!this._accountInfo || !this._accountInfo.id || !userId) {\n      return;\n    }\n    if (this._pendoTimeout) {\n      clearTimeout(this._pendoTimeout);\n    }\n    if (this._waitPendoCount > 3) {\n      return;\n    }\n    if (!this._pendo) {\n      this._pendoTimeout = setTimeout(() => {\n        this._waitPendoCount += 1;\n        this._pendoInitialize({ userId, ...props });\n      }, 5 * 1000);\n      return;\n    }\n    const initializeFunc = !this._pendo.isReady()\n      ? this._pendo.initialize\n      : this._pendo.updateOptions;\n    const pendoAgent: PendoAgent = {\n      visitor: {\n        id: userId,\n        ...props,\n        companyName: this._extensionInfo?.info?.contact?.company,\n        appName: this._appName,\n        appVersion: this._appVersion,\n        appBrand: this._brandCode,\n        plaBrand: this._accountInfo?.serviceInfo?.brand?.name,\n        countryCode: this._accountInfo?.countryCode,\n      },\n      account: {\n        id: this._accountInfo.id,\n      },\n    };\n    typeof initializeFunc === 'function' &&\n      initializeFunc({\n        ...pendoAgent,\n      });\n  }\n\n  track(event: string, properties: any = {}) {\n    if (!this.analytics) {\n      return;\n    }\n    const trackProps: TrackProps = {\n      ...this.trackProps,\n      ...properties,\n    };\n    this.analytics.track(event, trackProps, {\n      integrations: {\n        All: true,\n        Mixpanel: true,\n      },\n    });\n    if (this._useLog) {\n      this._logs.push({\n        timeStamp: new Date().toISOString(),\n        event,\n        trackProps,\n      });\n    }\n  }\n\n  downloadLogs() {\n    if (!this._useLog) {\n      return;\n    }\n\n    const blob = new Blob([JSON.stringify(this._logs, null, 2)], {\n      type: 'application/json',\n    });\n\n    saveBlob('logs.json', blob);\n  }\n\n  trackNavigation({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: Click/${eventPostfix}`, trackProps);\n  }\n\n  trackLinger({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: View/${eventPostfix}`, trackProps);\n  }\n\n  trackSchedule({ router }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track('Meeting: Click Schedule/Meeting schedule page', trackProps);\n  }\n\n  async _onStateChange() {\n    if (this.pending) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (this._analyticsKey && this._segment) {\n        this._segment.load(this._analyticsKey, {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        });\n      }\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    }\n    if (this.ready && this.lastActions.length && !this._promise) {\n      this._promise = this._processActions();\n    }\n  }\n\n  private async _processActions() {\n    if (this.lastActions.length) {\n      await sleep(300);\n      this.lastActions.forEach((action: TrackAction) => {\n        this.processAction(action);\n      });\n      this.store.dispatch({\n        type: this.actionTypes.clear,\n      });\n      this._promise = null;\n    }\n  }\n\n  processAction(action: TrackAction) {\n    (this.trackList || []).forEach(({ funcImpl }: TrackItem) => {\n      if (typeof funcImpl === 'function') {\n        funcImpl.call(this, action);\n      }\n    });\n  }\n\n  @tracking\n  private _authentication(action: TrackAction) {\n    if (this._auth?.actionTypes.loginSuccess === action.type) {\n      this.setUserId();\n      this.track('Authentication');\n    }\n  }\n\n  @tracking\n  private _logout(action: TrackAction) {\n    if (this._auth?.actionTypes.logout === action.type) {\n      this.track('Logout');\n    }\n  }\n\n  @tracking\n  private _accountInfoReady(action: TrackAction) {\n    if (this._accountInfo?.actionTypes.initSuccess === action.type) {\n      this._identify({\n        userId: this._auth?.ownerId,\n        accountId: this._accountInfo.id,\n        servicePlanId: this._accountInfo.servicePlan.id,\n        edition: this._accountInfo.servicePlan.edition,\n        CRMEnabled: this._rolesAndPermissions?.tierEnabled,\n      });\n    }\n  }\n\n  @tracking\n  private _callAttempt(action: TrackAction) {\n    if (this._call?.actionTypes.connect === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Call Attempt WebRTC');\n      } else {\n        this.track('Call Attempt', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _callConnected(action: TrackAction) {\n    if (this._call?.actionTypes.connectSuccess === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Outbound WebRTC Call Connected');\n      } else {\n        this.track('Outbound Call Connected', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _webRTCRegistration(action: TrackAction) {\n    if (this._webphone?.actionTypes.registered === action.type) {\n      this.track('WebRTC registration');\n    }\n  }\n\n  @tracking\n  private _smsAttempt(action: TrackAction) {\n    if (this._messageSender?.actionTypes.send === action.type) {\n      this.track('SMS Attempt');\n    }\n  }\n\n  @tracking\n  private _smsSentOver(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendOver === action.type) {\n      this.track('SMS: SMS sent successfully');\n    }\n  }\n\n  @tracking\n  private _smsSentError(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendError === action.type) {\n      this.track('SMS: SMS sent failed');\n    }\n  }\n\n  @tracking\n  private _logCall(action: TrackAction) {\n    if (this._adapter?.actionTypes.createCallLog === action.type) {\n      this.track('Log Call');\n    }\n  }\n\n  @tracking\n  private _logSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.createSMSLog === action.type) {\n      this.track('Log SMS');\n    }\n  }\n\n  @tracking\n  private _clickToDial(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToDial === action.type) {\n      this.track('Click To Dial');\n    }\n  }\n\n  @tracking\n  private _clickToDialPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._adapter?.actionTypes.clickToDial === action.type &&\n      action.callSettingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Click to Dial ', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _clickToSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS');\n    }\n  }\n\n  @tracking\n  private _viewEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.viewEntity === action.type) {\n      this.track('View Entity Details');\n    }\n  }\n\n  @tracking\n  private _createEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.createEntity === action.type) {\n      this.track('Add Entity');\n    }\n  }\n\n  @tracking\n  private _editCallLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editCallLog === action.type) {\n      this.track('Edit Call Log');\n    }\n  }\n\n  @tracking\n  private _editSMSLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editSMSLog === action.type) {\n      this.track('Edit SMS Log');\n    }\n  }\n\n  @tracking\n  private _navigate(action: TrackAction) {\n    if (this._routerInteraction?.actionTypes.locationChange === action.type) {\n      const path = action.payload && action.payload.pathname;\n      const target = this.getTrackTarget(path);\n      if (target) {\n        this.trackNavigation(target);\n      }\n\n      if (this._lingerTimeout) {\n        clearTimeout(this._lingerTimeout);\n      }\n      this._lingerTimeout = setTimeout(() => {\n        this._lingerTimeout = null;\n        if (target && this._routerInteraction.currentPath === path) {\n          this.trackLinger(target);\n        }\n      }, this._lingerThreshold);\n    }\n  }\n\n  @tracking\n  private _inboundCall(action: TrackAction) {\n    if (this._webphone?.actionTypes.callAnswer === action.type) {\n      this.track('Inbound WebRTC Call Connected');\n    }\n  }\n\n  @tracking\n  private _coldTransfer(action: TrackAction) {\n    if (\n      this._webphone?.isOnTransfer === true &&\n      this._webphone?.actionTypes.updateSessions === action.type\n    ) {\n      this.track('Cold Transfer Call');\n    }\n  }\n\n  @tracking\n  private _textClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      (action.fromType === 'Pager' || action.fromType === 'SMS')\n    ) {\n      this.track('Click To Dial (Text List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      action.fromType === 'VoiceMail'\n    ) {\n      this.track('Click To Dial (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToSMS(action: TrackAction) {\n    if (this._messageStore?.actionTypes.clickToSMS === action.type) {\n      this.track('Click to SMS (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailDelete(action: TrackAction) {\n    if (this._messageStore?.actionTypes.removeMessage === action.type) {\n      this.track('Delete Voicemail');\n    }\n  }\n\n  @tracking\n  private _voicemailFlag(action: TrackAction) {\n    if (this._messageStore?.actionTypes.markMessages === action.type) {\n      this.track('Flag Voicemail');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToDial(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToCall === action.type) {\n      this.track('Click To Dial (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToSMS(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToDial(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToCall === action.type) {\n      this.track('Click To dial (Call History)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToSMS(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Call History)');\n    }\n  }\n\n  @tracking\n  private _conferenceInviteWithText(action: TrackAction) {\n    if (this._conference?.actionTypes.inviteWithText === action.type) {\n      this.track('Invite With Text (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceAddDialInNumber(action: TrackAction) {\n    if (this._conference?.actionTypes.updateAdditionalNumbers === action.type) {\n      this.track('Select Additional Dial-in Number (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceJoinAsHost(action: TrackAction) {\n    if (this._conference?.actionTypes.joinAsHost === action.type) {\n      this.track('Join As Host (Conference)');\n    }\n  }\n\n  @tracking\n  private _showWhatsNew(action: TrackAction) {\n    if (\n      this._userGuide?.actionTypes.updateCarousel === action.type &&\n      action.curIdx === 0 &&\n      action.playing\n    ) {\n      this.track(\"What's New\");\n    }\n  }\n\n  @tracking\n  private _allCallsClickHold(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.allCallsClickHoldTrack === action.type) {\n      this.track('Click Hold (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.allCallsClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsCallItemClick(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.callItemClickTrack === action.type) {\n      this.track('Click Call Item (All Calls)');\n    }\n  }\n\n  @tracking\n  private _callControlClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      !Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.mergeControlClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _inboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.inboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Inbound call connected');\n    }\n  }\n\n  @tracking\n  private _outboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.outboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Outbound RingOut Call connected');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickClose(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickCloseTrack === action.type\n    ) {\n      this.track('Click Close (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickRemove(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickRemoveTrack ===\n      action.type\n    ) {\n      this.track('Click Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickCancel(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickCancelTrack ===\n      action.type\n    ) {\n      this.track('Cancel Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _participantListClickHangup(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.participantListClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Participant List)');\n    }\n  }\n\n  @tracking\n  private _callControlClickParticipantArea(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes\n        .callControlClickParticipantAreaClickTrack === action.type\n    ) {\n      this.track('Click Participant Area (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (Calls OnHold)');\n    }\n  }\n\n  setUserId() {\n    this._identify({\n      userId: this._auth.ownerId,\n    });\n  }\n\n  getTrackTarget(path = this._routerInteraction?.currentPath): TrackTarget {\n    if (!path) {\n      return null;\n    }\n\n    const routes = path.split('/');\n    let formatRoute: string = null;\n    const needMatchSecondRoutes = ['calls'];\n    if (routes.length >= 3 && needMatchSecondRoutes.indexOf(routes[1]) !== -1) {\n      formatRoute = `/${routes[1]}/${routes[2]}`;\n    } else if (routes.length > 1) {\n      formatRoute = `/${routes[1]}`;\n    }\n\n    const targets: TrackTarget[] = [\n      {\n        eventPostfix: 'Dialer',\n        router: '/dialer',\n      },\n      {\n        eventPostfix: 'Compose SMS',\n        router: '/composeText',\n      },\n      {\n        eventPostfix: 'Messages',\n        router: '/messages',\n      },\n      {\n        eventPostfix: 'Conversation',\n        router: '/conversations',\n      },\n      {\n        eventPostfix: 'Call History',\n        router: '/history',\n      },\n      {\n        eventPostfix: 'All calls page',\n        router: '/calls',\n      },\n      {\n        eventPostfix: 'Settings',\n        router: '/settings',\n      },\n      {\n        eventPostfix: 'Conference',\n        router: '/conference',\n      },\n      {\n        eventPostfix: 'Meeting',\n        router: '/meeting',\n      },\n      {\n        eventPostfix: 'Contacts',\n        router: '/contacts',\n      },\n      {\n        eventPostfix: 'Call Control',\n        router: '/calls/active',\n      },\n      {\n        eventPostfix: 'Transfer',\n        router: '/transfer',\n      },\n      {\n        eventPostfix: 'Small call control',\n        router: '/simplifycallctrl',\n      },\n      {\n        eventPostfix: 'Flip',\n        router: '/flip',\n      },\n      {\n        eventPostfix: 'Add',\n        router: '/conferenceCall',\n      },\n    ];\n\n    const target = targets.find((target) => formatRoute === target.router);\n    return target;\n  }\n\n  @tracking\n  private _schedule(action: TrackAction) {\n    if (\n      this._meeting?.actionTypes.initScheduling === action.type ||\n      this._rcVideo?.actionTypes.initCreating === action.type\n    ) {\n      const target = this.getTrackTarget(this._routerInteraction?.currentPath);\n      if (target) {\n        this.trackSchedule(target);\n      }\n    }\n  }\n\n  @tracking\n  private _viewCallLogPage(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.showLogSection === action.type) {\n      this.track('Call Log: View/Call log page');\n    }\n  }\n\n  @tracking\n  private _notificationClickLog(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.expandNotification === action.type) {\n      this.track('Call Log: Click call log/Notification');\n    }\n  }\n\n  @tracking\n  private _muteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.mute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Mute/Small call control');\n    }\n  }\n\n  @tracking\n  private _unmuteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unmute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unmute/Small call control');\n    }\n  }\n\n  @tracking\n  private _holdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.hold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Hold/Small call control');\n    }\n  }\n\n  @tracking\n  private _unholdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unhold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unhold/Small call control');\n    }\n  }\n\n  @tracking\n  private _confirmTransfer(action: TrackAction) {\n    if (this._activeCallControl?.actionTypes.transfer === action.type) {\n      this.track('Call Control: Cold transfer/Transfer page');\n    }\n  }\n\n  @tracking\n  private _muteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.mute === action.type\n    ) {\n      this.track('Call Control: Mute/Call log page');\n    }\n  }\n\n  @tracking\n  private _unmuteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unmute === action.type\n    ) {\n      this.track('Call Control: Unmute/Call log page');\n    }\n  }\n\n  @tracking\n  private _holdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hold === action.type\n    ) {\n      this.track('Call Control: Hold/Call log page');\n    }\n  }\n\n  @tracking\n  private _unholdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unhold === action.type\n    ) {\n      this.track('Call Control: Unhold/Call log page');\n    }\n  }\n\n  @tracking\n  private _hangupOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hangUp === action.type\n    ) {\n      this.track('Call Control: Hang up/Call log page');\n    }\n  }\n\n  @tracking\n  private _smsHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/SMS history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _callHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._callHistory?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Call history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _dialerPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._dialerUI?.actionTypes.call === action.type &&\n      (action.phoneNumber?.length > 0 || action.recipient) &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Dialer', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  get trackList(): TrackItem[] {\n    return this._trackList;\n  }\n\n  get analytics() {\n    return (global as any).analytics;\n  }\n\n  get lastActions(): TrackAction[] {\n    return this.state.lastActions;\n  }\n\n  get status(): string {\n    return this.state.status;\n  }\n\n  get ready(): boolean {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending(): boolean {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get trackProps(): TrackProps {\n    return {\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n      'App Language': this._locale?.currentLocale || '',\n      'Browser Language': this._locale?.browserLocale || '',\n      'Extension Type': this._extensionInfo?.info.type || '',\n    };\n  }\n}\n"],"file":"Analytics.js"}