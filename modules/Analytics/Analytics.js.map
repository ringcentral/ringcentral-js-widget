{"version":3,"sources":["modules/Analytics/Analytics.ts"],"names":["warn","console","TRACK_LIST","track","tagName","_track","prototype","property","descriptor","value","options","push","funcName","funcImpl","configurable","replace","existActionIndex","findIndex","item","splice","DEFAULT_TAG_NAME","tracking","Analytics","name","deps","dep","optional","analyticsKey","pendoApiKey","appName","appVersion","brandCode","adapter","auth","call","callingSettings","accountInfo","extensionInfo","rolesAndPermissions","callHistory","callMonitor","conference","conferenceCall","contactDetailsUI","messageSender","messageStore","routerInteraction","userGuide","webphone","locale","meeting","rcVideo","dialerUI","useLog","lingerThreshold","callLogSection","activeCallControl","enablePendo","env","actionTypes","analyticsActionTypes","_analyticsKey","_pendoApiKey","_appName","_appVersion","_brandCode","_adapter","_auth","_call","_callingSettings","_accountInfo","_extensionInfo","_rolesAndPermissions","_callHistory","_callMonitor","_conference","_conferenceCall","_contactDetailsUI","_messageSender","_messageStore","_routerInteraction","_userGuide","_webphone","_locale","_meeting","_rcVideo","_dialerUI","_segment","_pendo","_trackList","_useLog","_logs","_lingerThreshold","_lingerTimeout","_promise","_callLogSection","_activeCallControl","_enablePendo","_waitPendoCount","_pendoTimeout","_env","_reducer","Pendo","init","pendoInstance","_identify","userId","props","analytics","identify","companyName","info","contact","company","integrations","All","Mixpanel","_pendoInitialize","id","clearTimeout","setTimeout","initializeFunc","isReady","initialize","updateOptions","pendoAgent","visitor","appBrand","plaBrand","serviceInfo","brand","countryCode","account","event","properties","trackProps","timeStamp","Date","toISOString","blob","Blob","JSON","stringify","type","router","eventPostfix","pending","store","dispatch","load","initSuccess","ready","lastActions","length","_processActions","forEach","action","processAction","clear","trackList","loginSuccess","setUserId","logout","ownerId","accountId","servicePlanId","servicePlan","edition","CRMEnabled","tierEnabled","connect","callSettingMode","callingModes","connectSuccess","registered","send","sendOver","sendError","createCallLog","createSMSLog","clickToDial","callWith","clickToSMS","viewEntity","createEntity","editCallLog","editSMSLog","locationChange","path","payload","pathname","target","getTrackTarget","trackNavigation","currentPath","trackLinger","callAnswer","isOnTransfer","updateSessions","clickToCall","fromType","removeMessage","markMessages","inviteWithText","updateAdditionalNumbers","joinAsHost","updateCarousel","curIdx","playing","allCallsClickHoldTrack","allCallsClickHangupTrack","callItemClickTrack","callControlClickAddTrack","callControlClickMergeTrack","Object","values","state","mergingPair","mergeControlClickHangupTrack","inboundCallConnectedTrack","outboundCallConnectedTrack","callsOnHoldClickAddTrack","callsOnHoldClickMergeTrack","confirmMergeClickCloseTrack","confirmMergeClickMergeTrack","removeParticipantClickRemoveTrack","removeParticipantClickCancelTrack","participantListClickHangupTrack","callControlClickParticipantAreaClickTrack","callsOnHoldClickHangupTrack","routes","split","formatRoute","needMatchSecondRoutes","indexOf","targets","find","initScheduling","initCreating","trackSchedule","showLogSection","expandNotification","mute","includes","unmute","hold","unhold","transfer","show","hangUp","callingMode","phoneNumber","recipient","global","status","moduleStatuses","currentLocale","browserLocale","RcModule"],"mappings":"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","sourcesContent":["import RouterInteraction from '../../../ringcentral-widgets/modules/RouterInteraction';\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport { Segment, Pendo } from '../../lib/Analytics';\nimport { Module } from '../../lib/di';\nimport RcModule from '../../lib/RcModule';\nimport saveBlob from '../../lib/saveBlob';\nimport sleep from '../../lib/sleep';\nimport callingModes from '../CallingSettings/callingModes';\nimport { ExtensionInfo } from '../ExtensionInfoV2';\nimport { AnalyticsActionTypes, analyticsActionTypes } from './actionTypes';\nimport getAnalyticsReducer from './getAnalyticsReducer';\n\nexport interface TrackProps {\n  appName: string;\n  appVersion: string;\n  brand: string;\n  'App Language': string;\n  'Browser Language': string;\n  'Extension Type': string;\n}\n\nexport interface TrackTarget {\n  eventPostfix: string;\n  router: string;\n}\n\nexport interface TrackPayload {\n  pathname: string;\n}\n\nexport interface TrackAction {\n  type: string;\n  payload?: TrackPayload;\n  curIdx?: number;\n  playing?: boolean;\n  fromType?: string;\n  callSettingMode?: string;\n  phoneNumber?: string;\n  recipient?: any;\n}\n\nexport interface TrackLog {\n  timeStamp: string;\n  event: string;\n  trackProps: TrackProps;\n}\n\nexport interface TrackImpl {\n  (action: TrackAction): void;\n}\n\nexport interface TrackItem {\n  tagName: string;\n  funcName: string;\n  funcImpl: TrackImpl;\n}\n\nexport interface PendoAgent {\n  visitor: {\n    id: string;\n    appName: string;\n    appVersion: string;\n    appBrand: string;\n    plaBrand: string;\n    countryCode?: string;\n    companyName?: string;\n    [key: string]: string;\n  };\n  account: {\n    id: string;\n    [key: string]: string;\n  };\n}\n\ninterface IdentifyOptions {\n  userId: string;\n  [K: string]: any;\n}\n\nfunction warn() {\n  console.warn('Do NOT call this directly.');\n}\n\nconst TRACK_LIST: TrackItem[] = [];\n\nexport function track(tagName: string) {\n  return function _track(\n    prototype: any,\n    property: string,\n    descriptor: TypedPropertyDescriptor<TrackImpl>,\n  ) {\n    const { value, ...options } = descriptor;\n    if (typeof value === 'function') {\n      TRACK_LIST.push({\n        tagName,\n        funcName: property,\n        funcImpl: value,\n      });\n    }\n    return {\n      ...options,\n      value: warn,\n      configurable: false,\n    };\n  };\n}\n\nexport function replace(\n  prototype: any,\n  property: string,\n  descriptor: TypedPropertyDescriptor<TrackImpl>,\n) {\n  const existActionIndex = TRACK_LIST.findIndex(\n    (item) => property === item.funcName,\n  );\n  existActionIndex !== -1 && TRACK_LIST.splice(existActionIndex, 1);\n}\n\nexport const DEFAULT_TAG_NAME = 'default';\nexport const tracking = track(DEFAULT_TAG_NAME);\n\n// TODO: refactoring the module against `https://docs.google.com/spreadsheets/d/1xufV6-C-RJR6OJgwFYHYzNQwhIdN4BXXCo8ABs7RT-8/edit#gid=1480480736`\n/**\n * @class\n * @description Analytics module.\n */\n@Module({\n  name: 'Analytics',\n  deps: [\n    { dep: 'AnalyticsOptions', optional: true },\n    { dep: 'Adapter', optional: true },\n    { dep: 'Auth', optional: true },\n    { dep: 'Call', optional: true },\n    { dep: 'CallingSettings', optional: true },\n    { dep: 'AccountInfo', optional: true },\n    { dep: 'ExtensionInfo', optional: true },\n    { dep: 'RolesAndPermissions', optional: true },\n    { dep: 'CallHistory', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'Conference', optional: true },\n    { dep: 'ConferenceCall', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'MessageSender', optional: true },\n    { dep: 'MessageStore', optional: true },\n    { dep: 'RouterInteraction', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Locale', optional: true },\n    { dep: 'Meeting', optional: true },\n    { dep: 'RcVideo', optional: true },\n    { dep: 'CallLogSection', optional: true },\n    { dep: 'ActiveCallControl', optional: true },\n    { dep: 'DialerUI', optional: true },\n  ],\n})\nexport class Analytics extends RcModule<\n  Record<string, any>,\n  AnalyticsActionTypes\n> {\n  // TODO: add state interface\n  private _analyticsKey: string;\n  private _pendoApiKey: string;\n  private _appName: string;\n  private _appVersion: string;\n  private _brandCode: string;\n\n  protected _adapter: any;\n  protected _auth: any;\n  protected _call: any;\n  protected _callingSettings: any;\n  protected _accountInfo: any;\n  protected _extensionInfo: ExtensionInfo;\n  protected _rolesAndPermissions: any;\n  protected _callHistory: any;\n  protected _callMonitor: any;\n  protected _conference: any;\n  protected _conferenceCall: any;\n  protected _contactDetailsUI: any;\n  protected _messageSender: any;\n  protected _messageStore: any;\n  protected _routerInteraction: RouterInteraction;\n  protected _userGuide: any;\n  protected _webphone: any;\n  protected _locale: any;\n  protected _meeting: any;\n  protected _rcVideo: any;\n  private _dialerUI: any;\n\n  private _segment: any;\n  private _pendo: any;\n  private _trackList: TrackItem[];\n  private _useLog: boolean;\n  private _logs: TrackLog[] = [];\n  private _lingerThreshold: number;\n\n  private _lingerTimeout?: NodeJS.Timeout = null;\n  private _promise?: Promise<void>;\n  private _callLogSection: any;\n  private _activeCallControl: any;\n  private _enablePendo: boolean;\n  private _waitPendoCount: number;\n  private _pendoTimeout: ReturnType<typeof setTimeout>;\n  private _env: string;\n\n  constructor({\n    // config\n    analyticsKey,\n    pendoApiKey,\n    appName,\n    appVersion,\n    brandCode,\n    // modules\n    adapter,\n    auth,\n    call,\n    callingSettings,\n    accountInfo,\n    extensionInfo,\n    rolesAndPermissions,\n    callHistory,\n    callMonitor,\n    conference,\n    conferenceCall,\n    contactDetailsUI,\n    messageSender,\n    messageStore,\n    routerInteraction,\n    userGuide,\n    webphone,\n    locale,\n    meeting,\n    rcVideo,\n    dialerUI,\n    // settinigs\n    useLog = false,\n    lingerThreshold = 1000,\n    callLogSection,\n    activeCallControl,\n    enablePendo = false,\n    env = 'dev',\n    ...options\n  }: Record<string, any>) {\n    // TODO: fix type from new modules based on RcModulesV2\n    super({\n      ...options,\n      actionTypes: analyticsActionTypes,\n    });\n\n    // config\n    this._analyticsKey = analyticsKey;\n    this._pendoApiKey = pendoApiKey;\n    this._appName = appName;\n    this._appVersion = appVersion;\n    this._brandCode = brandCode;\n\n    // modules\n    this._adapter = adapter;\n    this._auth = auth;\n    this._call = call;\n    this._callingSettings = callingSettings;\n    this._accountInfo = accountInfo;\n    this._extensionInfo = extensionInfo;\n    this._rolesAndPermissions = rolesAndPermissions;\n    this._callHistory = callHistory;\n    this._callMonitor = callMonitor;\n    this._conference = conference;\n    this._conferenceCall = conferenceCall;\n    this._contactDetailsUI = contactDetailsUI;\n    this._messageSender = messageSender;\n    this._messageStore = messageStore;\n    this._routerInteraction = routerInteraction;\n    this._userGuide = userGuide;\n    this._webphone = webphone;\n    this._locale = locale;\n    this._meeting = meeting;\n    this._rcVideo = rcVideo;\n    this._callLogSection = callLogSection;\n    this._activeCallControl = activeCallControl;\n    this._dialerUI = dialerUI;\n\n    // init\n    this._reducer = getAnalyticsReducer(this.actionTypes);\n    this._segment = Segment();\n    this._trackList = [...TRACK_LIST];\n    this._useLog = useLog;\n    this._lingerThreshold = lingerThreshold;\n    this._enablePendo = enablePendo;\n    this._pendo = null;\n    this._waitPendoCount = 0;\n    this._pendoTimeout = null;\n    this._env = env;\n    if (this._enablePendo && this._pendoApiKey) {\n      Pendo.init(this._pendoApiKey, (pendoInstance: any) => {\n        this._pendo = pendoInstance;\n      });\n    }\n  }\n\n  identify(options: IdentifyOptions) {\n    this._identify(options);\n  }\n\n  protected _identify({ userId, ...props }: IdentifyOptions) {\n    if (this.analytics) {\n      this.analytics.identify(\n        userId,\n        {\n          ...props,\n          companyName: this._extensionInfo?.info?.contact?.company,\n        },\n        {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        },\n      );\n    }\n    if (this._enablePendo && this._pendoApiKey) {\n      this._pendoInitialize({ userId, ...props, env: this._env });\n    }\n  }\n\n  protected _pendoInitialize({\n    userId,\n    ...props\n  }: { userId: string } & Record<string, any>) {\n    if (!this._accountInfo || !this._accountInfo.id || !userId) {\n      return;\n    }\n    if (this._pendoTimeout) {\n      clearTimeout(this._pendoTimeout);\n    }\n    if (this._waitPendoCount > 3) {\n      return;\n    }\n    if (!this._pendo) {\n      this._pendoTimeout = setTimeout(() => {\n        this._waitPendoCount += 1;\n        this._pendoInitialize({ userId, ...props });\n      }, 5 * 1000);\n      return;\n    }\n    const initializeFunc = !this._pendo.isReady()\n      ? this._pendo.initialize\n      : this._pendo.updateOptions;\n    const pendoAgent: PendoAgent = {\n      visitor: {\n        id: userId,\n        ...props,\n        companyName: this._extensionInfo?.info?.contact?.company,\n        appName: this._appName,\n        appVersion: this._appVersion,\n        appBrand: this._brandCode,\n        plaBrand: this._accountInfo?.serviceInfo?.brand?.name,\n        countryCode: this._accountInfo?.countryCode,\n      },\n      account: {\n        id: this._accountInfo.id,\n      },\n    };\n    typeof initializeFunc === 'function' &&\n      initializeFunc({\n        ...pendoAgent,\n      });\n  }\n\n  track(event: string, properties: any = {}) {\n    if (!this.analytics) {\n      return;\n    }\n    const trackProps: TrackProps = {\n      ...this.trackProps,\n      ...properties,\n    };\n    this.analytics.track(event, trackProps, {\n      integrations: {\n        All: true,\n        Mixpanel: true,\n      },\n    });\n    if (this._useLog) {\n      this._logs.push({\n        timeStamp: new Date().toISOString(),\n        event,\n        trackProps,\n      });\n    }\n  }\n\n  downloadLogs() {\n    if (!this._useLog) {\n      return;\n    }\n\n    const blob = new Blob([JSON.stringify(this._logs, null, 2)], {\n      type: 'application/json',\n    });\n\n    saveBlob('logs.json', blob);\n  }\n\n  trackNavigation({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: Click/${eventPostfix}`, trackProps);\n  }\n\n  trackLinger({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: View/${eventPostfix}`, trackProps);\n  }\n\n  trackSchedule({ router }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track('Meeting: Click Schedule/Meeting schedule page', trackProps);\n  }\n\n  async _onStateChange() {\n    if (this.pending) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (this._analyticsKey && this._segment) {\n        this._segment.load(this._analyticsKey, {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        });\n      }\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    }\n    if (this.ready && this.lastActions.length && !this._promise) {\n      this._promise = this._processActions();\n    }\n  }\n\n  private async _processActions() {\n    if (this.lastActions.length) {\n      await sleep(300);\n      this.lastActions.forEach((action: TrackAction) => {\n        this.processAction(action);\n      });\n      this.store.dispatch({\n        type: this.actionTypes.clear,\n      });\n      this._promise = null;\n    }\n  }\n\n  processAction(action: TrackAction) {\n    (this.trackList || []).forEach(({ funcImpl }: TrackItem) => {\n      if (typeof funcImpl === 'function') {\n        funcImpl.call(this, action);\n      }\n    });\n  }\n\n  @tracking\n  private _authentication(action: TrackAction) {\n    if (this._auth?.actionTypes.loginSuccess === action.type) {\n      this.setUserId();\n      this.track('Authentication');\n    }\n  }\n\n  @tracking\n  private _logout(action: TrackAction) {\n    if (this._auth?.actionTypes.logout === action.type) {\n      this.track('Logout');\n    }\n  }\n\n  @tracking\n  private _accountInfoReady(action: TrackAction) {\n    if (this._accountInfo?.actionTypes.initSuccess === action.type) {\n      this._identify({\n        userId: this._auth?.ownerId,\n        accountId: this._accountInfo.id,\n        servicePlanId: this._accountInfo.servicePlan.id,\n        edition: this._accountInfo.servicePlan.edition,\n        CRMEnabled: this._rolesAndPermissions?.tierEnabled,\n      });\n    }\n  }\n\n  @tracking\n  private _callAttempt(action: TrackAction) {\n    if (this._call?.actionTypes.connect === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Call Attempt WebRTC');\n      } else {\n        this.track('Call Attempt', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _callConnected(action: TrackAction) {\n    if (this._call?.actionTypes.connectSuccess === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Outbound WebRTC Call Connected');\n      } else {\n        this.track('Outbound Call Connected', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _webRTCRegistration(action: TrackAction) {\n    if (this._webphone?.actionTypes.registered === action.type) {\n      this.track('WebRTC registration');\n    }\n  }\n\n  @tracking\n  private _smsAttempt(action: TrackAction) {\n    if (this._messageSender?.actionTypes.send === action.type) {\n      this.track('SMS Attempt');\n    }\n  }\n\n  @tracking\n  private _smsSentOver(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendOver === action.type) {\n      this.track('SMS: SMS sent successfully');\n    }\n  }\n\n  @tracking\n  private _smsSentError(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendError === action.type) {\n      this.track('SMS: SMS sent failed');\n    }\n  }\n\n  @tracking\n  private _logCall(action: TrackAction) {\n    if (this._adapter?.actionTypes.createCallLog === action.type) {\n      this.track('Log Call');\n    }\n  }\n\n  @tracking\n  private _logSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.createSMSLog === action.type) {\n      this.track('Log SMS');\n    }\n  }\n\n  @tracking\n  private _clickToDial(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToDial === action.type) {\n      this.track('Click To Dial');\n    }\n  }\n\n  @tracking\n  private _clickToDialPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._adapter?.actionTypes.clickToDial === action.type &&\n      action.callSettingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Click to Dial ', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _clickToSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS');\n    }\n  }\n\n  @tracking\n  private _viewEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.viewEntity === action.type) {\n      this.track('View Entity Details');\n    }\n  }\n\n  @tracking\n  private _createEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.createEntity === action.type) {\n      this.track('Add Entity');\n    }\n  }\n\n  @tracking\n  private _editCallLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editCallLog === action.type) {\n      this.track('Edit Call Log');\n    }\n  }\n\n  @tracking\n  private _editSMSLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editSMSLog === action.type) {\n      this.track('Edit SMS Log');\n    }\n  }\n\n  @tracking\n  private _navigate(action: TrackAction) {\n    if (this._routerInteraction?.actionTypes.locationChange === action.type) {\n      const path = action.payload && action.payload.pathname;\n      const target = this.getTrackTarget(path);\n      if (target) {\n        this.trackNavigation(target);\n      }\n\n      if (this._lingerTimeout) {\n        clearTimeout(this._lingerTimeout);\n      }\n      this._lingerTimeout = setTimeout(() => {\n        this._lingerTimeout = null;\n        if (target && this._routerInteraction.currentPath === path) {\n          this.trackLinger(target);\n        }\n      }, this._lingerThreshold);\n    }\n  }\n\n  @tracking\n  private _inboundCall(action: TrackAction) {\n    if (this._webphone?.actionTypes.callAnswer === action.type) {\n      this.track('Inbound WebRTC Call Connected');\n    }\n  }\n\n  @tracking\n  private _coldTransfer(action: TrackAction) {\n    if (\n      this._webphone?.isOnTransfer === true &&\n      this._webphone?.actionTypes.updateSessions === action.type\n    ) {\n      this.track('Cold Transfer Call');\n    }\n  }\n\n  @tracking\n  private _textClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      (action.fromType === 'Pager' || action.fromType === 'SMS')\n    ) {\n      this.track('Click To Dial (Text List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      action.fromType === 'VoiceMail'\n    ) {\n      this.track('Click To Dial (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToSMS(action: TrackAction) {\n    if (this._messageStore?.actionTypes.clickToSMS === action.type) {\n      this.track('Click to SMS (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailDelete(action: TrackAction) {\n    if (this._messageStore?.actionTypes.removeMessage === action.type) {\n      this.track('Delete Voicemail');\n    }\n  }\n\n  @tracking\n  private _voicemailFlag(action: TrackAction) {\n    if (this._messageStore?.actionTypes.markMessages === action.type) {\n      this.track('Flag Voicemail');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToDial(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToCall === action.type) {\n      this.track('Click To Dial (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToSMS(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToDial(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToCall === action.type) {\n      this.track('Click To dial (Call History)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToSMS(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Call History)');\n    }\n  }\n\n  @tracking\n  private _conferenceInviteWithText(action: TrackAction) {\n    if (this._conference?.actionTypes.inviteWithText === action.type) {\n      this.track('Invite With Text (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceAddDialInNumber(action: TrackAction) {\n    if (this._conference?.actionTypes.updateAdditionalNumbers === action.type) {\n      this.track('Select Additional Dial-in Number (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceJoinAsHost(action: TrackAction) {\n    if (this._conference?.actionTypes.joinAsHost === action.type) {\n      this.track('Join As Host (Conference)');\n    }\n  }\n\n  @tracking\n  private _showWhatsNew(action: TrackAction) {\n    if (\n      this._userGuide?.actionTypes.updateCarousel === action.type &&\n      action.curIdx === 0 &&\n      action.playing\n    ) {\n      this.track(\"What's New\");\n    }\n  }\n\n  @tracking\n  private _allCallsClickHold(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.allCallsClickHoldTrack === action.type) {\n      this.track('Click Hold (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.allCallsClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsCallItemClick(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.callItemClickTrack === action.type) {\n      this.track('Click Call Item (All Calls)');\n    }\n  }\n\n  @tracking\n  private _callControlClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      !Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.mergeControlClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _inboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.inboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Inbound call connected');\n    }\n  }\n\n  @tracking\n  private _outboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.outboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Outbound RingOut Call connected');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickClose(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickCloseTrack === action.type\n    ) {\n      this.track('Click Close (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickRemove(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickRemoveTrack ===\n      action.type\n    ) {\n      this.track('Click Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickCancel(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickCancelTrack ===\n      action.type\n    ) {\n      this.track('Cancel Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _participantListClickHangup(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.participantListClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Participant List)');\n    }\n  }\n\n  @tracking\n  private _callControlClickParticipantArea(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes\n        .callControlClickParticipantAreaClickTrack === action.type\n    ) {\n      this.track('Click Participant Area (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (Calls OnHold)');\n    }\n  }\n\n  setUserId() {\n    this._identify({\n      userId: this._auth.ownerId,\n    });\n  }\n\n  getTrackTarget(path = this._routerInteraction?.currentPath): TrackTarget {\n    if (!path) {\n      return null;\n    }\n\n    const routes = path.split('/');\n    let formatRoute: string = null;\n    const needMatchSecondRoutes = ['calls'];\n    if (routes.length >= 3 && needMatchSecondRoutes.indexOf(routes[1]) !== -1) {\n      formatRoute = `/${routes[1]}/${routes[2]}`;\n    } else if (routes.length > 1) {\n      formatRoute = `/${routes[1]}`;\n    }\n\n    const targets: TrackTarget[] = [\n      {\n        eventPostfix: 'Dialer',\n        router: '/dialer',\n      },\n      {\n        eventPostfix: 'Compose SMS',\n        router: '/composeText',\n      },\n      {\n        eventPostfix: 'Messages',\n        router: '/messages',\n      },\n      {\n        eventPostfix: 'Conversation',\n        router: '/conversations',\n      },\n      {\n        eventPostfix: 'Call History',\n        router: '/history',\n      },\n      {\n        eventPostfix: 'All calls page',\n        router: '/calls',\n      },\n      {\n        eventPostfix: 'Settings',\n        router: '/settings',\n      },\n      {\n        eventPostfix: 'Conference',\n        router: '/conference',\n      },\n      {\n        eventPostfix: 'Meeting',\n        router: '/meeting',\n      },\n      {\n        eventPostfix: 'Contacts',\n        router: '/contacts',\n      },\n      {\n        eventPostfix: 'Call Control',\n        router: '/calls/active',\n      },\n      {\n        eventPostfix: 'Transfer',\n        router: '/transfer',\n      },\n      {\n        eventPostfix: 'Small call control',\n        router: '/simplifycallctrl',\n      },\n      {\n        eventPostfix: 'Flip',\n        router: '/flip',\n      },\n      {\n        eventPostfix: 'Add',\n        router: '/conferenceCall',\n      },\n    ];\n\n    const target = targets.find((target) => formatRoute === target.router);\n    return target;\n  }\n\n  @tracking\n  private _schedule(action: TrackAction) {\n    if (\n      this._meeting?.actionTypes.initScheduling === action.type ||\n      this._rcVideo?.actionTypes.initCreating === action.type\n    ) {\n      const target = this.getTrackTarget(this._routerInteraction?.currentPath);\n      if (target) {\n        this.trackSchedule(target);\n      }\n    }\n  }\n\n  @tracking\n  private _viewCallLogPage(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.showLogSection === action.type) {\n      this.track('Call Log: View/Call log page');\n    }\n  }\n\n  @tracking\n  private _notificationClickLog(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.expandNotification === action.type) {\n      this.track('Call Log: Click call log/Notification');\n    }\n  }\n\n  @tracking\n  private _muteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.mute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Mute/Small call control');\n    }\n  }\n\n  @tracking\n  private _unmuteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unmute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unmute/Small call control');\n    }\n  }\n\n  @tracking\n  private _holdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.hold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Hold/Small call control');\n    }\n  }\n\n  @tracking\n  private _unholdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unhold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unhold/Small call control');\n    }\n  }\n\n  @tracking\n  private _confirmTransfer(action: TrackAction) {\n    if (this._activeCallControl?.actionTypes.transfer === action.type) {\n      this.track('Call Control: Cold transfer/Transfer page');\n    }\n  }\n\n  @tracking\n  private _muteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.mute === action.type\n    ) {\n      this.track('Call Control: Mute/Call log page');\n    }\n  }\n\n  @tracking\n  private _unmuteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unmute === action.type\n    ) {\n      this.track('Call Control: Unmute/Call log page');\n    }\n  }\n\n  @tracking\n  private _holdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hold === action.type\n    ) {\n      this.track('Call Control: Hold/Call log page');\n    }\n  }\n\n  @tracking\n  private _unholdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unhold === action.type\n    ) {\n      this.track('Call Control: Unhold/Call log page');\n    }\n  }\n\n  @tracking\n  private _hangupOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hangUp === action.type\n    ) {\n      this.track('Call Control: Hang up/Call log page');\n    }\n  }\n\n  @tracking\n  private _smsHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/SMS history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _callHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._callHistory?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Call history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _dialerPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._dialerUI?.actionTypes.call === action.type &&\n      (action.phoneNumber?.length > 0 || action.recipient) &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Dialer', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  get trackList(): TrackItem[] {\n    return this._trackList;\n  }\n\n  get analytics() {\n    return (global as any).analytics;\n  }\n\n  get lastActions(): TrackAction[] {\n    return this.state.lastActions;\n  }\n\n  get status(): string {\n    return this.state.status;\n  }\n\n  get ready(): boolean {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending(): boolean {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get trackProps(): TrackProps {\n    return {\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n      'App Language': this._locale?.currentLocale || '',\n      'Browser Language': this._locale?.browserLocale || '',\n      'Extension Type': this._extensionInfo?.info.type || '',\n    };\n  }\n}\n"],"file":"Analytics.js"}