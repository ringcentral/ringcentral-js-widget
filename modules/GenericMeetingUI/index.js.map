{"version":3,"sources":["modules/GenericMeetingUI/index.ts"],"names":["GenericMeetingUI","name","deps","genericMeeting","locale","rateLimiter","connectivityMonitor","brand","options","_genericMeeting","_locale","_rateLimiter","_connectivityMonitor","_brand","disabled","showWhen","showDuration","openNewWindow","showRecurringMeeting","scheduleButton","datePickerSize","timePickerSize","invalidPassowrd","isRCV","meeting","isMeetingSecret","isMeetingPasswordValid","currentLocale","isScheduling","connectivity","throttling","showSaveAsDefault","isRCM","brandName","personalMeetingId","personalMeeting","shortId","props","schedule","updateMeetingSettings","value","validatePasswordSettings","password","isSecret","meetingInfo","opener","init","RcUIModule"],"mappings":"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","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport Brand from 'ringcentral-integration/modules/Brand';\nimport { RcVMeetingModel } from 'ringcentral-integration/models/rcv.model';\n\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'GenericMeetingUI',\n  deps: [\n    'GenericMeeting',\n    'Locale',\n    'RateLimiter',\n    'ConnectivityMonitor',\n    'Brand',\n  ],\n})\nexport default class GenericMeetingUI extends RcUIModule {\n  _genericMeeting: any;\n  _locale: any;\n  _rateLimiter: any;\n  _connectivityMonitor: any;\n  _brand: Brand;\n\n  constructor({\n    genericMeeting,\n    locale,\n    rateLimiter,\n    connectivityMonitor,\n    brand,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._genericMeeting = genericMeeting;\n    this._locale = locale;\n    this._rateLimiter = rateLimiter;\n    this._connectivityMonitor = connectivityMonitor;\n    this._brand = brand;\n  }\n\n  getUIProps({\n    disabled,\n    showWhen,\n    showDuration,\n    openNewWindow,\n    showRecurringMeeting,\n    scheduleButton,\n    datePickerSize,\n    timePickerSize,\n  }) {\n    const invalidPassowrd =\n      this._genericMeeting.isRCV &&\n      this._genericMeeting.meeting &&\n      this._genericMeeting.meeting.isMeetingSecret &&\n      !this._genericMeeting.meeting.isMeetingPasswordValid;\n    return {\n      datePickerSize,\n      timePickerSize,\n      meeting: this._genericMeeting.meeting || {},\n      currentLocale: this._locale.currentLocale,\n      disabled:\n        disabled ||\n        invalidPassowrd ||\n        this._genericMeeting.isScheduling ||\n        !this._connectivityMonitor.connectivity ||\n        (this._rateLimiter && this._rateLimiter.throttling),\n      showWhen,\n      showDuration,\n      showRecurringMeeting,\n      openNewWindow,\n      showSaveAsDefault: this._genericMeeting.showSaveAsDefault,\n      isRCM: this._genericMeeting.isRCM,\n      isRCV: this._genericMeeting.isRCV,\n      scheduleButton,\n      brandName: this._brand.name,\n      personalMeetingId:\n        this._genericMeeting.personalMeeting &&\n        this._genericMeeting.personalMeeting.shortId,\n    };\n  }\n\n  getUIFunctions(props?: any) {\n    const { schedule } = props;\n    return {\n      // TODO: any is reserved for RcM\n      updateMeetingSettings: (value: RcVMeetingModel | any) =>\n        this._genericMeeting.updateMeetingSettings(value),\n      validatePasswordSettings: (\n        password: string,\n        isSecret: boolean,\n      ): boolean => {\n        return this._genericMeeting.validatePasswordSettings(\n          password,\n          isSecret,\n        );\n      },\n      schedule: async (meetingInfo, opener) => {\n        if (schedule) {\n          await schedule(meetingInfo, opener);\n          return;\n        }\n        await this._genericMeeting.schedule(meetingInfo, {}, opener);\n      },\n      init: () => this._genericMeeting.init(),\n    };\n  }\n}\n"],"file":"index.js"}