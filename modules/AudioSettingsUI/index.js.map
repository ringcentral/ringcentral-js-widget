{"version":3,"sources":["modules/AudioSettingsUI/index.js"],"names":["AudioSettingsUI","name","deps","dep","optional","audioSettings","locale","callingSettings","routerInteraction","webphone","callMonitor","options","_audioSettings","_locale","_callingSettings","_routerInteraction","_webphone","_callMonitor","currentLocale","dialButtonVolume","dialButtonMuted","ringtoneVolume","ringtoneMuted","callVolume","availableInputDevices","inputDeviceId","availableOutputDevices","outputDeviceId","supportDevices","userMedia","isWebRTC","callWith","callingOptions","browser","outputDeviceDisabled","length","inputDeviceDisabled","sessions","useTelephonySession","activeRingCalls","activeOnHoldCalls","activeCurrentCalls","onBackButtonClick","goBack","onSave","data","setData","checkUserMedia","getUserMedia","RcUIModule"],"mappings":"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","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport callingOptions from 'ringcentral-integration/modules/CallingSettings/callingOptions';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'AudioSettingsUI',\n  deps: [\n    'AudioSettings',\n    'Locale',\n    'CallingSettings',\n    'RouterInteraction',\n    { dep: 'Webphone', optional: true },\n    { dep: 'CallMonitor', optional: true },\n  ],\n})\nexport default class AudioSettingsUI extends RcUIModule {\n  constructor({\n    audioSettings,\n    locale,\n    callingSettings,\n    routerInteraction,\n    webphone,\n    callMonitor,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._audioSettings = audioSettings;\n    this._locale = locale;\n    this._callingSettings = callingSettings;\n    this._routerInteraction = routerInteraction;\n    this._webphone = webphone;\n    this._callMonitor = callMonitor;\n  }\n\n  getUIProps() {\n    return {\n      currentLocale: this._locale.currentLocale,\n      dialButtonVolume: this._audioSettings.dialButtonVolume,\n      dialButtonMuted: this._audioSettings.dialButtonMuted,\n      ringtoneVolume: this._audioSettings.ringtoneVolume,\n      ringtoneMuted: this._audioSettings.ringtoneMuted,\n      callVolume: this._audioSettings.callVolume,\n      availableInputDevices: this._audioSettings.availableInputDevices,\n      inputDeviceId: this._audioSettings.inputDeviceId,\n      availableOutputDevices: this._audioSettings.availableOutputDevices,\n      outputDeviceId: this._audioSettings.outputDeviceId,\n      supportDevices: this._audioSettings.supportDevices,\n      userMedia: this._audioSettings.userMedia,\n      isWebRTC: this._callingSettings.callWith === callingOptions.browser,\n      outputDeviceDisabled: !this._audioSettings.availableOutputDevices.length,\n      inputDeviceDisabled: !!(\n        !this._audioSettings.availableInputDevices.length ||\n        (this._webphone && this._webphone.sessions.length > 0) ||\n        (this._callMonitor &&\n          this._callMonitor.useTelephonySession &&\n          this._callMonitor.activeRingCalls.length +\n            this._callMonitor.activeOnHoldCalls.length +\n            this._callMonitor.activeCurrentCalls.length >\n            0)\n      ),\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      onBackButtonClick: () => this._routerInteraction.goBack(),\n      onSave: (data) => this._audioSettings.setData(data),\n      checkUserMedia: () => this._audioSettings.getUserMedia(),\n    };\n  }\n}\n"],"file":"index.js"}