{"version":3,"sources":["modules/LoginUIV2/LoginUI.ts"],"names":["LoginUI","name","deps","options","props","currentLocale","_deps","locale","disabled","oAuth","oAuthReady","rateLimiter","throttling","connectivityMonitor","connectivity","showSpinner","auth","ready","loginStatus","loggingIn","loggingOut","beforeLogout","loggedIn","onLoginButtonClick","openOAuthPage","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAQaA,O,WAJZ,wBAAO;AACNC,EAAAA,IAAI,EAAE,SADA;AAENC,EAAAA,IAAI,EAAE,CAAC,MAAD,EAAS,qBAAT,EAAgC,QAAhC,EAA0C,OAA1C,EAAmD,aAAnD;AAFA,CAAP,C;;;;;AAKC,yBAA6E;AAAA,yBAA/DA,IAA+D;AAAA,QAA/DA,IAA+D,0BAAxD,EAAwD;AAAA,QAAjDC,OAAiD;;AAAA;;AAAA,6BACrE;AACJD,MAAAA,IAAI,kCACCC,OADD,GAECD,IAFD;AADA,KADqE;AAO5E;;;;+BAEUE,K,EAAwB;AACjC;AACEC,QAAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,aADnC;AAEEG,QAAAA,QAAQ,EACN,CAAC,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,UAAlB,IACA,KAAKJ,KAAL,CAAWK,WAAX,CAAuBC,UADvB,IAEA,CAAC,KAAKN,KAAL,CAAWO,mBAAX,CAA+BC,YALpC;AAMEC,QAAAA,WAAW,EACT,CAAC,KAAKT,KAAL,CAAWU,IAAX,CAAgBC,KAAjB,IACA,KAAKX,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYC,SAD5C,IAEA,KAAKb,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYE,UAF5C,IAGA,KAAKd,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYG,YAH5C,IAIA,KAAKf,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYI;AAXhD,SAYKlB,KAZL;AAcD;;;qCAEgB;AAAA;;AACf,aAAO;AACLmB,QAAAA,kBAAkB,EAAE;AAAA,iBAAM,KAAI,CAACjB,KAAL,CAAWG,KAAX,CAAiBe,aAAjB,EAAN;AAAA;AADf,OAAP;AAGD;;;;EA/BkCC,kB","sourcesContent":["import { RcUIModuleV2 } from '@ringcentral-integration/core';\nimport Module from 'ringcentral-integration/lib/di/decorators/module';\nimport loginStatus from 'ringcentral-integration/modules/Auth/loginStatus';\n\nimport { Deps, GetLoginUIProps } from './LoginUI.interface';\n\n@Module({\n  name: 'LoginUI',\n  deps: ['Auth', 'ConnectivityMonitor', 'Locale', 'OAuth', 'RateLimiter'],\n})\nexport class LoginUI<T = {}> extends RcUIModuleV2<Deps & T> {\n  constructor({ deps = {}, ...options }: Deps & { deps: Record<string, any> }) {\n    super({\n      deps: {\n        ...options,\n        ...deps,\n      },\n    });\n  }\n\n  getUIProps(props: GetLoginUIProps) {\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      disabled:\n        !this._deps.oAuth.oAuthReady ||\n        this._deps.rateLimiter.throttling ||\n        !this._deps.connectivityMonitor.connectivity,\n      showSpinner:\n        !this._deps.auth.ready ||\n        this._deps.auth.loginStatus === loginStatus.loggingIn ||\n        this._deps.auth.loginStatus === loginStatus.loggingOut ||\n        this._deps.auth.loginStatus === loginStatus.beforeLogout ||\n        this._deps.auth.loginStatus === loginStatus.loggedIn,\n      ...props,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      onLoginButtonClick: () => this._deps.oAuth.openOAuthPage(),\n    };\n  }\n}\n"],"file":"LoginUI.js"}