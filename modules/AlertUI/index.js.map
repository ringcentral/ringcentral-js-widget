{"version":3,"sources":["modules/AlertUI/index.tsx"],"names":["AlertUI","name","deps","phone","locale","brand","alert","currentLocale","messages","fullName","routerInteraction","rateLimiter","regionSettingsUrl","callingSettingsUrl","getAdditionalRenderer","getRenderer","getDefaultRenderer","additionalRenderer","message","renderer","dismiss","id","onRegionSettingsLinkClick","alertId","push","onCallingSettingsLinkClick","AuthAlert","handleMessage","CallAlert","props","CallingSettingsAlert","RegionSettingsAlert","MessageSenderAlert","MessageStoreAlert","RateExceededAlert","timestamp","_throttleDuration","ConnectivityAlert","WebphoneAlert","MeetingAlert","appName","RolesAndPermissionsAlert","ConferenceAlert","ConferenceCallAlert","AudioSettingsAlert","CallLogAlert","CallControlAlert","undefined","RcUIModule"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Module } from 'ringcentral-integration/lib/di';\n\nimport RcUIModule from '../../lib/RcUIModule';\nimport AuthAlert from '../../components/AuthAlert';\nimport CallAlert from '../../components/CallAlert';\nimport CallingSettingsAlert from '../../components/CallingSettingsAlert';\nimport ConferenceAlert from '../../components/ConferenceAlert';\nimport ConferenceCallAlert from '../../components/ConferenceCallAlert';\nimport ConnectivityAlert from '../../components/ConnectivityAlert';\nimport MeetingAlert from '../../components/MeetingAlert';\nimport MessageSenderAlert from '../../components/MessageSenderAlert';\nimport MessageStoreAlert from '../../components/MessageStoreAlert';\nimport RateExceededAlert from '../../components/RateExceededAlert';\nimport RegionSettingsAlert from '../../components/RegionSettingsAlert';\nimport RolesAndPermissionsAlert from '../../components/RolesAndPermissionsAlert';\nimport WebphoneAlert from '../../components/WebphoneAlert';\nimport AudioSettingsAlert from '../../components/AudioSettingsAlert';\nimport CallLogAlert from '../../components/CallLogAlert';\nimport CallControlAlert from '../../components/CallControlAlert';\n\n@Module({\n  name: 'AlertUI',\n  deps: ['Brand', 'Alert', 'Locale', 'RouterInteraction', 'RateLimiter'],\n})\nexport default class AlertUI extends RcUIModule {\n  getUIProps({ phone: { locale, brand, alert } }) {\n    return {\n      currentLocale: locale.currentLocale,\n      messages: alert.messages,\n      brand: brand.fullName,\n    };\n  }\n\n  getUIFunctions({\n    phone: { alert, brand, routerInteraction, rateLimiter },\n    regionSettingsUrl,\n    callingSettingsUrl,\n    getAdditionalRenderer,\n  }) {\n    const getRenderer = this.getDefaultRenderer(\n      alert,\n      brand,\n      rateLimiter,\n      routerInteraction,\n      regionSettingsUrl,\n      callingSettingsUrl,\n    );\n    const additionalRenderer = getAdditionalRenderer && getAdditionalRenderer();\n    return {\n      getRenderer: (message: any) => {\n        if (additionalRenderer) {\n          const renderer = additionalRenderer(message);\n          if (renderer) return renderer;\n        }\n        return getRenderer(message);\n      },\n      dismiss: (id) => alert.dismiss(id),\n    };\n  }\n\n  getDefaultRenderer(\n    alert,\n    brand,\n    rateLimiter,\n    routerInteraction,\n    regionSettingsUrl,\n    callingSettingsUrl,\n  ) {\n    const onRegionSettingsLinkClick = ({ alertId = 'default' } = {}) => {\n      routerInteraction.push(regionSettingsUrl);\n      if (alertId) {\n        alert.dismiss(alertId);\n      }\n    };\n    const onCallingSettingsLinkClick = () => {\n      routerInteraction.push(callingSettingsUrl);\n    };\n    return (message) => {\n      if (AuthAlert.handleMessage(message)) {\n        return AuthAlert;\n      }\n      if (CallAlert.handleMessage(message)) {\n        return (props) => (\n          <CallAlert\n            {...props}\n            brand={brand}\n            onAreaCodeLinkClick={onRegionSettingsLinkClick}\n          />\n        );\n      }\n      if (CallingSettingsAlert.handleMessage(message)) {\n        return (props) => (\n          <CallingSettingsAlert\n            {...props}\n            brand={brand.fullName}\n            onCallingSettingsLinkClick={onCallingSettingsLinkClick}\n          />\n        );\n      }\n\n      if (RegionSettingsAlert.handleMessage(message)) {\n        return (props) => (\n          <RegionSettingsAlert\n            {...props}\n            onRegionSettingsLinkClick={onRegionSettingsLinkClick}\n          />\n        );\n      }\n\n      if (MessageSenderAlert.handleMessage(message)) {\n        return (props) => (\n          <MessageSenderAlert\n            {...props}\n            brand={brand.fullName}\n            onAreaCodeLink={onRegionSettingsLinkClick}\n          />\n        );\n      }\n\n      if (MessageStoreAlert.handleMessage(message)) {\n        return MessageStoreAlert;\n      }\n\n      if (RateExceededAlert.handleMessage(message)) {\n        return (props) => (\n          <RateExceededAlert\n            {...props}\n            timestamp={rateLimiter.timestamp}\n            duration={rateLimiter._throttleDuration}\n          />\n        );\n      }\n\n      if (ConnectivityAlert.handleMessage(message)) {\n        return ConnectivityAlert;\n      }\n\n      if (WebphoneAlert.handleMessage(message)) {\n        return (props) => <WebphoneAlert {...props} brand={brand} />;\n      }\n      if (MeetingAlert.handleMessage(message)) {\n        return (props) => (\n          <MeetingAlert {...props} application={brand.appName} />\n        );\n      }\n      if (RolesAndPermissionsAlert.handleMessage(message)) {\n        return (props) => (\n          <RolesAndPermissionsAlert\n            {...props}\n            brand={brand.fullName}\n            application={brand.appName}\n          />\n        );\n      }\n\n      if (ConferenceAlert.handleMessage(message)) {\n        return ConferenceAlert;\n      }\n\n      if (ConferenceCallAlert.handleMessage(message)) {\n        return ConferenceCallAlert;\n      }\n\n      if (AudioSettingsAlert.handleMessage(message)) {\n        return (props) => (\n          <AudioSettingsAlert {...props} application={brand.appName} />\n        );\n      }\n\n      if (CallLogAlert.handleMessage(message)) {\n        return (props) => <CallLogAlert {...props} />;\n      }\n      if (CallControlAlert.handleMessage(message)) {\n        return (props) => <CallControlAlert {...props} />;\n      }\n\n      return undefined;\n    };\n  }\n}\n"],"file":"index.js"}