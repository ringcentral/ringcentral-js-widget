{"version":3,"sources":["modules/MessageStoreV2/messageStoreHelper.ts"],"names":["getSyncParams","recordCount","conversationLoadLength","dateFrom","dateTo","syncToken","syncType","syncTypes","iSync","params","recordCountPerConversation","fSync","toISOString"],"mappings":";;;;;;;;;;;AAAA;;AAgBO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,OAMD;AAAA,MAL1BC,WAK0B,QAL1BA,WAK0B;AAAA,MAJ1BC,sBAI0B,QAJ1BA,sBAI0B;AAAA,MAH1BC,QAG0B,QAH1BA,QAG0B;AAAA,MAF1BC,MAE0B,QAF1BA,MAE0B;AAAA,MAD1BC,SAC0B,QAD1BA,SAC0B;;AAC1B,MAAIA,SAAJ,EAAe;AACb,WAAO;AACLA,MAAAA,SAAS,EAATA,SADK;AAELC,MAAAA,QAAQ,EAAEC,qBAAUC;AAFf,KAAP;AAID;;AACD,MAAMC,MAAkB,GAAG;AACzBC,IAAAA,0BAA0B,EAAER,sBADH;AAEzBI,IAAAA,QAAQ,EAAEC,qBAAUI;AAFK,GAA3B;;AAIA,MAAIV,WAAJ,EAAiB;AACfQ,IAAAA,MAAM,CAACR,WAAP,GAAqBA,WAArB;AACD;;AACD,MAAIE,QAAJ,EAAc;AACZM,IAAAA,MAAM,CAACN,QAAP,GAAkBA,QAAQ,CAACS,WAAT,EAAlB;AACD;;AACD,MAAIR,MAAJ,EAAY;AACVK,IAAAA,MAAM,CAACL,MAAP,GAAgBA,MAAM,CAACQ,WAAP,EAAhB;AACD;;AACD,SAAOH,MAAP;AACD,CA3BM","sourcesContent":["import { syncTypes } from '../../enums/syncTypes';\nimport { SyncFunctionOptions } from './MessageStore.interface';\n\ntype GetSyncParamsOptions = Pick<\n  SyncFunctionOptions,\n  Exclude<keyof SyncFunctionOptions, 'receivedRecordsLength'>\n>;\n\ninterface SyncParams {\n  syncType: string;\n  recordCountPerConversation: GetSyncParamsOptions['conversationLoadLength'];\n  recordCount?: GetSyncParamsOptions['recordCount'];\n  dateFrom?: string;\n  dateTo?: string;\n}\n\nexport const getSyncParams = ({\n  recordCount,\n  conversationLoadLength,\n  dateFrom,\n  dateTo,\n  syncToken,\n}: GetSyncParamsOptions) => {\n  if (syncToken) {\n    return {\n      syncToken,\n      syncType: syncTypes.iSync,\n    };\n  }\n  const params: SyncParams = {\n    recordCountPerConversation: conversationLoadLength,\n    syncType: syncTypes.fSync,\n  };\n  if (recordCount) {\n    params.recordCount = recordCount;\n  }\n  if (dateFrom) {\n    params.dateFrom = dateFrom.toISOString();\n  }\n  if (dateTo) {\n    params.dateTo = dateTo.toISOString();\n  }\n  return params;\n};\n"],"file":"messageStoreHelper.js"}