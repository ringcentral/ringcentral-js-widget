{"version":3,"sources":["modules/EvActivityCallUI/EvActivityCallUI.ts"],"names":["EvActivityCallUI","name","deps","dep","optional","that","_deps","evTransferCall","allowTransferCall","evRequeueCall","allowRequeueCall","currentEvMainCall","agentRecording","pause","currentEvCall","callId","evCallDisposition","callsMapping","validated","required","locale","currentLocale","dispositionPickList","evCallMonitor","callIds","otherCallIds","callList","isMultipleCalls","evAuth","agentId","console","warn","enableCache","storageKey","isFirstTimeHandled","pickUpDirectly","_stopWatching","goToActivityCallPage","id","routerInteraction","push","goToActivityCallListPage","onCallRinging","activeCallControl","setIsRecording","isDefaultRecord","record","error","message","stopRecord","pauseRecord","_sendTabManager","tabManagerEvents","RECORD_PAUSED","alert","success","messageTypes","resumeRecord","RECORD_RESUME","status","saveStatus","disabled","scrollTo","dispositionId","notes","submit","ready","tabManagerEnabled","tabManager","_checkTabManagerEvent","task","isEvCallDisposition","Object","hasOwnProperty","call","data","setDisposition","gate","gateGroupId","gateId","setStatus","selectedQueueGroupId","selectedGateId","stayOnCall","requeuing","changeTransferType","transferTypes","queue","_redirectTransferCall","type","resetTransferStatus","fetchAgentList","url","evCall","setDialoutStatus","dialoutStatuses","idle","getPageRole","backUrl","reset","activityCallId","pageRoles","activityCallLog","initSaveStatus","tabManagerEventSuccess","CALL_DISPOSITION_SUCCESS","logTypesEventSuccess","logTypes","logTypesEventFailure","CALL_DISPOSITION_FAILURE","callLogCreate","callLogMethods","create","CALL_LOG_CREATE_SUCCESS","CALL_LOG_CREATE_FAILURE","currentPath","indexOf","test","disposeCall","evAgentScript","scriptId","setCurrentCallScript","saveScriptResult","event","_dispositionSuccess","some","key","saveFields","changeFormStatus","_hasError","changeSavingStatus","saving","danger","ttl","saved","setTimeout","goBack","evWorkingState","setIsPendingDisposition","value","send","hangUp","session","sessionId","currentLog","showSmallCallControl","currentEvRawCall","endedCall","callStatus","isInbound","isOnMute","evIntegratedSoftphone","muteActive","isOnHold","isOnActive","isInComingCall","smallCallControlSize","environment","isWide","currentCallControlPermission","disableDispose","disableLinks","disableTransfer","allowTransfer","disableInternalTransfer","allowInternalTransfer","disableHold","allowHoldCall","disableHangup","allowHangupCall","disableMute","evAgentSession","isIntegratedSoftphone","showMuteButton","showRecordCall","allowRecordControl","disableActive","isRecording","disableRecordControl","ivrAlertData","disablePauseRecord","allowPauseRecord","agentScriptData","recordPauseCount","timeStamp","onMute","mute","onUnmute","unmute","onHangup","onReject","reject","onHold","_onHoldOrUnHold","onUnHold","onActive","onRecord","onStopRecord","onPauseRecord","onRestartTimer","onResumeRecord","onUpdateCallLog","_submitData","onCopySuccess","toUpperCase","info","action","goToRequeueCallPage","goToTransferCallPage","transferType","connectivityMonitor","connectivity","rateLimiter","throttling","enable","currentCall","allowHold","allowHangup","outdialDispositions","dispositions","map","item","label","disposition","callDisposition","undefined","callType","dnis","uii","ani","queueDts","fromNumber","toNumber","direction","from","phoneNumber","to","telephonyStatus","telephonySessionId","partyId","startTime","Date","getTime","offset","fromMatches","toMatches","activityMatches","currentSessionId","currentLogCall","isFailed","isAutoSave","isCreated","customLogFields","length","sort","maxLength","onChange","placeholder","i18n","getString","picklistOptions","enableScrollError","helperText","currentDisposition","find","noteRequired","requireNote","isHold","getMainCall","getActiveCallList","getIsAgentScript","onClick","openAgentScriptTab","baggage","i","ivrAlertSubject","ivrAlertBody","subject","body","RcUIModuleV2","storage","state"],"mappings":"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","sourcesContent":["import {\n  action,\n  computed,\n  RcUIModuleV2,\n  state,\n  storage,\n  watch,\n} from '@ringcentral-integration/core';\nimport { keys } from 'ramda';\nimport { Unsubscribe } from 'redux';\nimport { Module } from 'ringcentral-integration/lib/di';\nimport { CallLogPanelProps } from 'ringcentral-widgets/components/CallLogPanel';\n\nimport {\n  dialoutStatuses,\n  EvTransferType,\n  logTypes,\n  MessageTypes,\n  messageTypes,\n  tabManagerEvents,\n  transferTypes,\n} from '../../enums';\nimport {\n  CallLogMethods,\n  callLogMethods,\n  EvActivityCallUIFunctions,\n  EvActivityCallUIProps,\n  EvCurrentLog,\n  SaveStatus,\n  saveStatus,\n} from '../../interfaces/EvActivityCallUI.interface';\nimport {\n  EvAgentScriptData,\n  EvCallData,\n  EvIvrData,\n} from '../../interfaces/EvData.interface';\nimport { EvBaggage } from '../../lib/EvClient';\nimport { ActivityCallUI, Deps } from './EvActivityCallUI.interface';\nimport i18n from './i18n';\n\ntype FormState = {\n  validated?: Partial<EvActivityCallUI['validated']>;\n  required?: Partial<EvActivityCallUI['required']>;\n  disabled?: Partial<EvActivityCallUI['disabled']>;\n};\n\n@Module({\n  name: 'EvActivityCallUI',\n  deps: [\n    'Locale',\n    'Alert',\n    'ActiveCallControl',\n    'EvCallMonitor',\n    'EvCall',\n    'EvAgentScript',\n    'EvRequeueCall',\n    'EvTransferCall',\n    'EvCallDisposition',\n    'EvWorkingState',\n    'EvAgentSession',\n    'EvIntegratedSoftphone',\n    'RouterInteraction',\n    'ConnectivityMonitor',\n    'RateLimiter',\n    'Environment',\n    'Storage',\n    'EvAuth',\n    { dep: 'TabManager', optional: true },\n    { dep: 'EvActivityCallUIOptions', optional: true },\n  ],\n})\nclass EvActivityCallUI<T = {}>\n  extends RcUIModuleV2<Deps & T>\n  implements ActivityCallUI {\n  public isFirstTimeHandled = false;\n\n  /** Is the call pick up directly */\n  pickUpDirectly = true;\n  protected _stopWatching: Unsubscribe = null;\n\n  protected openAgentScriptTab() {\n    console.warn('this should be implement in extend module');\n  }\n\n  constructor(deps: Deps & T) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'EvActivityCallUI',\n    });\n  }\n\n  @storage\n  @state\n  validated = {\n    dispositionId: true,\n    notes: true,\n  };\n\n  @storage\n  @state\n  required = {\n    notes: false,\n  };\n\n  @storage\n  @state\n  disabled: any = {};\n\n  @storage\n  @state\n  saveStatus: SaveStatus | CallLogMethods = saveStatus.submit;\n\n  @storage\n  @state\n  scrollTo: string = null;\n\n  get isDefaultRecord() {\n    return this.agentRecording?.default === 'ON';\n  }\n\n  onInitOnce() {\n    this._deps.evCallMonitor.onCallRinging(() => {\n      this._stopWatching = watch(\n        this,\n        () => this.currentEvMainCall,\n        (currentEvMainCall: EvCallData) => {\n          if (currentEvMainCall) {\n            this._deps.activeCallControl.setIsRecording(this.isDefaultRecord);\n          }\n          this._stopWatching();\n          this._stopWatching = null;\n        },\n      );\n    });\n  }\n\n  async onRecord() {\n    try {\n      await this._deps.activeCallControl.record();\n    } catch (error) {\n      console.error(error?.message);\n    }\n  }\n\n  async onStopRecord() {\n    try {\n      await this._deps.activeCallControl.stopRecord();\n    } catch (error) {\n      console.error(error?.message);\n    }\n  }\n\n  async onPauseRecord() {\n    try {\n      await this._deps.activeCallControl.pauseRecord();\n      this._sendTabManager(tabManagerEvents.RECORD_PAUSED);\n\n      this._deps.alert.success({\n        message: messageTypes.RECORD_PAUSED,\n      });\n    } catch (error) {\n      console.error(error?.message);\n    }\n  }\n\n  async onRestartTimer() {\n    try {\n      await this._deps.activeCallControl.pauseRecord();\n    } catch (error) {\n      console.error(error?.message);\n    }\n  }\n\n  onResumeRecord() {\n    this._deps.activeCallControl.resumeRecord();\n    this._deps.alert.success({\n      message: messageTypes.RECORD_RESUME,\n    });\n  }\n\n  get callId() {\n    return this._deps.evCall.activityCallId;\n  }\n\n  get disableLinks() {\n    return (\n      !this._deps.connectivityMonitor.connectivity ||\n      this._deps.rateLimiter.throttling\n    );\n  }\n\n  get tabManagerEnabled() {\n    return this._deps.tabManager?.enable;\n  }\n\n  get currentEvCall() {\n    return this._deps.evCall.currentCall;\n  }\n\n  // TODO: should check with outbound call\n  get isInComingCall() {\n    return this._deps.evCall.isInbound && !this.pickUpDirectly;\n    // currentSession.callStatus === telephonyStatuses.ringing\n  }\n\n  // transferCall and requeueCall are two parts of transfer menu\n  get allowTransfer() {\n    return (\n      this._deps.evTransferCall.allowTransferCall ||\n      this._deps.evRequeueCall.allowRequeueCall\n    );\n  }\n\n  @computed((that: EvActivityCallUI) => [\n    that._deps.evTransferCall.allowTransferCall,\n    that._deps.evRequeueCall.allowRequeueCall,\n    that.currentEvMainCall,\n    that.agentRecording?.agentRecording,\n    that.agentRecording?.pause,\n  ])\n  get currentCallControlPermission() {\n    return {\n      allowTransferCall: this._deps.evTransferCall.allowTransferCall,\n      allowRequeueCall: this._deps.evRequeueCall.allowRequeueCall,\n      allowHoldCall: this.currentEvMainCall?.allowHold,\n      allowHangupCall: this.currentEvMainCall?.allowHangup,\n      allowRecordControl: this.agentRecording?.agentRecording,\n      allowPauseRecord: typeof this.agentRecording?.pause === 'number',\n    };\n  }\n\n  @computed((that: EvActivityCallUI) => [that.currentEvCall])\n  get dispositionPickList() {\n    return (\n      this.currentEvCall?.outdialDispositions?.dispositions?.map((item) => ({\n        ...item,\n        label: item.disposition,\n        value: item.dispositionId,\n      })) || []\n    );\n  }\n\n  // TODO add `callDisposition` in CallLog\n  @computed((that: EvActivityCallUI) => [\n    that.callId,\n    that.currentEvCall,\n    that._deps.evCallDisposition.callsMapping[that.callId],\n    that.validated,\n    that.required,\n    that._deps.locale.currentLocale,\n    that.dispositionPickList,\n  ])\n  get activityCallLog(): EvCurrentLog {\n    const {\n      callId,\n      currentEvCall: currentCall,\n\n      validated,\n      required,\n    } = this;\n\n    const callDisposition = this._deps.evCallDisposition.callsMapping[\n      this.callId\n    ];\n\n    if (!currentCall) {\n      return undefined;\n    }\n    const { callType, dnis, uii, ani, queueDts, agentId } = currentCall;\n\n    // TODO confirm about  dialDest or dnis?\n    const fromNumber = callType === 'OUTBOUND' ? dnis : ani;\n    // TODO confirm about  dialDest or dnis?\n    const toNumber = callType === 'OUTBOUND' ? ani : dnis;\n    const { dispositionId, notes } = callDisposition || {};\n\n    const dispositionPickList = this.dispositionPickList;\n\n    return {\n      currentEvRawCall: currentCall,\n      // the call which maps for rc component\n      call: {\n        id: uii,\n        direction: callType,\n        from: {\n          phoneNumber: fromNumber,\n          name: fromNumber,\n        },\n        to: {\n          phoneNumber: toNumber,\n          name: toNumber,\n        },\n        telephonyStatus: 'CallConnected', // TODO handle with call state and agent state\n        sessionId: currentCall.session.sessionId,\n        telephonySessionId: uii,\n        partyId: agentId,\n        startTime: new Date(queueDts).getTime(),\n        offset: 0,\n        fromMatches: [],\n        toMatches: [],\n        activityMatches: [],\n      },\n      currentSessionId: callId,\n      // TODO: this will be remove when api can using.\n      currentLogCall: {\n        isFailed: false,\n        isAutoSave: false,\n        isCreated: false,\n        phoneNumber: currentCall.ani,\n      },\n      customLogFields:\n        dispositionPickList.length === 0\n          ? []\n          : [\n              {\n                label: 'Notes',\n                sort: 3,\n                type: 'textarea',\n                value: 'notes',\n                maxLength: 32000,\n                required: required.notes,\n                error: !validated.notes,\n                onChange: (value: string) => {\n                  if (required.notes) {\n                    this.changeFormStatus({ validated: { notes: !!value } });\n                  } else {\n                    this.changeFormStatus({ validated: { notes: true } });\n                  }\n                },\n              },\n              {\n                label: 'Disposition',\n                sort: 5,\n                type: 'picklist',\n                value: 'dispositionId',\n                placeholder: i18n.getString(\n                  'pleaseSelect',\n                  this._deps.locale.currentLocale,\n                ),\n                required: true,\n                picklistOptions: dispositionPickList,\n                enableScrollError: true,\n                error: !validated.dispositionId,\n                helperText: !validated.dispositionId\n                  ? i18n.getString(\n                      'dispositionError',\n                      this._deps.locale.currentLocale,\n                    )\n                  : undefined,\n                onChange: (value: string) => {\n                  const currentDisposition = dispositionPickList.find(\n                    (item) => item.value === value,\n                  );\n\n                  const noteRequired =\n                    currentDisposition && currentDisposition.requireNote;\n\n                  this.changeFormStatus({\n                    validated: {\n                      dispositionId: !!value,\n                      notes: !noteRequired || (noteRequired && !!notes),\n                    },\n                    required: {\n                      notes: noteRequired,\n                    },\n                  });\n                },\n              },\n            ],\n      task: {\n        dispositionId,\n        notes,\n      },\n    };\n  }\n\n  @computed((that: EvActivityCallUI) => [\n    that.currentEvCall,\n    that.currentEvMainCall,\n  ])\n  get callStatus() {\n    let status: EvActivityCallUIProps['status'] = 'active';\n\n    if (this.currentEvCall?.endedCall) {\n      status = 'callEnd';\n    } else if (this.currentEvMainCall?.isHold) {\n      status = 'onHold';\n    }\n    return status;\n  }\n\n  @computed((that: EvActivityCallUI) => [that.currentEvCall])\n  get currentEvMainCall() {\n    return this.currentEvCall\n      ? this._deps.activeCallControl.getMainCall(this.currentEvCall.uii)\n      : null;\n  }\n\n  @computed((that: EvActivityCallUI) => [\n    that.callId,\n    that._deps.evCallMonitor.callIds,\n    that._deps.evCallMonitor.otherCallIds,\n    that._deps.evCallMonitor.callsMapping,\n  ])\n  get callList() {\n    const { callIds, otherCallIds, callsMapping } = this._deps.evCallMonitor;\n\n    return this._deps.evCallMonitor.getActiveCallList(\n      callIds,\n      otherCallIds,\n      callsMapping,\n      this.callId,\n    );\n  }\n\n  @computed((that: EvActivityCallUI) => [that.callList])\n  get isMultipleCalls() {\n    return this.callList.length > 2;\n  }\n\n  @computed((that: EvActivityCallUI) => [\n    that.isMultipleCalls,\n    that.callList,\n    that._deps.evAuth.agentId,\n    that.currentEvMainCall,\n  ])\n  get isOnHold() {\n    const { isMultipleCalls, callList, currentEvMainCall } = this;\n    if (isMultipleCalls) {\n      return !!callList.find(\n        (call) =>\n          !(call.session.agentId === this._deps.evAuth.agentId) &&\n          !!call.isHold,\n      );\n    }\n    return currentEvMainCall?.isHold;\n  }\n\n  @computed((that: EvActivityCallUI) => [that.currentEvCall])\n  get agentScriptData() {\n    const call = this.currentEvCall;\n    let agentScriptData: EvAgentScriptData = null;\n    if (\n      this._deps.environment.isWide &&\n      this._deps.evAgentScript.getIsAgentScript(call)\n    ) {\n      agentScriptData = { onClick: () => this.openAgentScriptTab() };\n    }\n    return agentScriptData;\n  }\n\n  @computed((that: EvActivityCallUI) => [that.currentEvCall])\n  get ivrAlertData() {\n    const call = this.currentEvCall;\n    const ivrAlertData: EvIvrData[] = [];\n\n    if (call?.baggage) {\n      for (let i = 1; i <= 3; i++) {\n        const ivrAlertSubject =\n          call.baggage[`ivrAlertSubject_${i}` as keyof EvBaggage];\n        const ivrAlertBody =\n          call.baggage[`ivrAlertBody_${i}` as keyof EvBaggage];\n        if (ivrAlertSubject || ivrAlertBody)\n          ivrAlertData.push({\n            subject: ivrAlertSubject || '',\n            body: ivrAlertBody || '',\n          });\n      }\n    }\n    return ivrAlertData as EvIvrData[];\n  }\n\n  @action\n  changeSavingStatus(status: SaveStatus | CallLogMethods) {\n    this.saveStatus = status;\n  }\n\n  @action\n  protected changeFormStatus({ validated, required, disabled }: FormState) {\n    if (validated) {\n      this.validated = {\n        ...this.validated,\n        ...validated,\n      };\n    }\n    if (required) {\n      this.required = {\n        ...this.required,\n        ...required,\n      };\n    }\n    if (disabled) {\n      this.disabled = {\n        ...this.disabled,\n        ...disabled,\n      };\n    }\n  }\n\n  @action\n  setScrollTo(id: string) {\n    this.scrollTo = id;\n  }\n\n  @action\n  reset() {\n    this.validated = {\n      dispositionId: true,\n      notes: true,\n    };\n    this.required = {\n      notes: false,\n    };\n    this.disabled = {};\n    this.saveStatus = saveStatus.submit;\n  }\n\n  onStateChange() {\n    if (this.ready && this.tabManagerEnabled && this._deps.tabManager.ready) {\n      this._checkTabManagerEvent();\n    }\n  }\n\n  onUpdateCallLog(\n    { task }: Parameters<CallLogPanelProps['onUpdateCallLog']>[0],\n    id: Parameters<CallLogPanelProps['onUpdateCallLog']>[1],\n  ) {\n    const isEvCallDisposition =\n      Object.hasOwnProperty.call(task, 'dispositionId') ||\n      Object.hasOwnProperty.call(task, 'notes');\n    if (isEvCallDisposition) {\n      const data = {\n        ...this._deps.evCallDisposition.callsMapping[id],\n        ...task,\n      };\n      this._deps.evCallDisposition.setDisposition(id, {\n        dispositionId: data.dispositionId,\n        notes: data.notes,\n      });\n    }\n  }\n\n  goToActivityCallPage = (id: string = this.callId) => {\n    this._deps.routerInteraction.push(`/activityCallLog/${id}`);\n  };\n\n  goToActivityCallListPage = (id: string = this.callId) => {\n    this._deps.routerInteraction.push(`/activityCallLog/${id}/activeCallList`);\n  };\n\n  goToRequeueCallPage() {\n    const { gateGroupId, gateId } = this._deps.evCallMonitor.callsMapping[\n      this.callId\n    ].gate;\n    this._deps.evRequeueCall.setStatus({\n      selectedQueueGroupId: gateGroupId,\n      selectedGateId: gateId,\n      stayOnCall: false,\n      requeuing: false,\n    });\n    this._deps.evTransferCall.changeTransferType(transferTypes.queue);\n    this._redirectTransferCall('/transferCall');\n  }\n\n  goToTransferCallPage(type: EvTransferType) {\n    this._deps.evTransferCall.resetTransferStatus();\n    this._deps.evTransferCall.fetchAgentList();\n    this._redirectTransferCall(`/transferCall/${type}`);\n  }\n\n  private _redirectTransferCall(url: string = '') {\n    this._deps.routerInteraction.push(`/activityCallLog/${this.callId}${url}`);\n  }\n\n  goBack() {\n    // set status to 'idle' in case of EvCallMonitor does not emit ENDED\n    this._deps.evCall.setDialoutStatus(dialoutStatuses.idle);\n\n    const { backUrl } = this.getPageRole();\n    this._deps.routerInteraction.push(backUrl);\n    this.reset();\n    this._deps.evCall.activityCallId = null;\n  }\n\n  private getPageRole(): {\n    initSaveStatus: SaveStatus | CallLogMethods;\n    backUrl: string;\n    tabManagerEventSuccess: string;\n    logTypesEventSuccess: string;\n    logTypesEventFailure: string;\n  } {\n    const pageRoles = {\n      activityCallLog: {\n        initSaveStatus: saveStatus.submit,\n        backUrl: '/dialer',\n        tabManagerEventSuccess: tabManagerEvents.CALL_DISPOSITION_SUCCESS,\n        logTypesEventSuccess: logTypes.CALL_DISPOSITION_SUCCESS,\n        logTypesEventFailure: logTypes.CALL_DISPOSITION_FAILURE,\n      },\n      callLogCreate: {\n        initSaveStatus: callLogMethods.create,\n        backUrl: '/history',\n        tabManagerEventSuccess: tabManagerEvents.CALL_DISPOSITION_SUCCESS,\n        logTypesEventSuccess: logTypes.CALL_LOG_CREATE_SUCCESS,\n        logTypesEventFailure: logTypes.CALL_LOG_CREATE_FAILURE,\n      },\n    };\n\n    const { currentPath } = this._deps.routerInteraction;\n    if (currentPath.indexOf('/activityCallLog') > -1) {\n      return pageRoles.activityCallLog;\n    }\n    if (/^\\/history\\/callLog\\/.*\\/create$/.test(currentPath)) {\n      return pageRoles.callLogCreate;\n    }\n\n    // return activityCallLog by default\n    return pageRoles.activityCallLog;\n  }\n\n  async disposeCall() {\n    this._deps.evCallDisposition.disposeCall(this.callId);\n\n    const { evAgentScript } = this._deps;\n    const call = this.currentEvCall;\n    // evAgentScript.isDisplayAgentScript &&\n    if (call.scriptId) {\n      evAgentScript.setCurrentCallScript(null);\n      evAgentScript.saveScriptResult(call);\n    }\n  }\n\n  private _checkTabManagerEvent() {\n    const { event } = this._deps.tabManager;\n    if (event) {\n      // const data = event.args[0];\n      switch (event.name) {\n        case tabManagerEvents.CALL_DISPOSITION_SUCCESS:\n        case tabManagerEvents.CALL_LOG_CREATE_SUCCESS:\n          this._dispositionSuccess();\n          break;\n        case tabManagerEvents.RECORD_PAUSED:\n          this._deps.alert.success({\n            message: messageTypes.RECORD_PAUSED,\n          });\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  private _hasError() {\n    return keys(this.validated).some((key) => {\n      return !this.validated[key];\n    });\n  }\n\n  private async _submitData(id: string) {\n    try {\n      const saveFields = this._deps.evCallDisposition.callsMapping[id];\n      if (saveFields) {\n        this.changeFormStatus({\n          validated: {\n            dispositionId: !!saveFields.dispositionId,\n            notes:\n              !this.required.notes || (saveFields.notes && this.required.notes),\n          },\n        });\n      }\n\n      if (this._hasError()) {\n        return;\n      }\n      this.changeSavingStatus(saveStatus.saving);\n      await this.disposeCall();\n\n      const { tabManagerEventSuccess } = this.getPageRole();\n      this._sendTabManager(tabManagerEventSuccess);\n      this._dispositionSuccess();\n    } catch (e) {\n      const { logTypesEventFailure, initSaveStatus } = this.getPageRole();\n      this._deps.alert.danger({\n        message: logTypesEventFailure,\n        ttl: 0,\n      });\n      this.changeSavingStatus(initSaveStatus);\n      throw e;\n    }\n  }\n\n  private _dispositionSuccess() {\n    this.changeSavingStatus(saveStatus.saved);\n\n    const { logTypesEventSuccess } = this.getPageRole();\n    this._deps.alert.success({\n      message: logTypesEventSuccess,\n    });\n    // delay for animation with loading ui.\n    setTimeout(() => this.goBack(), 1000);\n\n    this._deps.evWorkingState.setIsPendingDisposition(false);\n  }\n\n  private _onHoldOrUnHold(type: 'hold' | 'unhold') {\n    if (this.isMultipleCalls) {\n      return this.goToActivityCallListPage();\n    }\n    this._deps.activeCallControl[type]();\n  }\n\n  private _sendTabManager(event: string, value?: any) {\n    this._deps.tabManager?.send(event, value);\n  }\n\n  async onHangup() {\n    await this._deps.activeCallControl.hangUp(\n      this.currentEvCall.session.sessionId,\n    );\n    this.changeSavingStatus(saveStatus.submit);\n  }\n\n  get agentRecording() {\n    return this.currentEvMainCall?.agentRecording;\n  }\n\n  getUIProps({ id }: { id: string }): EvActivityCallUIProps {\n    this._deps.evCall.activityCallId = id;\n\n    return {\n      scrollTo: this.scrollTo,\n      currentLog: this.activityCallLog,\n      showSmallCallControl: !this.activityCallLog?.currentEvRawCall?.endedCall,\n      currentLocale: this._deps.locale.currentLocale,\n      currentEvCall: this.currentEvCall,\n      saveStatus: this.saveStatus,\n      status: this.callStatus,\n      isInbound: this._deps.evCall.isInbound,\n      isOnMute: this._deps.evIntegratedSoftphone.muteActive,\n      isOnHold: this.isOnHold,\n      isOnActive: this.isMultipleCalls,\n      isInComingCall: this.isInComingCall,\n      smallCallControlSize: this._deps.environment.isWide ? 'medium' : 'small',\n      currentCallControlPermission: this.currentCallControlPermission,\n      disableDispose:\n        this.disableLinks || this.saveStatus === saveStatus.saving,\n      disableTransfer:\n        this.disableLinks || this.isInComingCall || !this.allowTransfer,\n      disableInternalTransfer:\n        this.disableLinks ||\n        this.isInComingCall ||\n        !this.allowTransfer ||\n        !this._deps.evTransferCall.allowInternalTransfer,\n      disableHold:\n        this.disableLinks ||\n        this.isInComingCall ||\n        !this.currentCallControlPermission.allowHoldCall,\n      disableHangup:\n        this.disableLinks || !this.currentCallControlPermission.allowHangupCall,\n      disableMute:\n        !this._deps.evAgentSession.isIntegratedSoftphone || this.disableLinks,\n      showMuteButton: this._deps.evAgentSession.isIntegratedSoftphone,\n      showRecordCall:\n        this.currentCallControlPermission.allowRecordControl ||\n        this.isDefaultRecord,\n      disableActive: this.disableLinks,\n      isRecording: this._deps.activeCallControl.isRecording,\n      disableRecordControl:\n        this.disableLinks ||\n        !this.currentCallControlPermission.allowRecordControl,\n      ivrAlertData: this.ivrAlertData,\n      disablePauseRecord:\n        this.disableLinks ||\n        !this.currentCallControlPermission.allowPauseRecord,\n      agentScriptData: this.agentScriptData,\n      recordPauseCount: this.agentRecording?.pause,\n      timeStamp: this._deps.activeCallControl.timeStamp,\n    };\n  }\n\n  getUIFunctions(): EvActivityCallUIFunctions {\n    return {\n      goBack: () => this.goBack(),\n      onMute: () => this._deps.activeCallControl.mute(),\n      onUnmute: () => this._deps.activeCallControl.unmute(),\n      onHangup: () => this.onHangup(),\n      onReject: () => this._deps.activeCallControl.reject(),\n      onHold: () => this._onHoldOrUnHold('hold'),\n      onUnHold: () => this._onHoldOrUnHold('unhold'),\n      onActive: () => this.goToActivityCallListPage(),\n      onRecord: () => this.onRecord(),\n      onStopRecord: () => this.onStopRecord(),\n      onPauseRecord: () => this.onPauseRecord(),\n      onRestartTimer: () => this.onRestartTimer(),\n      onResumeRecord: () => this.onResumeRecord(),\n      onUpdateCallLog: (data, id) => this.onUpdateCallLog(data, id),\n      disposeCall: async () => {\n        if (this.saveStatus === saveStatus.saved) {\n          return this.goBack();\n        }\n        await this._submitData(this.callId);\n      },\n      onCopySuccess: (name) => {\n        name = name.toUpperCase();\n        this._deps.alert.info({\n          message: messageTypes[`COPY_${name}_SUCCESS` as MessageTypes],\n          action: '',\n        });\n      },\n      goToRequeueCallPage: () => this.goToRequeueCallPage(),\n      goToTransferCallPage: (transferType: EvTransferType) =>\n        this.goToTransferCallPage(transferType),\n    };\n  }\n}\nexport { EvActivityCallUI };\n"],"file":"EvActivityCallUI.js"}