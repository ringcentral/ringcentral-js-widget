{"version":3,"sources":["modules/ContactDetailsUI/ContactDetailsUI.js"],"names":["DEFAULT_DIALER_ROUTE","DEFAULT_COMPOSETEXT_ROUTE","ContactDetailsUI","name","deps","dep","optional","routerInteraction","contactSearch","contactList","contacts","rolesAndPermissions","rateLimiter","regionSettings","connectivityManager","call","dialerUI","composeText","brand","locale","callingSettings","extensionInfo","composeTextRoute","dialerRoute","options","_routerInteraction","_contactSearch","_contactList","_contacts","_extensionInfo","_rolesAndPermissions","_rateLimiter","_regionSettings","_connectivityManager","_call","_dialerUI","_composeText","_brand","_locale","_callingSettings","_composeTextRoute","_dialerRoute","id","type","direct","contact","getContact","push","getProfileImage","getPresence","filteredContacts","find","x","phoneNumber","recipient","isIdle","store","dispatch","actionTypes","clickToCall","addToNumber","typingToNumber","cleanTypingToNumber","clickToSMS","params","contactId","contactType","currentLocale","isMultipleSiteEnabled","isCallButtonDisabled","isOfflineMode","isWebphoneUnavailableMode","isWebphoneInitializing","throttling","disableLinks","isVoipOnlyMode","showSpinner","ready","formatNumber","cleanedNumber","toString","isE164Number","formattedNumber","countryCode","site","code","siteCode","canTextButtonShow","phoneType","outboundSmsPermission","permissions","OutboundSMS","internalSmsPermission","InternalSMS","isClickToTextEnabled","phoneTypes","fax","extension","canCallButtonShow","isClickToDialEnabled","callingEnabled","onBackClick","goBack","onClickToDial","handleClickToDial","onClickToSMS","handleClickToSMS","ObjectMap","prefixKeys","RcUIModule","proxify"],"mappings":"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","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport {\n  isE164,\n  parseIncompletePhoneNumber,\n} from '@ringcentral-integration/phone-number';\nimport { formatNumber } from 'ringcentral-integration/lib/formatNumber';\nimport proxify from 'ringcentral-integration/lib/proxy/proxify';\nimport { ContactModel } from 'ringcentral-integration/interfaces/Contact.model';\nimport { phoneTypes } from 'ringcentral-integration/enums/phoneTypes';\nimport RcUIModule from '../../lib/RcUIModule';\nimport {\n  ContactDetailsViewProps,\n  ContactDetailsViewFunctionProps,\n} from '../../components/ContactDetailsView/ContactDetailsView.interface';\n\nconst DEFAULT_DIALER_ROUTE = '/dialer';\nconst DEFAULT_COMPOSETEXT_ROUTE = '/composeText';\n\n@Module({\n  name: 'ContactDetailsUI',\n  deps: [\n    'RouterInteraction',\n    'ContactSearch',\n    'Contacts',\n    'ExtensionInfo',\n    'RolesAndPermissions',\n    'RateLimiter',\n    'RegionSettings',\n    'ConnectivityManager',\n    'Call',\n    'DialerUI',\n    'ComposeText',\n    'Brand',\n    'Locale',\n    'CallingSettings',\n    {\n      dep: 'ContactList',\n      optional: true,\n    },\n    {\n      dep: 'ContactDetailsUIOptions',\n      optional: true,\n    },\n  ],\n})\nexport class ContactDetailsUI extends RcUIModule {\n  // for track\n  constructor({\n    routerInteraction,\n    contactSearch,\n    contactList,\n    contacts,\n    rolesAndPermissions,\n    rateLimiter,\n    regionSettings,\n    connectivityManager,\n    call,\n    dialerUI,\n    composeText,\n    brand,\n    locale,\n    callingSettings,\n    extensionInfo,\n    composeTextRoute = DEFAULT_COMPOSETEXT_ROUTE,\n    dialerRoute = DEFAULT_DIALER_ROUTE,\n    ...options\n  }) {\n    super({\n      routerInteraction,\n      contactSearch,\n      contacts,\n      rolesAndPermissions,\n      rateLimiter,\n      regionSettings,\n      connectivityManager,\n      call,\n      dialerUI,\n      composeText,\n      brand,\n      locale,\n      callingSettings,\n      ...options,\n    });\n    this._routerInteraction = routerInteraction;\n    this._contactSearch = contactSearch;\n    this._contactList = contactList;\n    this._contacts = contacts;\n    this._extensionInfo = extensionInfo;\n    this._rolesAndPermissions = rolesAndPermissions;\n    this._rateLimiter = rateLimiter;\n    this._regionSettings = regionSettings;\n    this._connectivityManager = connectivityManager;\n    this._call = call;\n    this._dialerUI = dialerUI;\n    this._composeText = composeText;\n    this._brand = brand;\n    this._locale = locale;\n    this._callingSettings = callingSettings;\n    this._composeTextRoute = composeTextRoute;\n    this._dialerRoute = dialerRoute;\n  }\n\n  get _actionTypes() {\n    return ObjectMap.prefixKeys(\n      [\n        //\n        'clickToSMS',\n        'clickToCall',\n      ],\n      'contactDetails',\n    );\n  }\n\n  @proxify\n  showContactDetails({ id, type, direct = false }) {\n    const contact = this.getContact({ id, type });\n    if (contact) {\n      this._routerInteraction.push(\n        `/contacts/${type}/${id}${direct ? '?direct=true' : ''}`,\n      );\n      this._contacts.getProfileImage(contact, false);\n      this._contacts.getPresence(contact, false);\n    }\n  }\n\n  getContact({ id, type }): ContactModel {\n    let contact;\n    if (this._contactList) {\n      contact = this._contactList.filteredContacts.find(\n        (x) => x.type === type && x.id === id,\n      );\n    }\n    if (!contact) {\n      contact = this._contacts.find({ id, type });\n    }\n    return contact ?? null;\n  }\n\n  @proxify\n  async handleClickToDial(contact, phoneNumber) {\n    const recipient = {\n      ...contact,\n      phoneNumber,\n    };\n    if (this._call.isIdle) {\n      this._routerInteraction.push(this._dialerRoute);\n      this._dialerUI.call({ recipient });\n      this.store.dispatch({\n        type: this.actionTypes.clickToCall,\n      });\n    }\n  }\n\n  @proxify\n  async handleClickToSMS(contact, phoneNumber) {\n    const recipient = {\n      ...contact,\n      phoneNumber,\n    };\n    if (this._routerInteraction) {\n      this._routerInteraction.push(this._composeTextRoute);\n    }\n\n    this._composeText.addToNumber(recipient);\n    if (this._composeText.typingToNumber === recipient.phoneNumber) {\n      this._composeText.cleanTypingToNumber();\n    }\n    // for tracking\n    this.store.dispatch({\n      type: this.actionTypes.clickToSMS,\n    });\n  }\n\n  getUIProps({ params: { contactId, contactType } }): ContactDetailsViewProps {\n    return {\n      currentLocale: this._locale.currentLocale,\n      contact: this.getContact({\n        id: contactId,\n        type: contactType,\n      }),\n      isMultipleSiteEnabled: this._extensionInfo.isMultipleSiteEnabled ?? false,\n      isCallButtonDisabled: !!(\n        this._connectivityManager?.isOfflineMode ||\n        this._connectivityManager?.isWebphoneUnavailableMode ||\n        this._connectivityManager?.isWebphoneInitializing ||\n        this._rateLimiter?.throttling\n      ),\n      disableLinks: !!(\n        this._connectivityManager?.isOfflineMode ||\n        this._connectivityManager?.isVoipOnlyMode ||\n        this._rateLimiter?.throttling\n      ),\n      showSpinner: !(\n        this._locale.ready &&\n        this._contactSearch.ready &&\n        this._rolesAndPermissions.ready\n      ),\n    };\n  }\n\n  getUIFunctions(): ContactDetailsViewFunctionProps {\n    return {\n      formatNumber: (phoneNumber: string = '') => {\n        if (!phoneNumber) {\n          return phoneNumber;\n        }\n        // if the cleaned phone number is not a E164 format\n        // we will show it directly, doesn't format it.\n        const cleanedNumber: string = parseIncompletePhoneNumber(\n          phoneNumber.toString(),\n        );\n        const isE164Number = isE164(cleanedNumber);\n        if (isE164Number) {\n          const formattedNumber: string = formatNumber({\n            phoneNumber,\n            countryCode: this._regionSettings.countryCode,\n          });\n          return formattedNumber;\n        }\n        // if multi-site is enabled then we will try to remove site code with same site\n        if (\n          this._extensionInfo.isMultipleSiteEnabled &&\n          this._extensionInfo.site?.code\n        ) {\n          const formattedNumber: string = formatNumber({\n            phoneNumber,\n            countryCode: this._regionSettings.countryCode,\n            siteCode: this._extensionInfo.site?.code,\n            isMultipleSiteEnabled: this._extensionInfo.isMultipleSiteEnabled,\n          });\n          return formattedNumber;\n        }\n        return phoneNumber;\n      },\n      canTextButtonShow: (phoneType: string) => {\n        const outboundSmsPermission = !!(\n          this._rolesAndPermissions.permissions.OutboundSMS ?? false\n        );\n        const internalSmsPermission = !!(\n          this._rolesAndPermissions.permissions.InternalSMS ?? false\n        );\n        // guess this statement is to avoid exception\n        const isClickToTextEnabled = !!this._composeText;\n        return (\n          isClickToTextEnabled &&\n          phoneType !== phoneTypes.fax &&\n          (phoneType === phoneTypes.extension\n            ? internalSmsPermission\n            : outboundSmsPermission)\n        );\n      },\n      canCallButtonShow: (phoneType: string) => {\n        const isClickToDialEnabled = !!(\n          this._dialerUI &&\n          (this._rolesAndPermissions.callingEnabled ?? false)\n        );\n        return isClickToDialEnabled && phoneType !== phoneTypes.fax;\n      },\n      onBackClick: () => {\n        this._routerInteraction.goBack();\n      },\n      onClickToDial: (contact: ContactModel, phoneNumber: string) =>\n        this.handleClickToDial(contact, phoneNumber),\n      onClickToSMS: (contact: ContactModel, phoneNumber: string) =>\n        this.handleClickToSMS(contact, phoneNumber),\n    };\n  }\n}\n"],"file":"ContactDetailsUI.js"}