{"version":3,"sources":["modules/VideoUI/index.ts"],"names":["VideoUI","name","deps","rcVideo","locale","rateLimiter","connectivityMonitor","brand","options","_locale","_rcVideo","_rateLimiter","_connectivityMonitor","_brand","disabled","currentLocale","meeting","showSaveAsDefault","disableSaveAsDefault","isPreferencesChanged","brandName","isScheduling","connectivity","throttling","schedule","updateMeetingSettings","value","validatePasswordSettings","password","isSecret","invite","meetingInfo","createMeeting","init","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA,O,WAJpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,SADA;AAENC,EAAAA,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,aAAtB,EAAqC,qBAArC,EAA4D,OAA5D;AAFA,CAAP,C;;;;;AAUC,yBAOG;AAAA;;AAAA,QANDC,OAMC,QANDA,OAMC;AAAA,QALDC,MAKC,QALDA,MAKC;AAAA,QAJDC,WAIC,QAJDA,WAIC;AAAA,QAHDC,mBAGC,QAHDA,mBAGC;AAAA,QAFDC,KAEC,QAFDA,KAEC;AAAA,QADEC,OACF;;AAAA;;AACD,gDACKA,OADL;AADC,UAZKC,OAYL;AAAA,UAXKC,QAWL;AAAA,UAVKC,YAUL;AAAA,UATKC,oBASL;AAAA,UARKC,MAQL;AAID,UAAKH,QAAL,GAAgBP,OAAhB;AACA,UAAKM,OAAL,GAAeL,MAAf;AACA,UAAKO,YAAL,GAAoBN,WAApB;AACA,UAAKO,oBAAL,GAA4BN,mBAA5B;AACA,UAAKO,MAAL,GAAcN,KAAd;AARC;AASF;;;;sCAEwB;AAAA,UAAZO,QAAY,SAAZA,QAAY;AACvB,aAAO;AACLC,QAAAA,aAAa,EAAE,KAAKN,OAAL,CAAaM,aADvB;AAELC,QAAAA,OAAO,EAAE,KAAKN,QAAL,CAAcM,OAFlB;AAGLC,QAAAA,iBAAiB,EAAE,KAAKP,QAAL,CAAcO,iBAH5B;AAILC,QAAAA,oBAAoB,EAAE,CAAC,KAAKR,QAAL,CAAcS,oBAJhC;AAKLC,QAAAA,SAAS,EAAE,KAAKP,MAAL,CAAYZ,IALlB;AAMLa,QAAAA,QAAQ,EACN,KAAKJ,QAAL,CAAcW,YAAd,IACAP,QADA,IAEA,CAAC,KAAKF,oBAAL,CAA0BU,YAF3B,IAGC,KAAKX,YAAL,IAAqB,KAAKA,YAAL,CAAkBY;AAVrC,OAAP;AAYD;;;0CAE4B;AAAA;;AAAA,UAAZC,QAAY,SAAZA,QAAY;AAC3B,aAAO;AACLC,QAAAA,qBAAqB,EAAE,+BAACC,KAAD;AAAA,iBACrB,MAAI,CAAChB,QAAL,CAAce,qBAAd,CAAoCC,KAApC,CADqB;AAAA,SADlB;AAGLC,QAAAA,wBAAwB,EAAE,kCACxBC,QADwB,EAExBC,QAFwB,EAGZ;AACZ,iBAAO,MAAI,CAACnB,QAAL,CAAciB,wBAAd,CAAuCC,QAAvC,EAAiDC,QAAjD,CAAP;AACD,SARI;AASLC,QAAAA,MAAM;AAAA,gFAAE,iBAAOC,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA,yBACFP,QADE;AAAA;AAAA;AAAA;;AAAA;AAAA,2BAEEA,QAAQ,CAACO,WAAD,CAFV;;AAAA;AAAA;;AAAA;AAAA;AAAA,2BAKA,MAAI,CAACrB,QAAL,CAAcsB,aAAd,CAA4BD,WAA5B,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,WATD;AAgBLE,QAAAA,IAAI,EAAE,gBAAM;AACV,UAAA,MAAI,CAACvB,QAAL,CAAcuB,IAAd;AACD;AAlBI,OAAP;AAoBD;;;;EA5DkCC,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport Brand from 'ringcentral-integration/modules/Brand';\nimport { RcVideo } from 'ringcentral-integration/modules/RcVideo';\nimport { RcVMeetingModel } from 'ringcentral-integration/models/rcv.model';\n\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'VideoUI',\n  deps: ['RcVideo', 'Locale', 'RateLimiter', 'ConnectivityMonitor', 'Brand'],\n})\nexport default class VideoUI extends RcUIModule {\n  private _locale: any;\n  private _rcVideo: RcVideo;\n  private _rateLimiter: any;\n  private _connectivityMonitor: any;\n  private _brand: Brand;\n  constructor({\n    rcVideo,\n    locale,\n    rateLimiter,\n    connectivityMonitor,\n    brand,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._rcVideo = rcVideo;\n    this._locale = locale;\n    this._rateLimiter = rateLimiter;\n    this._connectivityMonitor = connectivityMonitor;\n    this._brand = brand;\n  }\n\n  getUIProps({ disabled }) {\n    return {\n      currentLocale: this._locale.currentLocale,\n      meeting: this._rcVideo.meeting,\n      showSaveAsDefault: this._rcVideo.showSaveAsDefault,\n      disableSaveAsDefault: !this._rcVideo.isPreferencesChanged,\n      brandName: this._brand.name,\n      disabled:\n        this._rcVideo.isScheduling ||\n        disabled ||\n        !this._connectivityMonitor.connectivity ||\n        (this._rateLimiter && this._rateLimiter.throttling),\n    };\n  }\n\n  getUIFunctions({ schedule }) {\n    return {\n      updateMeetingSettings: (value: RcVMeetingModel) =>\n        this._rcVideo.updateMeetingSettings(value),\n      validatePasswordSettings: (\n        password: string,\n        isSecret: boolean,\n      ): boolean => {\n        return this._rcVideo.validatePasswordSettings(password, isSecret);\n      },\n      invite: async (meetingInfo) => {\n        if (schedule) {\n          await schedule(meetingInfo);\n          return;\n        }\n        await this._rcVideo.createMeeting(meetingInfo);\n      },\n      init: () => {\n        this._rcVideo.init();\n      },\n    };\n  }\n}\n"],"file":"index.js"}