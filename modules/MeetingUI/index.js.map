{"version":3,"sources":["modules/MeetingUI/index.ts"],"names":["MeetingUI","name","deps","meeting","locale","rateLimiter","connectivityMonitor","options","_meeting","_locale","_rateLimiter","_connectivityMonitor","disabled","showWhen","showDuration","showRecurringMeeting","openNewWindow","currentLocale","isScheduling","connectivity","throttling","showSaveAsDefault","disableSaveAsDefault","schedule","update","meetingState","invite","meetingInfo","opener","init","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAMqBA,S,WAJpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,WADA;AAENC,EAAAA,IAAI,EAAE,CAAC,SAAD,EAAY,QAAZ,EAAsB,aAAtB,EAAqC,qBAArC;AAFA,CAAP,C;;;;;AASC,2BAMG;AAAA;;AAAA,QALDC,OAKC,QALDA,OAKC;AAAA,QAJDC,MAIC,QAJDA,MAIC;AAAA,QAHDC,WAGC,QAHDA,WAGC;AAAA,QAFDC,mBAEC,QAFDA,mBAEC;AAAA,QADEC,OACF;;AAAA;;AACD,gDACKA,OADL;AADC,UAVHC,QAUG;AAAA,UATHC,OASG;AAAA,UARHC,YAQG;AAAA,UAPHC,oBAOG;AAID,UAAKH,QAAL,GAAgBL,OAAhB;AACA,UAAKM,OAAL,GAAeL,MAAf;AACA,UAAKM,YAAL,GAAoBL,WAApB;AACA,UAAKM,oBAAL,GAA4BL,mBAA5B;AAPC;AAQF;;;;sCAQE;AAAA,UALDM,QAKC,SALDA,QAKC;AAAA,UAJDC,QAIC,SAJDA,QAIC;AAAA,UAHDC,YAGC,SAHDA,YAGC;AAAA,UAFDC,oBAEC,SAFDA,oBAEC;AAAA,UADDC,aACC,SADDA,aACC;AACD,aAAO;AACLb,QAAAA,OAAO,EAAE,KAAKK,QAAL,CAAcL,OAAd,IAAyB,EAD7B;AAELc,QAAAA,aAAa,EAAE,KAAKR,OAAL,CAAaQ,aAFvB;AAGLL,QAAAA,QAAQ,EACN,KAAKJ,QAAL,CAAcU,YAAd,IACAN,QADA,IAEA,CAAC,KAAKD,oBAAL,CAA0BQ,YAF3B,IAGC,KAAKT,YAAL,IAAqB,KAAKA,YAAL,CAAkBU,UAPrC;AAQLP,QAAAA,QAAQ,EAARA,QARK;AASLC,QAAAA,YAAY,EAAZA,YATK;AAULC,QAAAA,oBAAoB,EAApBA,oBAVK;AAWLC,QAAAA,aAAa,EAAbA,aAXK;AAYLK,QAAAA,iBAAiB,EAAE,KAAKb,QAAL,CAAca,iBAZ5B;AAaL;AACA;AACA;AACAC,QAAAA,oBAAoB,EAAE;AAhBjB,OAAP;AAkBD;;;0CAE4B;AAAA;;AAAA,UAAZC,QAAY,SAAZA,QAAY;AAC3B,aAAO;AACLC,QAAAA,MAAM,EAAE,gBAACC,YAAD;AAAA,iBAAkB,MAAI,CAACjB,QAAL,CAAcgB,MAAd,CAAqBC,YAArB,CAAlB;AAAA,SADH;AAELC,QAAAA,MAAM;AAAA,gFAAE,iBAAOC,WAAP,EAAoBC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA,yBACFL,QADE;AAAA;AAAA;AAAA;;AAAA;AAAA,2BAEEA,QAAQ,CAACI,WAAD,EAAcC,MAAd,CAFV;;AAAA;AAAA;;AAAA;AAAA;AAAA,2BAKA,MAAI,CAACpB,QAAL,CAAce,QAAd,CAAuBI,WAAvB,EAAoC,EAApC,EAAwCC,MAAxC,CALA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,WAFD;AASLC,QAAAA,IAAI,EAAE;AAAA,iBAAM,MAAI,CAACrB,QAAL,CAAcqB,IAAd,EAAN;AAAA;AATD,OAAP;AAWD;;;;EA5DoCC,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'MeetingUI',\n  deps: ['Meeting', 'Locale', 'RateLimiter', 'ConnectivityMonitor'],\n})\nexport default class MeetingUI extends RcUIModule {\n  _meeting: any;\n  _locale: any;\n  _rateLimiter: any;\n  _connectivityMonitor: any;\n  constructor({\n    meeting,\n    locale,\n    rateLimiter,\n    connectivityMonitor,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._meeting = meeting;\n    this._locale = locale;\n    this._rateLimiter = rateLimiter;\n    this._connectivityMonitor = connectivityMonitor;\n  }\n\n  getUIProps({\n    disabled,\n    showWhen,\n    showDuration,\n    showRecurringMeeting,\n    openNewWindow,\n  }) {\n    return {\n      meeting: this._meeting.meeting || {},\n      currentLocale: this._locale.currentLocale,\n      disabled:\n        this._meeting.isScheduling ||\n        disabled ||\n        !this._connectivityMonitor.connectivity ||\n        (this._rateLimiter && this._rateLimiter.throttling),\n      showWhen,\n      showDuration,\n      showRecurringMeeting,\n      openNewWindow,\n      showSaveAsDefault: this._meeting.showSaveAsDefault,\n      // Need to add this back when we back to this ticket\n      // https://jira.ringcentral.com/browse/RCINT-15031\n      // disableSaveAsDefault: !this._meeting.isPreferencesChanged,\n      disableSaveAsDefault: false,\n    };\n  }\n\n  getUIFunctions({ schedule }) {\n    return {\n      update: (meetingState) => this._meeting.update(meetingState),\n      invite: async (meetingInfo, opener) => {\n        if (schedule) {\n          await schedule(meetingInfo, opener);\n          return;\n        }\n        await this._meeting.schedule(meetingInfo, {}, opener);\n      },\n      init: () => this._meeting.init(),\n    };\n  }\n}\n"],"file":"index.js"}